/*! For license information please see 5376cd21d4b15e6c8f36.client.js.LICENSE.txt */
(()=>{var __webpack_modules__={"./src/client/client.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\n__webpack_require__(/*! ./controllers */ "./src/client/controllers/index.ts");\r\n__webpack_require__(/*! ./modules/keys/controller.keys */ "./src/client/modules/keys/controller.keys.ts");\r\n__webpack_require__(/*! ./modules/fuel/controllers */ "./src/client/modules/fuel/controllers/index.ts");\r\n__webpack_require__(/*! ./modules/garages/controller.garages */ "./src/client/modules/garages/controller.garages.ts");\r\n__webpack_require__(/*! ./modules/status/controller.status */ "./src/client/modules/status/controller.status.ts");\r\nsetImmediate(() => {\r\n    // Do something\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L2NsaWVudC50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBTyxDQUFDLHdEQUFlO0FBQ3ZCLG1CQUFPLENBQUMsb0ZBQWdDO0FBQ3hDLG1CQUFPLENBQUMsa0ZBQTRCO0FBQ3BDLG1CQUFPLENBQUMsZ0dBQXNDO0FBQzlDLG1CQUFPLENBQUMsNEZBQW9DO0FBQzVDO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGctdmVoaWNsZXMvLi9zcmMvY2xpZW50L2NsaWVudC50cz8wMTc2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnJlcXVpcmUoXCIuL2NvbnRyb2xsZXJzXCIpO1xyXG5yZXF1aXJlKFwiLi9tb2R1bGVzL2tleXMvY29udHJvbGxlci5rZXlzXCIpO1xyXG5yZXF1aXJlKFwiLi9tb2R1bGVzL2Z1ZWwvY29udHJvbGxlcnNcIik7XHJcbnJlcXVpcmUoXCIuL21vZHVsZXMvZ2FyYWdlcy9jb250cm9sbGVyLmdhcmFnZXNcIik7XHJcbnJlcXVpcmUoXCIuL21vZHVsZXMvc3RhdHVzL2NvbnRyb2xsZXIuc3RhdHVzXCIpO1xyXG5zZXRJbW1lZGlhdGUoKCkgPT4ge1xyXG4gICAgLy8gRG8gc29tZXRoaW5nXHJcbn0pO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/client.ts\n')},"./src/client/controllers/baseevents.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst service_fuel_1 = __webpack_require__(/*! ../modules/fuel/service.fuel */ \"./src/client/modules/fuel/service.fuel.ts\");\r\nconst vehicle_1 = __webpack_require__(/*! ../helpers/vehicle */ \"./src/client/helpers/vehicle.ts\");\r\non('baseevents:enteredVehicle', (vehicle, seat) => {\r\n    (0, vehicle_1.setCurrentVehicle)(vehicle);\r\n    if (seat !== -1)\r\n        return;\r\n    (0, service_fuel_1.startFuelThread)(vehicle);\r\n});\r\non('baseevents:leftVehicle', (vehicle, seat) => {\r\n    if (seat === -1) {\r\n        (0, service_fuel_1.cleanFuelThread)();\r\n    }\r\n    (0, vehicle_1.setCurrentVehicle)(null);\r\n});\r\non('baseevents:vehicleChangedSeat', (vehicle, newSeat, oldSeat) => {\r\n    if (oldSeat === -1) {\r\n        (0, service_fuel_1.cleanFuelThread)();\r\n    }\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L2NvbnRyb2xsZXJzL2Jhc2VldmVudHMudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCLG1CQUFPLENBQUMsK0VBQThCO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLDJEQUFvQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGctdmVoaWNsZXMvLi9zcmMvY2xpZW50L2NvbnRyb2xsZXJzL2Jhc2VldmVudHMudHM/MmM4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBzZXJ2aWNlX2Z1ZWxfMSA9IHJlcXVpcmUoXCIuLi9tb2R1bGVzL2Z1ZWwvc2VydmljZS5mdWVsXCIpO1xyXG5jb25zdCB2ZWhpY2xlXzEgPSByZXF1aXJlKFwiLi4vaGVscGVycy92ZWhpY2xlXCIpO1xyXG5vbignYmFzZWV2ZW50czplbnRlcmVkVmVoaWNsZScsICh2ZWhpY2xlLCBzZWF0KSA9PiB7XHJcbiAgICAoMCwgdmVoaWNsZV8xLnNldEN1cnJlbnRWZWhpY2xlKSh2ZWhpY2xlKTtcclxuICAgIGlmIChzZWF0ICE9PSAtMSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICAoMCwgc2VydmljZV9mdWVsXzEuc3RhcnRGdWVsVGhyZWFkKSh2ZWhpY2xlKTtcclxufSk7XHJcbm9uKCdiYXNlZXZlbnRzOmxlZnRWZWhpY2xlJywgKHZlaGljbGUsIHNlYXQpID0+IHtcclxuICAgIGlmIChzZWF0ID09PSAtMSkge1xyXG4gICAgICAgICgwLCBzZXJ2aWNlX2Z1ZWxfMS5jbGVhbkZ1ZWxUaHJlYWQpKCk7XHJcbiAgICB9XHJcbiAgICAoMCwgdmVoaWNsZV8xLnNldEN1cnJlbnRWZWhpY2xlKShudWxsKTtcclxufSk7XHJcbm9uKCdiYXNlZXZlbnRzOnZlaGljbGVDaGFuZ2VkU2VhdCcsICh2ZWhpY2xlLCBuZXdTZWF0LCBvbGRTZWF0KSA9PiB7XHJcbiAgICBpZiAob2xkU2VhdCA9PT0gLTEpIHtcclxuICAgICAgICAoMCwgc2VydmljZV9mdWVsXzEuY2xlYW5GdWVsVGhyZWFkKSgpO1xyXG4gICAgfVxyXG59KTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/client/controllers/baseevents.ts\n")},"./src/client/controllers/engine.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst engine_1 = __webpack_require__(/*! @helpers/engine */ "./src/client/helpers/engine.ts");\r\nonNet(\'vehicles:setEngineState\', (pVehNetId, state = false) => {\r\n    const vehicle = NetworkGetEntityFromNetworkId(pVehNetId);\r\n    if (!DoesEntityExist(vehicle))\r\n        return;\r\n    (0, engine_1.setEngineState)(vehicle, state);\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L2NvbnRyb2xsZXJzL2VuZ2luZS50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUIsbUJBQU8sQ0FBQyx1REFBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZy12ZWhpY2xlcy8uL3NyYy9jbGllbnQvY29udHJvbGxlcnMvZW5naW5lLnRzPzkyNzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgZW5naW5lXzEgPSByZXF1aXJlKFwiQGhlbHBlcnMvZW5naW5lXCIpO1xyXG5vbk5ldCgndmVoaWNsZXM6c2V0RW5naW5lU3RhdGUnLCAocFZlaE5ldElkLCBzdGF0ZSA9IGZhbHNlKSA9PiB7XHJcbiAgICBjb25zdCB2ZWhpY2xlID0gTmV0d29ya0dldEVudGl0eUZyb21OZXR3b3JrSWQocFZlaE5ldElkKTtcclxuICAgIGlmICghRG9lc0VudGl0eUV4aXN0KHZlaGljbGUpKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgICgwLCBlbmdpbmVfMS5zZXRFbmdpbmVTdGF0ZSkodmVoaWNsZSwgc3RhdGUpO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/client/controllers/engine.ts\n')},"./src/client/controllers/index.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\n__webpack_require__(/*! ./engine */ "./src/client/controllers/engine.ts");\r\n__webpack_require__(/*! ./vehicle */ "./src/client/controllers/vehicle.ts");\r\n__webpack_require__(/*! ./baseevents */ "./src/client/controllers/baseevents.ts");\r\n__webpack_require__(/*! ./zones */ "./src/client/controllers/zones.ts");\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L2NvbnRyb2xsZXJzL2luZGV4LnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFPLENBQUMsb0RBQVU7QUFDbEIsbUJBQU8sQ0FBQyxzREFBVztBQUNuQixtQkFBTyxDQUFDLDREQUFjO0FBQ3RCLG1CQUFPLENBQUMsa0RBQVMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZy12ZWhpY2xlcy8uL3NyYy9jbGllbnQvY29udHJvbGxlcnMvaW5kZXgudHM/OWM1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5yZXF1aXJlKFwiLi9lbmdpbmVcIik7XHJcbnJlcXVpcmUoXCIuL3ZlaGljbGVcIik7XHJcbnJlcXVpcmUoXCIuL2Jhc2VldmVudHNcIik7XHJcbnJlcXVpcmUoXCIuL3pvbmVzXCIpO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/controllers/index.ts\n')},"./src/client/controllers/vehicle.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst client_1 = __webpack_require__(/*! @dgx/client */ "../../ts-shared/typescript/src/client/index.ts");\r\nclient_1.RPC.register(\'vehicle:checkModel\', (model) => {\r\n    return {\r\n        valid: IsModelValid(model) && IsModelAVehicle(model),\r\n        automobile: IsThisModelACar(model),\r\n    };\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L2NvbnRyb2xsZXJzL3ZlaGljbGUudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLG1CQUFPLENBQUMsbUVBQWE7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZy12ZWhpY2xlcy8uL3NyYy9jbGllbnQvY29udHJvbGxlcnMvdmVoaWNsZS50cz8zNGY1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGNsaWVudF8xID0gcmVxdWlyZShcIkBkZ3gvY2xpZW50XCIpO1xyXG5jbGllbnRfMS5SUEMucmVnaXN0ZXIoJ3ZlaGljbGU6Y2hlY2tNb2RlbCcsIChtb2RlbCkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB2YWxpZDogSXNNb2RlbFZhbGlkKG1vZGVsKSAmJiBJc01vZGVsQVZlaGljbGUobW9kZWwpLFxyXG4gICAgICAgIGF1dG9tb2JpbGU6IElzVGhpc01vZGVsQUNhcihtb2RlbCksXHJcbiAgICB9O1xyXG59KTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/client/controllers/vehicle.ts\n')},"./src/client/controllers/zones.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst client_1 = __webpack_require__(/*! @dgx/client */ \"../../ts-shared/typescript/src/client/index.ts\");\r\nconst service_keys_1 = __webpack_require__(/*! ../modules/keys/service.keys */ \"./src/client/modules/keys/service.keys.ts\");\r\nconst vehicle_1 = __webpack_require__(/*! ../helpers/vehicle */ \"./src/client/helpers/vehicle.ts\");\r\nclient_1.Peek.addGlobalEntry('vehicle', {\r\n    distance: 2,\r\n    options: [\r\n        {\r\n            label: 'Vervang nummerplaat',\r\n            icon: 'fas fa-screwdriver',\r\n            items: 'fakeplate',\r\n            action(_, entity) {\r\n                client_1.RPC.execute('vehicles:plate:useFakePlate', NetworkGetNetworkIdFromEntity(entity));\r\n            },\r\n            canInteract(veh) {\r\n                return __awaiter(this, void 0, void 0, function* () {\r\n                    if (IsPedInAnyVehicle(PlayerPedId(), false))\r\n                        return false;\r\n                    const vehState = Entity(veh).state;\r\n                    if (vehState.fakePlate)\r\n                        return false;\r\n                    if (!(yield (0, service_keys_1.hasVehicleKey)(veh)))\r\n                        return false;\r\n                    return (0, vehicle_1.isCloseToHood)(veh, 2) || (0, vehicle_1.isCloseToBoot)(veh, 2);\r\n                });\r\n            },\r\n        },\r\n        {\r\n            label: 'verwijder nummerplaat',\r\n            icon: 'fas fa-screwdriver',\r\n            action(_, entity) {\r\n                client_1.RPC.execute('vehicles:plate:removeFakePlate', NetworkGetNetworkIdFromEntity(entity));\r\n            },\r\n            canInteract(veh) {\r\n                return __awaiter(this, void 0, void 0, function* () {\r\n                    if (IsPedInAnyVehicle(PlayerPedId(), false))\r\n                        return false;\r\n                    const vehState = Entity(veh).state;\r\n                    if (!(vehState === null || vehState === void 0 ? void 0 : vehState.fakePlate))\r\n                        return false;\r\n                    if (!(yield (0, service_keys_1.hasVehicleKey)(veh)))\r\n                        return false;\r\n                    return (0, vehicle_1.isCloseToHood)(veh, 2) || (0, vehicle_1.isCloseToBoot)(veh, 2);\r\n                });\r\n            },\r\n        },\r\n    ],\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L2NvbnRyb2xsZXJzL3pvbmVzLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUIsbUJBQU8sQ0FBQyxtRUFBYTtBQUN0Qyx1QkFBdUIsbUJBQU8sQ0FBQywrRUFBOEI7QUFDN0Qsa0JBQWtCLG1CQUFPLENBQUMsMkRBQW9CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZy12ZWhpY2xlcy8uL3NyYy9jbGllbnQvY29udHJvbGxlcnMvem9uZXMudHM/NThjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGNsaWVudF8xID0gcmVxdWlyZShcIkBkZ3gvY2xpZW50XCIpO1xyXG5jb25zdCBzZXJ2aWNlX2tleXNfMSA9IHJlcXVpcmUoXCIuLi9tb2R1bGVzL2tleXMvc2VydmljZS5rZXlzXCIpO1xyXG5jb25zdCB2ZWhpY2xlXzEgPSByZXF1aXJlKFwiLi4vaGVscGVycy92ZWhpY2xlXCIpO1xyXG5jbGllbnRfMS5QZWVrLmFkZEdsb2JhbEVudHJ5KCd2ZWhpY2xlJywge1xyXG4gICAgZGlzdGFuY2U6IDIsXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsYWJlbDogJ1ZlcnZhbmcgbnVtbWVycGxhYXQnLFxyXG4gICAgICAgICAgICBpY29uOiAnZmFzIGZhLXNjcmV3ZHJpdmVyJyxcclxuICAgICAgICAgICAgaXRlbXM6ICdmYWtlcGxhdGUnLFxyXG4gICAgICAgICAgICBhY3Rpb24oXywgZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICBjbGllbnRfMS5SUEMuZXhlY3V0ZSgndmVoaWNsZXM6cGxhdGU6dXNlRmFrZVBsYXRlJywgTmV0d29ya0dldE5ldHdvcmtJZEZyb21FbnRpdHkoZW50aXR5KSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbkludGVyYWN0KHZlaCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoSXNQZWRJbkFueVZlaGljbGUoUGxheWVyUGVkSWQoKSwgZmFsc2UpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVoU3RhdGUgPSBFbnRpdHkodmVoKS5zdGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmVoU3RhdGUuZmFrZVBsYXRlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoeWllbGQgKDAsIHNlcnZpY2Vfa2V5c18xLmhhc1ZlaGljbGVLZXkpKHZlaCkpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgwLCB2ZWhpY2xlXzEuaXNDbG9zZVRvSG9vZCkodmVoLCAyKSB8fCAoMCwgdmVoaWNsZV8xLmlzQ2xvc2VUb0Jvb3QpKHZlaCwgMik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGFiZWw6ICd2ZXJ3aWpkZXIgbnVtbWVycGxhYXQnLFxyXG4gICAgICAgICAgICBpY29uOiAnZmFzIGZhLXNjcmV3ZHJpdmVyJyxcclxuICAgICAgICAgICAgYWN0aW9uKF8sIGVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgY2xpZW50XzEuUlBDLmV4ZWN1dGUoJ3ZlaGljbGVzOnBsYXRlOnJlbW92ZUZha2VQbGF0ZScsIE5ldHdvcmtHZXROZXR3b3JrSWRGcm9tRW50aXR5KGVudGl0eSkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYW5JbnRlcmFjdCh2ZWgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKElzUGVkSW5BbnlWZWhpY2xlKFBsYXllclBlZElkKCksIGZhbHNlKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlaFN0YXRlID0gRW50aXR5KHZlaCkuc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodmVoU3RhdGUgPT09IG51bGwgfHwgdmVoU3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZlaFN0YXRlLmZha2VQbGF0ZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh5aWVsZCAoMCwgc2VydmljZV9rZXlzXzEuaGFzVmVoaWNsZUtleSkodmVoKSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHZlaGljbGVfMS5pc0Nsb3NlVG9Ib29kKSh2ZWgsIDIpIHx8ICgwLCB2ZWhpY2xlXzEuaXNDbG9zZVRvQm9vdCkodmVoLCAyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICBdLFxyXG59KTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/client/controllers/zones.ts\n")},"./src/client/helpers/engine.ts":(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.setEngineState = void 0;\r\nconst setEngineState = (vehicleId, state) => {\r\n    SetVehicleEngineOn(vehicleId, state, true, !state);\r\n    SetVehicleUndriveable(vehicleId, !state);\r\n};\r\nexports.setEngineState = setEngineState;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L2hlbHBlcnMvZW5naW5lLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiIsInNvdXJjZXMiOlsid2VicGFjazovL2RnLXZlaGljbGVzLy4vc3JjL2NsaWVudC9oZWxwZXJzL2VuZ2luZS50cz9jZjUyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuc2V0RW5naW5lU3RhdGUgPSB2b2lkIDA7XHJcbmNvbnN0IHNldEVuZ2luZVN0YXRlID0gKHZlaGljbGVJZCwgc3RhdGUpID0+IHtcclxuICAgIFNldFZlaGljbGVFbmdpbmVPbih2ZWhpY2xlSWQsIHN0YXRlLCB0cnVlLCAhc3RhdGUpO1xyXG4gICAgU2V0VmVoaWNsZVVuZHJpdmVhYmxlKHZlaGljbGVJZCwgIXN0YXRlKTtcclxufTtcclxuZXhwb3J0cy5zZXRFbmdpbmVTdGF0ZSA9IHNldEVuZ2luZVN0YXRlO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/helpers/engine.ts\n')},"./src/client/helpers/vehicle.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.isCloseToBoot = exports.isCloseToHood = exports.getVehicleVin = exports.getCurrentVehicle = exports.setCurrentVehicle = void 0;\r\nconst client_1 = __webpack_require__(/*! @dgx/client */ "../../ts-shared/typescript/src/client/index.ts");\r\nlet currentVehicle = 0;\r\nconst setCurrentVehicle = (veh) => {\r\n    currentVehicle = veh;\r\n};\r\nexports.setCurrentVehicle = setCurrentVehicle;\r\nconst getCurrentVehicle = () => {\r\n    return currentVehicle;\r\n};\r\nexports.getCurrentVehicle = getCurrentVehicle;\r\nconst getVehicleVin = (entity = currentVehicle) => {\r\n    if (!entity)\r\n        return;\r\n    const vehState = Entity(entity).state;\r\n    if (!(vehState === null || vehState === void 0 ? void 0 : vehState.vin)) {\r\n        // TODO: register vehicle with server\r\n        return;\r\n    }\r\n    return vehState.vin;\r\n};\r\nexports.getVehicleVin = getVehicleVin;\r\nconst isCloseToHood = (pEntity, pDistance, pMustBeOpen = false) => {\r\n    if (pMustBeOpen && GetVehicleDoorAngleRatio(pEntity, 4) === 0)\r\n        return false;\r\n    const plyCoords = client_1.Util.getPlyCoords();\r\n    const [_, minY] = GetModelDimensions(GetEntityModel(pEntity));\r\n    const coordsWithOffset = client_1.Util.ArrayToVector3(GetOffsetFromEntityInWorldCoords(pEntity, 0, minY[1] + 0.5, 0));\r\n    return coordsWithOffset.subtract(plyCoords).Length < pDistance;\r\n};\r\nexports.isCloseToHood = isCloseToHood;\r\nconst isCloseToBoot = (pEntity, pDistance, pMustBeOpen = false) => {\r\n    if (pMustBeOpen && GetVehicleDoorAngleRatio(pEntity, 5) === 0)\r\n        return false;\r\n    const plyCoords = client_1.Util.getPlyCoords();\r\n    const [maxY, _] = GetModelDimensions(GetEntityModel(pEntity));\r\n    const coordsWithOffset = client_1.Util.ArrayToVector3(GetOffsetFromEntityInWorldCoords(pEntity, 0, maxY[1] - 0.5, 0));\r\n    return coordsWithOffset.subtract(plyCoords).Length < pDistance;\r\n};\r\nexports.isCloseToBoot = isCloseToBoot;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L2hlbHBlcnMvdmVoaWNsZS50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUIsR0FBRyxxQkFBcUIsR0FBRyxxQkFBcUIsR0FBRyx5QkFBeUIsR0FBRyx5QkFBeUI7QUFDN0gsaUJBQWlCLG1CQUFPLENBQUMsbUVBQWE7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiIsInNvdXJjZXMiOlsid2VicGFjazovL2RnLXZlaGljbGVzLy4vc3JjL2NsaWVudC9oZWxwZXJzL3ZlaGljbGUudHM/YTUxZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmlzQ2xvc2VUb0Jvb3QgPSBleHBvcnRzLmlzQ2xvc2VUb0hvb2QgPSBleHBvcnRzLmdldFZlaGljbGVWaW4gPSBleHBvcnRzLmdldEN1cnJlbnRWZWhpY2xlID0gZXhwb3J0cy5zZXRDdXJyZW50VmVoaWNsZSA9IHZvaWQgMDtcclxuY29uc3QgY2xpZW50XzEgPSByZXF1aXJlKFwiQGRneC9jbGllbnRcIik7XHJcbmxldCBjdXJyZW50VmVoaWNsZSA9IDA7XHJcbmNvbnN0IHNldEN1cnJlbnRWZWhpY2xlID0gKHZlaCkgPT4ge1xyXG4gICAgY3VycmVudFZlaGljbGUgPSB2ZWg7XHJcbn07XHJcbmV4cG9ydHMuc2V0Q3VycmVudFZlaGljbGUgPSBzZXRDdXJyZW50VmVoaWNsZTtcclxuY29uc3QgZ2V0Q3VycmVudFZlaGljbGUgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gY3VycmVudFZlaGljbGU7XHJcbn07XHJcbmV4cG9ydHMuZ2V0Q3VycmVudFZlaGljbGUgPSBnZXRDdXJyZW50VmVoaWNsZTtcclxuY29uc3QgZ2V0VmVoaWNsZVZpbiA9IChlbnRpdHkgPSBjdXJyZW50VmVoaWNsZSkgPT4ge1xyXG4gICAgaWYgKCFlbnRpdHkpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgY29uc3QgdmVoU3RhdGUgPSBFbnRpdHkoZW50aXR5KS5zdGF0ZTtcclxuICAgIGlmICghKHZlaFN0YXRlID09PSBudWxsIHx8IHZlaFN0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2ZWhTdGF0ZS52aW4pKSB7XHJcbiAgICAgICAgLy8gVE9ETzogcmVnaXN0ZXIgdmVoaWNsZSB3aXRoIHNlcnZlclxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHJldHVybiB2ZWhTdGF0ZS52aW47XHJcbn07XHJcbmV4cG9ydHMuZ2V0VmVoaWNsZVZpbiA9IGdldFZlaGljbGVWaW47XHJcbmNvbnN0IGlzQ2xvc2VUb0hvb2QgPSAocEVudGl0eSwgcERpc3RhbmNlLCBwTXVzdEJlT3BlbiA9IGZhbHNlKSA9PiB7XHJcbiAgICBpZiAocE11c3RCZU9wZW4gJiYgR2V0VmVoaWNsZURvb3JBbmdsZVJhdGlvKHBFbnRpdHksIDQpID09PSAwKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIGNvbnN0IHBseUNvb3JkcyA9IGNsaWVudF8xLlV0aWwuZ2V0UGx5Q29vcmRzKCk7XHJcbiAgICBjb25zdCBbXywgbWluWV0gPSBHZXRNb2RlbERpbWVuc2lvbnMoR2V0RW50aXR5TW9kZWwocEVudGl0eSkpO1xyXG4gICAgY29uc3QgY29vcmRzV2l0aE9mZnNldCA9IGNsaWVudF8xLlV0aWwuQXJyYXlUb1ZlY3RvcjMoR2V0T2Zmc2V0RnJvbUVudGl0eUluV29ybGRDb29yZHMocEVudGl0eSwgMCwgbWluWVsxXSArIDAuNSwgMCkpO1xyXG4gICAgcmV0dXJuIGNvb3Jkc1dpdGhPZmZzZXQuc3VidHJhY3QocGx5Q29vcmRzKS5MZW5ndGggPCBwRGlzdGFuY2U7XHJcbn07XHJcbmV4cG9ydHMuaXNDbG9zZVRvSG9vZCA9IGlzQ2xvc2VUb0hvb2Q7XHJcbmNvbnN0IGlzQ2xvc2VUb0Jvb3QgPSAocEVudGl0eSwgcERpc3RhbmNlLCBwTXVzdEJlT3BlbiA9IGZhbHNlKSA9PiB7XHJcbiAgICBpZiAocE11c3RCZU9wZW4gJiYgR2V0VmVoaWNsZURvb3JBbmdsZVJhdGlvKHBFbnRpdHksIDUpID09PSAwKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIGNvbnN0IHBseUNvb3JkcyA9IGNsaWVudF8xLlV0aWwuZ2V0UGx5Q29vcmRzKCk7XHJcbiAgICBjb25zdCBbbWF4WSwgX10gPSBHZXRNb2RlbERpbWVuc2lvbnMoR2V0RW50aXR5TW9kZWwocEVudGl0eSkpO1xyXG4gICAgY29uc3QgY29vcmRzV2l0aE9mZnNldCA9IGNsaWVudF8xLlV0aWwuQXJyYXlUb1ZlY3RvcjMoR2V0T2Zmc2V0RnJvbUVudGl0eUluV29ybGRDb29yZHMocEVudGl0eSwgMCwgbWF4WVsxXSAtIDAuNSwgMCkpO1xyXG4gICAgcmV0dXJuIGNvb3Jkc1dpdGhPZmZzZXQuc3VidHJhY3QocGx5Q29vcmRzKS5MZW5ndGggPCBwRGlzdGFuY2U7XHJcbn07XHJcbmV4cG9ydHMuaXNDbG9zZVRvQm9vdCA9IGlzQ2xvc2VUb0Jvb3Q7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/client/helpers/vehicle.ts\n')},"./src/client/modules/fuel/controllers/events.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst client_1 = __webpack_require__(/*! @dgx/client */ "../../ts-shared/typescript/src/client/index.ts");\r\nconst service_fuel_1 = __webpack_require__(/*! ../service.fuel */ "./src/client/modules/fuel/service.fuel.ts");\r\nconst vehicle_1 = __webpack_require__(/*! @helpers/vehicle */ "./src/client/helpers/vehicle.ts");\r\nclient_1.RPC.register(\'vehicles:fuel:set\', (fuel) => {\r\n    (0, service_fuel_1.setFuelLevel)(fuel);\r\n});\r\nclient_1.RPC.register(\'vehicles:fuel:invalidate\', (vin, lvl) => {\r\n    const currentVin = (0, vehicle_1.getVehicleVin)();\r\n    if (!currentVin || currentVin !== vin) {\r\n        return;\r\n    }\r\n    (0, service_fuel_1.setFuelLevel)(lvl);\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L21vZHVsZXMvZnVlbC9jb250cm9sbGVycy9ldmVudHMudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLG1CQUFPLENBQUMsbUVBQWE7QUFDdEMsdUJBQXVCLG1CQUFPLENBQUMsa0VBQWlCO0FBQ2hELGtCQUFrQixtQkFBTyxDQUFDLHlEQUFrQjtBQUM1QztBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZy12ZWhpY2xlcy8uL3NyYy9jbGllbnQvbW9kdWxlcy9mdWVsL2NvbnRyb2xsZXJzL2V2ZW50cy50cz81ZGEwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGNsaWVudF8xID0gcmVxdWlyZShcIkBkZ3gvY2xpZW50XCIpO1xyXG5jb25zdCBzZXJ2aWNlX2Z1ZWxfMSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlLmZ1ZWxcIik7XHJcbmNvbnN0IHZlaGljbGVfMSA9IHJlcXVpcmUoXCJAaGVscGVycy92ZWhpY2xlXCIpO1xyXG5jbGllbnRfMS5SUEMucmVnaXN0ZXIoJ3ZlaGljbGVzOmZ1ZWw6c2V0JywgKGZ1ZWwpID0+IHtcclxuICAgICgwLCBzZXJ2aWNlX2Z1ZWxfMS5zZXRGdWVsTGV2ZWwpKGZ1ZWwpO1xyXG59KTtcclxuY2xpZW50XzEuUlBDLnJlZ2lzdGVyKCd2ZWhpY2xlczpmdWVsOmludmFsaWRhdGUnLCAodmluLCBsdmwpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRWaW4gPSAoMCwgdmVoaWNsZV8xLmdldFZlaGljbGVWaW4pKCk7XHJcbiAgICBpZiAoIWN1cnJlbnRWaW4gfHwgY3VycmVudFZpbiAhPT0gdmluKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgKDAsIHNlcnZpY2VfZnVlbF8xLnNldEZ1ZWxMZXZlbCkobHZsKTtcclxufSk7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/client/modules/fuel/controllers/events.ts\n')},"./src/client/modules/fuel/controllers/index.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\n__webpack_require__(/*! ./events */ "./src/client/modules/fuel/controllers/events.ts");\r\n__webpack_require__(/*! ./nui */ "./src/client/modules/fuel/controllers/nui.ts");\r\n__webpack_require__(/*! ../zones.fuel */ "./src/client/modules/fuel/zones.fuel.ts");\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L21vZHVsZXMvZnVlbC9jb250cm9sbGVycy9pbmRleC50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBTyxDQUFDLGlFQUFVO0FBQ2xCLG1CQUFPLENBQUMsMkRBQU87QUFDZixtQkFBTyxDQUFDLDhEQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGctdmVoaWNsZXMvLi9zcmMvY2xpZW50L21vZHVsZXMvZnVlbC9jb250cm9sbGVycy9pbmRleC50cz9mZGY1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnJlcXVpcmUoXCIuL2V2ZW50c1wiKTtcclxucmVxdWlyZShcIi4vbnVpXCIpO1xyXG5yZXF1aXJlKFwiLi4vem9uZXMuZnVlbFwiKTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/client/modules/fuel/controllers/index.ts\n')},"./src/client/modules/fuel/controllers/nui.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst client_1 = __webpack_require__(/*! @dgx/client */ "../../ts-shared/typescript/src/client/index.ts");\r\nconst service_fuel_1 = __webpack_require__(/*! ../service.fuel */ "./src/client/modules/fuel/service.fuel.ts");\r\nclient_1.UI.RegisterUICallback(\'vehicles:fuel:startRefuel\', (data, cb) => {\r\n    cb({ data: {}, meta: { ok: true, message: \'done\' } });\r\n    (0, service_fuel_1.doRefuel)(data.price, data.vin, data.fuel);\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L21vZHVsZXMvZnVlbC9jb250cm9sbGVycy9udWkudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLG1CQUFPLENBQUMsbUVBQWE7QUFDdEMsdUJBQXVCLG1CQUFPLENBQUMsa0VBQWlCO0FBQ2hEO0FBQ0EsU0FBUyxRQUFRLFVBQVUsNkJBQTZCO0FBQ3hEO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RnLXZlaGljbGVzLy4vc3JjL2NsaWVudC9tb2R1bGVzL2Z1ZWwvY29udHJvbGxlcnMvbnVpLnRzPzJlMzIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgY2xpZW50XzEgPSByZXF1aXJlKFwiQGRneC9jbGllbnRcIik7XHJcbmNvbnN0IHNlcnZpY2VfZnVlbF8xID0gcmVxdWlyZShcIi4uL3NlcnZpY2UuZnVlbFwiKTtcclxuY2xpZW50XzEuVUkuUmVnaXN0ZXJVSUNhbGxiYWNrKCd2ZWhpY2xlczpmdWVsOnN0YXJ0UmVmdWVsJywgKGRhdGEsIGNiKSA9PiB7XHJcbiAgICBjYih7IGRhdGE6IHt9LCBtZXRhOiB7IG9rOiB0cnVlLCBtZXNzYWdlOiAnZG9uZScgfSB9KTtcclxuICAgICgwLCBzZXJ2aWNlX2Z1ZWxfMS5kb1JlZnVlbCkoZGF0YS5wcmljZSwgZGF0YS52aW4sIGRhdGEuZnVlbCk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/modules/fuel/controllers/nui.ts\n')},"./src/client/modules/fuel/service.fuel.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.doRefuel = exports.canRefeul = exports.openRefuelMenu = exports.cleanFuelThread = exports.startFuelThread = exports.setFuelLevel = void 0;\r\n// Fuel level of vehicle ply is in\r\nconst vehicle_1 = __webpack_require__(/*! ../../helpers/vehicle */ \"./src/client/helpers/vehicle.ts\");\r\nconst client_1 = __webpack_require__(/*! @dgx/client */ \"../../ts-shared/typescript/src/client/index.ts\");\r\nconst engine_1 = __webpack_require__(/*! @helpers/engine */ \"./src/client/helpers/engine.ts\");\r\nconst zones_fuel_1 = __webpack_require__(/*! ./zones.fuel */ \"./src/client/modules/fuel/zones.fuel.ts\");\r\nlet fuelLevel = 0;\r\nlet fuelThread;\r\nlet syncThread;\r\n// How long a full tank lasts in minutes\r\nconst FULL_TANK_LAST = 15;\r\nconst CONSUMATION_PER_SECOND = 100 / (FULL_TANK_LAST * 60);\r\nconst VEHICLE_BEEP_LEVELS = [10, 5, 0];\r\nconst REFUEL_DURATION_PER_LEVEL = 350;\r\nconst syncFuel = () => {\r\n    const vehVin = (0, vehicle_1.getVehicleVin)();\r\n    client_1.RPC.execute('vehicle:fuel:sync', vehVin, fuelLevel);\r\n};\r\nconst setFuelLevel = (level) => {\r\n    fuelLevel = level;\r\n};\r\nexports.setFuelLevel = setFuelLevel;\r\nconst startFuelThread = (veh) => {\r\n    const vehClass = GetVehicleClass(veh);\r\n    // Bicycles don't have fuel\r\n    if (vehClass == 13)\r\n        return;\r\n    fuelThread = setInterval(() => {\r\n        const veh = (0, vehicle_1.getCurrentVehicle)();\r\n        if (!GetIsVehicleEngineRunning(veh))\r\n            return;\r\n        const vehRPM = GetVehicleCurrentRpm(veh);\r\n        // Exponential growth ((2 ** Modifier) - 1) * Max\r\n        const mod = (Math.pow(2, vehRPM) - 1) * CONSUMATION_PER_SECOND;\r\n        fuelLevel -= mod;\r\n        if (fuelLevel < 0) {\r\n            (0, engine_1.setEngineState)(veh, false);\r\n            fuelLevel = 0;\r\n        }\r\n        console.log(mod, fuelLevel);\r\n        client_1.Sync.executeNative('SetVehicleFuelLevel', NetworkGetNetworkIdFromEntity(veh), fuelLevel);\r\n        const oldLevel = fuelLevel + mod;\r\n        for (const lvl of VEHICLE_BEEP_LEVELS) {\r\n            if (fuelLevel <= lvl && oldLevel > lvl) {\r\n                global.exports['nutty-sounds'].playSoundOnEntity('vehicles_fuel_10', 'lowfuel', 'DLC_NUTTY_SOUNDS', veh);\r\n                break;\r\n            }\r\n        }\r\n    }, 1000);\r\n    syncThread = setInterval(syncFuel, 20000);\r\n};\r\nexports.startFuelThread = startFuelThread;\r\nconst cleanFuelThread = () => {\r\n    clearInterval(fuelThread);\r\n    clearInterval(syncThread);\r\n    syncFuel();\r\n};\r\nexports.cleanFuelThread = cleanFuelThread;\r\nconst openRefuelMenu = (vin) => __awaiter(void 0, void 0, void 0, function* () {\r\n    const priceInfo = yield client_1.RPC.execute('vehicles:fuel:getPrice', vin);\r\n    client_1.UI.openApplication('contextmenu', [\r\n        {\r\n            id: 'vehicles_fuel_price',\r\n            title: 'Tankstation',\r\n            description: `Totaal kost: â‚¬${priceInfo.taxPrice} | BTW: ${priceInfo.taxRate * 100}%`,\r\n            icon: 'gas-pump',\r\n            callbackURL: 'vehicles:fuel:startRefuel',\r\n            data: {\r\n                price: priceInfo.taxPrice,\r\n                vin,\r\n                fuel: priceInfo.fuel,\r\n            },\r\n        },\r\n    ]);\r\n});\r\nexports.openRefuelMenu = openRefuelMenu;\r\nconst canRefeul = (veh) => {\r\n    if (!(0, zones_fuel_1.isInZone)())\r\n        return false;\r\n    if (IsPedInAnyVehicle(PlayerPedId(), false))\r\n        return false;\r\n    veh = NetworkGetEntityFromNetworkId(veh) !== 0 ? NetworkGetEntityFromNetworkId(veh) : veh;\r\n    const vehClass = GetVehicleClass(veh);\r\n    if ([13, 14, 15, 16].includes(vehClass)) {\r\n        return false;\r\n    }\r\n    return Math.min(client_1.Util.getBoneDistance(veh, 'wheel_lr'), client_1.Util.getBoneDistance(veh, 'wheel_rr')) <= 1.2;\r\n};\r\nexports.canRefeul = canRefeul;\r\nconst doRefuel = (price, vin, missingFuel) => __awaiter(void 0, void 0, void 0, function* () {\r\n    var _a;\r\n    const vehNetId = yield client_1.RPC.execute('vehicles:getVehicleByVin', vin);\r\n    const veh = NetworkGetEntityFromNetworkId(vehNetId);\r\n    if (veh === 0) {\r\n        throw new Error(`Vehicle with VIN ${vin} not on this client`);\r\n    }\r\n    if (GetIsVehicleEngineRunning(veh)) {\r\n        // Calculate the chance on a engine explosion\r\n        const chance = Math.random();\r\n        if (chance < 0.05) {\r\n            client_1.Sync.executeNative('NetworkExplodeVehicle', vehNetId, true, false, false);\r\n        }\r\n    }\r\n    const account = yield DGCore.Functions.TriggerCallback('financials:getDefaultAccount');\r\n    if (Math.max((_a = account === null || account === void 0 ? void 0 : account.balance) !== null && _a !== void 0 ? _a : 0, global.exports['dg-financials'].getCash()) < price) {\r\n        DGCore.Functions.Notify('Je hebt niet genoeg geld!');\r\n        return;\r\n    }\r\n    const [wasCanceled, perCompleted] = yield client_1.Taskbar.create('Tanken', Math.max(missingFuel * REFUEL_DURATION_PER_LEVEL, 5000), {\r\n        canCancel: true,\r\n        cancelOnDeath: false,\r\n        controlDisables: {\r\n            movement: true,\r\n            combat: true,\r\n        },\r\n        animation: {\r\n            animDict: 'timetable@gardener@filling_can',\r\n            anim: 'gar_ig_5_filling_can',\r\n            flags: 50,\r\n        },\r\n    });\r\n    if (wasCanceled) {\r\n        return;\r\n    }\r\n    client_1.RPC.execute('vehicles:fuel:payRefuel', vin);\r\n});\r\nexports.doRefuel = doRefuel;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L21vZHVsZXMvZnVlbC9zZXJ2aWNlLmZ1ZWwudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQixHQUFHLGlCQUFpQixHQUFHLHNCQUFzQixHQUFHLHVCQUF1QixHQUFHLHVCQUF1QixHQUFHLG9CQUFvQjtBQUN4STtBQUNBLGtCQUFrQixtQkFBTyxDQUFDLDhEQUF1QjtBQUNqRCxpQkFBaUIsbUJBQU8sQ0FBQyxtRUFBYTtBQUN0QyxpQkFBaUIsbUJBQU8sQ0FBQyx1REFBaUI7QUFDMUMscUJBQXFCLG1CQUFPLENBQUMsNkRBQWM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxvQkFBb0IsU0FBUyx3QkFBd0I7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBLENBQUM7QUFDRCxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsS0FBSztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsZ0JBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGctdmVoaWNsZXMvLi9zcmMvY2xpZW50L21vZHVsZXMvZnVlbC9zZXJ2aWNlLmZ1ZWwudHM/MGIyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuZG9SZWZ1ZWwgPSBleHBvcnRzLmNhblJlZmV1bCA9IGV4cG9ydHMub3BlblJlZnVlbE1lbnUgPSBleHBvcnRzLmNsZWFuRnVlbFRocmVhZCA9IGV4cG9ydHMuc3RhcnRGdWVsVGhyZWFkID0gZXhwb3J0cy5zZXRGdWVsTGV2ZWwgPSB2b2lkIDA7XHJcbi8vIEZ1ZWwgbGV2ZWwgb2YgdmVoaWNsZSBwbHkgaXMgaW5cclxuY29uc3QgdmVoaWNsZV8xID0gcmVxdWlyZShcIi4uLy4uL2hlbHBlcnMvdmVoaWNsZVwiKTtcclxuY29uc3QgY2xpZW50XzEgPSByZXF1aXJlKFwiQGRneC9jbGllbnRcIik7XHJcbmNvbnN0IGVuZ2luZV8xID0gcmVxdWlyZShcIkBoZWxwZXJzL2VuZ2luZVwiKTtcclxuY29uc3Qgem9uZXNfZnVlbF8xID0gcmVxdWlyZShcIi4vem9uZXMuZnVlbFwiKTtcclxubGV0IGZ1ZWxMZXZlbCA9IDA7XHJcbmxldCBmdWVsVGhyZWFkO1xyXG5sZXQgc3luY1RocmVhZDtcclxuLy8gSG93IGxvbmcgYSBmdWxsIHRhbmsgbGFzdHMgaW4gbWludXRlc1xyXG5jb25zdCBGVUxMX1RBTktfTEFTVCA9IDE1O1xyXG5jb25zdCBDT05TVU1BVElPTl9QRVJfU0VDT05EID0gMTAwIC8gKEZVTExfVEFOS19MQVNUICogNjApO1xyXG5jb25zdCBWRUhJQ0xFX0JFRVBfTEVWRUxTID0gWzEwLCA1LCAwXTtcclxuY29uc3QgUkVGVUVMX0RVUkFUSU9OX1BFUl9MRVZFTCA9IDM1MDtcclxuY29uc3Qgc3luY0Z1ZWwgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB2ZWhWaW4gPSAoMCwgdmVoaWNsZV8xLmdldFZlaGljbGVWaW4pKCk7XHJcbiAgICBjbGllbnRfMS5SUEMuZXhlY3V0ZSgndmVoaWNsZTpmdWVsOnN5bmMnLCB2ZWhWaW4sIGZ1ZWxMZXZlbCk7XHJcbn07XHJcbmNvbnN0IHNldEZ1ZWxMZXZlbCA9IChsZXZlbCkgPT4ge1xyXG4gICAgZnVlbExldmVsID0gbGV2ZWw7XHJcbn07XHJcbmV4cG9ydHMuc2V0RnVlbExldmVsID0gc2V0RnVlbExldmVsO1xyXG5jb25zdCBzdGFydEZ1ZWxUaHJlYWQgPSAodmVoKSA9PiB7XHJcbiAgICBjb25zdCB2ZWhDbGFzcyA9IEdldFZlaGljbGVDbGFzcyh2ZWgpO1xyXG4gICAgLy8gQmljeWNsZXMgZG9uJ3QgaGF2ZSBmdWVsXHJcbiAgICBpZiAodmVoQ2xhc3MgPT0gMTMpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgZnVlbFRocmVhZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICBjb25zdCB2ZWggPSAoMCwgdmVoaWNsZV8xLmdldEN1cnJlbnRWZWhpY2xlKSgpO1xyXG4gICAgICAgIGlmICghR2V0SXNWZWhpY2xlRW5naW5lUnVubmluZyh2ZWgpKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgdmVoUlBNID0gR2V0VmVoaWNsZUN1cnJlbnRScG0odmVoKTtcclxuICAgICAgICAvLyBFeHBvbmVudGlhbCBncm93dGggKCgyICoqIE1vZGlmaWVyKSAtIDEpICogTWF4XHJcbiAgICAgICAgY29uc3QgbW9kID0gKE1hdGgucG93KDIsIHZlaFJQTSkgLSAxKSAqIENPTlNVTUFUSU9OX1BFUl9TRUNPTkQ7XHJcbiAgICAgICAgZnVlbExldmVsIC09IG1vZDtcclxuICAgICAgICBpZiAoZnVlbExldmVsIDwgMCkge1xyXG4gICAgICAgICAgICAoMCwgZW5naW5lXzEuc2V0RW5naW5lU3RhdGUpKHZlaCwgZmFsc2UpO1xyXG4gICAgICAgICAgICBmdWVsTGV2ZWwgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhtb2QsIGZ1ZWxMZXZlbCk7XHJcbiAgICAgICAgY2xpZW50XzEuU3luYy5leGVjdXRlTmF0aXZlKCdTZXRWZWhpY2xlRnVlbExldmVsJywgTmV0d29ya0dldE5ldHdvcmtJZEZyb21FbnRpdHkodmVoKSwgZnVlbExldmVsKTtcclxuICAgICAgICBjb25zdCBvbGRMZXZlbCA9IGZ1ZWxMZXZlbCArIG1vZDtcclxuICAgICAgICBmb3IgKGNvbnN0IGx2bCBvZiBWRUhJQ0xFX0JFRVBfTEVWRUxTKSB7XHJcbiAgICAgICAgICAgIGlmIChmdWVsTGV2ZWwgPD0gbHZsICYmIG9sZExldmVsID4gbHZsKSB7XHJcbiAgICAgICAgICAgICAgICBnbG9iYWwuZXhwb3J0c1snbnV0dHktc291bmRzJ10ucGxheVNvdW5kT25FbnRpdHkoJ3ZlaGljbGVzX2Z1ZWxfMTAnLCAnbG93ZnVlbCcsICdETENfTlVUVFlfU09VTkRTJywgdmVoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSwgMTAwMCk7XHJcbiAgICBzeW5jVGhyZWFkID0gc2V0SW50ZXJ2YWwoc3luY0Z1ZWwsIDIwMDAwKTtcclxufTtcclxuZXhwb3J0cy5zdGFydEZ1ZWxUaHJlYWQgPSBzdGFydEZ1ZWxUaHJlYWQ7XHJcbmNvbnN0IGNsZWFuRnVlbFRocmVhZCA9ICgpID0+IHtcclxuICAgIGNsZWFySW50ZXJ2YWwoZnVlbFRocmVhZCk7XHJcbiAgICBjbGVhckludGVydmFsKHN5bmNUaHJlYWQpO1xyXG4gICAgc3luY0Z1ZWwoKTtcclxufTtcclxuZXhwb3J0cy5jbGVhbkZ1ZWxUaHJlYWQgPSBjbGVhbkZ1ZWxUaHJlYWQ7XHJcbmNvbnN0IG9wZW5SZWZ1ZWxNZW51ID0gKHZpbikgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICBjb25zdCBwcmljZUluZm8gPSB5aWVsZCBjbGllbnRfMS5SUEMuZXhlY3V0ZSgndmVoaWNsZXM6ZnVlbDpnZXRQcmljZScsIHZpbik7XHJcbiAgICBjbGllbnRfMS5VSS5vcGVuQXBwbGljYXRpb24oJ2NvbnRleHRtZW51JywgW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWQ6ICd2ZWhpY2xlc19mdWVsX3ByaWNlJyxcclxuICAgICAgICAgICAgdGl0bGU6ICdUYW5rc3RhdGlvbicsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgVG90YWFsIGtvc3Q6IOKCrCR7cHJpY2VJbmZvLnRheFByaWNlfSB8IEJUVzogJHtwcmljZUluZm8udGF4UmF0ZSAqIDEwMH0lYCxcclxuICAgICAgICAgICAgaWNvbjogJ2dhcy1wdW1wJyxcclxuICAgICAgICAgICAgY2FsbGJhY2tVUkw6ICd2ZWhpY2xlczpmdWVsOnN0YXJ0UmVmdWVsJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlSW5mby50YXhQcmljZSxcclxuICAgICAgICAgICAgICAgIHZpbixcclxuICAgICAgICAgICAgICAgIGZ1ZWw6IHByaWNlSW5mby5mdWVsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICBdKTtcclxufSk7XHJcbmV4cG9ydHMub3BlblJlZnVlbE1lbnUgPSBvcGVuUmVmdWVsTWVudTtcclxuY29uc3QgY2FuUmVmZXVsID0gKHZlaCkgPT4ge1xyXG4gICAgaWYgKCEoMCwgem9uZXNfZnVlbF8xLmlzSW5ab25lKSgpKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIGlmIChJc1BlZEluQW55VmVoaWNsZShQbGF5ZXJQZWRJZCgpLCBmYWxzZSkpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgdmVoID0gTmV0d29ya0dldEVudGl0eUZyb21OZXR3b3JrSWQodmVoKSAhPT0gMCA/IE5ldHdvcmtHZXRFbnRpdHlGcm9tTmV0d29ya0lkKHZlaCkgOiB2ZWg7XHJcbiAgICBjb25zdCB2ZWhDbGFzcyA9IEdldFZlaGljbGVDbGFzcyh2ZWgpO1xyXG4gICAgaWYgKFsxMywgMTQsIDE1LCAxNl0uaW5jbHVkZXModmVoQ2xhc3MpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE1hdGgubWluKGNsaWVudF8xLlV0aWwuZ2V0Qm9uZURpc3RhbmNlKHZlaCwgJ3doZWVsX2xyJyksIGNsaWVudF8xLlV0aWwuZ2V0Qm9uZURpc3RhbmNlKHZlaCwgJ3doZWVsX3JyJykpIDw9IDEuMjtcclxufTtcclxuZXhwb3J0cy5jYW5SZWZldWwgPSBjYW5SZWZldWw7XHJcbmNvbnN0IGRvUmVmdWVsID0gKHByaWNlLCB2aW4sIG1pc3NpbmdGdWVsKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IHZlaE5ldElkID0geWllbGQgY2xpZW50XzEuUlBDLmV4ZWN1dGUoJ3ZlaGljbGVzOmdldFZlaGljbGVCeVZpbicsIHZpbik7XHJcbiAgICBjb25zdCB2ZWggPSBOZXR3b3JrR2V0RW50aXR5RnJvbU5ldHdvcmtJZCh2ZWhOZXRJZCk7XHJcbiAgICBpZiAodmVoID09PSAwKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBWZWhpY2xlIHdpdGggVklOICR7dmlufSBub3Qgb24gdGhpcyBjbGllbnRgKTtcclxuICAgIH1cclxuICAgIGlmIChHZXRJc1ZlaGljbGVFbmdpbmVSdW5uaW5nKHZlaCkpIHtcclxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGNoYW5jZSBvbiBhIGVuZ2luZSBleHBsb3Npb25cclxuICAgICAgICBjb25zdCBjaGFuY2UgPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgIGlmIChjaGFuY2UgPCAwLjA1KSB7XHJcbiAgICAgICAgICAgIGNsaWVudF8xLlN5bmMuZXhlY3V0ZU5hdGl2ZSgnTmV0d29ya0V4cGxvZGVWZWhpY2xlJywgdmVoTmV0SWQsIHRydWUsIGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgYWNjb3VudCA9IHlpZWxkIERHQ29yZS5GdW5jdGlvbnMuVHJpZ2dlckNhbGxiYWNrKCdmaW5hbmNpYWxzOmdldERlZmF1bHRBY2NvdW50Jyk7XHJcbiAgICBpZiAoTWF0aC5tYXgoKF9hID0gYWNjb3VudCA9PT0gbnVsbCB8fCBhY2NvdW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhY2NvdW50LmJhbGFuY2UpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDAsIGdsb2JhbC5leHBvcnRzWydkZy1maW5hbmNpYWxzJ10uZ2V0Q2FzaCgpKSA8IHByaWNlKSB7XHJcbiAgICAgICAgREdDb3JlLkZ1bmN0aW9ucy5Ob3RpZnkoJ0plIGhlYnQgbmlldCBnZW5vZWcgZ2VsZCEnKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBbd2FzQ2FuY2VsZWQsIHBlckNvbXBsZXRlZF0gPSB5aWVsZCBjbGllbnRfMS5UYXNrYmFyLmNyZWF0ZSgnVGFua2VuJywgTWF0aC5tYXgobWlzc2luZ0Z1ZWwgKiBSRUZVRUxfRFVSQVRJT05fUEVSX0xFVkVMLCA1MDAwKSwge1xyXG4gICAgICAgIGNhbkNhbmNlbDogdHJ1ZSxcclxuICAgICAgICBjYW5jZWxPbkRlYXRoOiBmYWxzZSxcclxuICAgICAgICBjb250cm9sRGlzYWJsZXM6IHtcclxuICAgICAgICAgICAgbW92ZW1lbnQ6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbWJhdDogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFuaW1hdGlvbjoge1xyXG4gICAgICAgICAgICBhbmltRGljdDogJ3RpbWV0YWJsZUBnYXJkZW5lckBmaWxsaW5nX2NhbicsXHJcbiAgICAgICAgICAgIGFuaW06ICdnYXJfaWdfNV9maWxsaW5nX2NhbicsXHJcbiAgICAgICAgICAgIGZsYWdzOiA1MCxcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbiAgICBpZiAod2FzQ2FuY2VsZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjbGllbnRfMS5SUEMuZXhlY3V0ZSgndmVoaWNsZXM6ZnVlbDpwYXlSZWZ1ZWwnLCB2aW4pO1xyXG59KTtcclxuZXhwb3J0cy5kb1JlZnVlbCA9IGRvUmVmdWVsO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/modules/fuel/service.fuel.ts\n")},"./src/client/modules/fuel/zones.fuel.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.isInZone = void 0;\r\nconst client_1 = __webpack_require__(/*! @dgx/client */ \"../../ts-shared/typescript/src/client/index.ts\");\r\nconst vehicle_1 = __webpack_require__(/*! @helpers/vehicle */ \"./src/client/helpers/vehicle.ts\");\r\nconst service_fuel_1 = __webpack_require__(/*! ./service.fuel */ \"./src/client/modules/fuel/service.fuel.ts\");\r\nconst gasStationZones = [\r\n    {\r\n        center: {\r\n            x: -723.56,\r\n            y: -935.47,\r\n            z: 18.32,\r\n        },\r\n        length: 15.0,\r\n        width: 30.0,\r\n        heading: 0,\r\n        minZ: 17.92,\r\n        maxZ: 22.72,\r\n    },\r\n    {\r\n        center: {\r\n            x: -525.57,\r\n            y: -1210.6,\r\n            z: 17.9,\r\n        },\r\n        length: 19.2,\r\n        width: 17.2,\r\n        heading: 335,\r\n        minZ: 17.1,\r\n        maxZ: 22.5,\r\n    },\r\n    {\r\n        center: {\r\n            x: 265.75,\r\n            y: -1260.9,\r\n            z: 29.17,\r\n        },\r\n        length: 20.6,\r\n        width: 29.4,\r\n        heading: 0,\r\n        minZ: 28.17,\r\n        maxZ: 34.97,\r\n    },\r\n    {\r\n        center: {\r\n            x: -70.29,\r\n            y: -1761.6,\r\n            z: 28.51,\r\n        },\r\n        length: 14.8,\r\n        width: 28.0,\r\n        heading: 340,\r\n        minZ: 27.71,\r\n        maxZ: 34.31,\r\n    },\r\n    {\r\n        center: {\r\n            x: 818.94,\r\n            y: -1029.12,\r\n            z: 26.75,\r\n        },\r\n        length: 10.8,\r\n        width: 25.2,\r\n        heading: 0,\r\n        minZ: 25.15,\r\n        maxZ: 32.75,\r\n    },\r\n    {\r\n        center: {\r\n            x: 1208.64,\r\n            y: -1402.19,\r\n            z: 35.23,\r\n        },\r\n        length: 12.4,\r\n        width: 17.2,\r\n        heading: 315,\r\n        minZ: 34.03,\r\n        maxZ: 41.63,\r\n    },\r\n    {\r\n        center: {\r\n            x: 1181.01,\r\n            y: -330.15,\r\n            z: 68.98,\r\n        },\r\n        length: 29.2,\r\n        width: 14.0,\r\n        heading: 10,\r\n        minZ: 67.98,\r\n        maxZ: 72.98,\r\n    },\r\n    {\r\n        center: {\r\n            x: -1437.09,\r\n            y: -276.57,\r\n            z: 46.26,\r\n        },\r\n        length: 16.8,\r\n        width: 22.2,\r\n        heading: 310,\r\n        minZ: 44.86,\r\n        maxZ: 51.26,\r\n    },\r\n    {\r\n        center: {\r\n            x: -2096.61,\r\n            y: -319.13,\r\n            z: 13.04,\r\n        },\r\n        length: 23.0,\r\n        width: 27.6,\r\n        heading: 354,\r\n        minZ: 12.04,\r\n        maxZ: 16.64,\r\n    },\r\n    {\r\n        center: {\r\n            x: 621.16,\r\n            y: 268.89,\r\n            z: 103.06,\r\n        },\r\n        length: 16.4,\r\n        width: 27.2,\r\n        heading: 0,\r\n        minZ: 102.06,\r\n        maxZ: 106.06,\r\n    },\r\n    {\r\n        center: {\r\n            x: -1799.75,\r\n            y: 803.08,\r\n            z: 138.33,\r\n        },\r\n        length: 16.2,\r\n        width: 29.6,\r\n        heading: 43,\r\n        minZ: 137.13,\r\n        maxZ: 142.53,\r\n    },\r\n    {\r\n        center: {\r\n            x: 2580.93,\r\n            y: 361.91,\r\n            z: 108.46,\r\n        },\r\n        length: 17.0,\r\n        width: 26.4,\r\n        heading: 357,\r\n        minZ: 107.46,\r\n        maxZ: 110.46,\r\n    },\r\n    {\r\n        center: {\r\n            x: 2537.01,\r\n            y: 2593.71,\r\n            z: 37.94,\r\n        },\r\n        length: 8.0,\r\n        width: 4.8,\r\n        heading: 19,\r\n        minZ: 36.94,\r\n        maxZ: 40.94,\r\n    },\r\n    {\r\n        center: {\r\n            x: 1207.6,\r\n            y: 2660.15,\r\n            z: 37.81,\r\n        },\r\n        length: 10,\r\n        width: 9.4,\r\n        heading: 315,\r\n        minZ: 36.81,\r\n        maxZ: 40.81,\r\n    },\r\n    {\r\n        center: {\r\n            x: 263.83,\r\n            y: 2606.89,\r\n            z: 44.98,\r\n        },\r\n        length: 9.2,\r\n        width: 9.4,\r\n        heading: 10,\r\n        minZ: 43.98,\r\n        maxZ: 47.98,\r\n    },\r\n    {\r\n        center: {\r\n            x: 50.27,\r\n            y: 2779.43,\r\n            z: 57.88,\r\n        },\r\n        length: 10,\r\n        width: 10,\r\n        heading: 323,\r\n        minZ: 56.88,\r\n        maxZ: 60.88,\r\n    },\r\n    {\r\n        center: {\r\n            x: -2555.11,\r\n            y: 2334.37,\r\n            z: 33.06,\r\n        },\r\n        length: 27.4,\r\n        width: 17.0,\r\n        heading: 4,\r\n        minZ: 32.06,\r\n        maxZ: 36.66,\r\n    },\r\n    {\r\n        center: {\r\n            x: 1785.25,\r\n            y: 3330.86,\r\n            z: 41.06,\r\n        },\r\n        length: 7.8,\r\n        width: 8.0,\r\n        heading: 30,\r\n        minZ: 40.06,\r\n        maxZ: 44.06,\r\n    },\r\n    {\r\n        center: {\r\n            x: 2679.54,\r\n            y: 3264.4,\r\n            z: 55.24,\r\n        },\r\n        length: 10.8,\r\n        width: 10.2,\r\n        heading: 331,\r\n        minZ: 54.04,\r\n        maxZ: 59.24,\r\n    },\r\n    {\r\n        center: {\r\n            x: 1687.42,\r\n            y: 4929.5,\r\n            z: 42.09,\r\n        },\r\n        length: 9.2,\r\n        width: 15.0,\r\n        heading: 325,\r\n        minZ: 41.09,\r\n        maxZ: 45.09,\r\n    },\r\n    {\r\n        center: {\r\n            x: 1701.72,\r\n            y: 6416.49,\r\n            z: 32.6,\r\n        },\r\n        length: 12.2,\r\n        width: 14.4,\r\n        heading: 335,\r\n        minZ: 31.6,\r\n        maxZ: 35.6,\r\n    },\r\n    {\r\n        center: {\r\n            x: 180.16,\r\n            y: 6603.01,\r\n            z: 31.85,\r\n        },\r\n        length: 15.2,\r\n        width: 26.0,\r\n        heading: 10,\r\n        minZ: 30.85,\r\n        maxZ: 36.05,\r\n    },\r\n    {\r\n        center: {\r\n            x: -94.42,\r\n            y: 6419.7,\r\n            z: 31.49,\r\n        },\r\n        length: 11.2,\r\n        width: 15.8,\r\n        heading: 45,\r\n        minZ: 30.29,\r\n        maxZ: 34.89,\r\n    },\r\n    {\r\n        center: { x: 2006.37, y: 3773.87, z: 32.18 },\r\n        length: 9.4,\r\n        width: 17.0,\r\n        heading: 30,\r\n        minZ: 30.98,\r\n        maxZ: 36.98,\r\n    },\r\n];\r\nlet peekIds = [];\r\nlet inZone = false;\r\nconst isInZone = () => {\r\n    // TODO: integrate this shit\r\n    return inZone;\r\n};\r\nexports.isInZone = isInZone;\r\nsetImmediate(() => {\r\n    gasStationZones.forEach((zone, idx) => {\r\n        client_1.PolyZone.addBoxZone('gasstation', zone.center, zone.width, zone.length, {\r\n            minZ: zone.minZ,\r\n            maxZ: zone.maxZ,\r\n            // For some reason are our heading shifter quarter of a circle\r\n            heading: zone.heading + 90,\r\n            data: {\r\n                id: idx,\r\n            },\r\n        });\r\n        DGCore.Blips.Add('gasstation', {\r\n            id: `station-${idx}`,\r\n            text: 'Tankstation',\r\n            coords: zone.center,\r\n            sprite: 361,\r\n            color: 1,\r\n            scale: 0.6,\r\n        });\r\n    });\r\n    client_1.PolyZone.onEnter('gasstation', () => {\r\n        inZone = true;\r\n    });\r\n    client_1.PolyZone.onLeave('gasstation', () => {\r\n        inZone = false;\r\n    });\r\n    peekIds = client_1.Peek.addGlobalEntry('vehicle', {\r\n        distance: 2,\r\n        options: [\r\n            {\r\n                label: 'Tank',\r\n                icon: 'fas fa-gas-pump',\r\n                action(_, entity) {\r\n                    (0, service_fuel_1.openRefuelMenu)((0, vehicle_1.getVehicleVin)(entity));\r\n                },\r\n                canInteract(entity) {\r\n                    return (0, service_fuel_1.canRefeul)(entity);\r\n                },\r\n            },\r\n        ],\r\n    });\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L21vZHVsZXMvZnVlbC96b25lcy5mdWVsLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdCQUFnQjtBQUNoQixpQkFBaUIsbUJBQU8sQ0FBQyxtRUFBYTtBQUN0QyxrQkFBa0IsbUJBQU8sQ0FBQyx5REFBa0I7QUFDNUMsdUJBQXVCLG1CQUFPLENBQUMsaUVBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGtCQUFrQixrQ0FBa0M7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0EsMkJBQTJCLElBQUk7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQSxLQUFLO0FBQ0wsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RnLXZlaGljbGVzLy4vc3JjL2NsaWVudC9tb2R1bGVzL2Z1ZWwvem9uZXMuZnVlbC50cz9kNTVjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuaXNJblpvbmUgPSB2b2lkIDA7XHJcbmNvbnN0IGNsaWVudF8xID0gcmVxdWlyZShcIkBkZ3gvY2xpZW50XCIpO1xyXG5jb25zdCB2ZWhpY2xlXzEgPSByZXF1aXJlKFwiQGhlbHBlcnMvdmVoaWNsZVwiKTtcclxuY29uc3Qgc2VydmljZV9mdWVsXzEgPSByZXF1aXJlKFwiLi9zZXJ2aWNlLmZ1ZWxcIik7XHJcbmNvbnN0IGdhc1N0YXRpb25ab25lcyA9IFtcclxuICAgIHtcclxuICAgICAgICBjZW50ZXI6IHtcclxuICAgICAgICAgICAgeDogLTcyMy41NixcclxuICAgICAgICAgICAgeTogLTkzNS40NyxcclxuICAgICAgICAgICAgejogMTguMzIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsZW5ndGg6IDE1LjAsXHJcbiAgICAgICAgd2lkdGg6IDMwLjAsXHJcbiAgICAgICAgaGVhZGluZzogMCxcclxuICAgICAgICBtaW5aOiAxNy45MixcclxuICAgICAgICBtYXhaOiAyMi43MixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY2VudGVyOiB7XHJcbiAgICAgICAgICAgIHg6IC01MjUuNTcsXHJcbiAgICAgICAgICAgIHk6IC0xMjEwLjYsXHJcbiAgICAgICAgICAgIHo6IDE3LjksXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsZW5ndGg6IDE5LjIsXHJcbiAgICAgICAgd2lkdGg6IDE3LjIsXHJcbiAgICAgICAgaGVhZGluZzogMzM1LFxyXG4gICAgICAgIG1pblo6IDE3LjEsXHJcbiAgICAgICAgbWF4WjogMjIuNSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY2VudGVyOiB7XHJcbiAgICAgICAgICAgIHg6IDI2NS43NSxcclxuICAgICAgICAgICAgeTogLTEyNjAuOSxcclxuICAgICAgICAgICAgejogMjkuMTcsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsZW5ndGg6IDIwLjYsXHJcbiAgICAgICAgd2lkdGg6IDI5LjQsXHJcbiAgICAgICAgaGVhZGluZzogMCxcclxuICAgICAgICBtaW5aOiAyOC4xNyxcclxuICAgICAgICBtYXhaOiAzNC45NyxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY2VudGVyOiB7XHJcbiAgICAgICAgICAgIHg6IC03MC4yOSxcclxuICAgICAgICAgICAgeTogLTE3NjEuNixcclxuICAgICAgICAgICAgejogMjguNTEsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsZW5ndGg6IDE0LjgsXHJcbiAgICAgICAgd2lkdGg6IDI4LjAsXHJcbiAgICAgICAgaGVhZGluZzogMzQwLFxyXG4gICAgICAgIG1pblo6IDI3LjcxLFxyXG4gICAgICAgIG1heFo6IDM0LjMxLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjZW50ZXI6IHtcclxuICAgICAgICAgICAgeDogODE4Ljk0LFxyXG4gICAgICAgICAgICB5OiAtMTAyOS4xMixcclxuICAgICAgICAgICAgejogMjYuNzUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsZW5ndGg6IDEwLjgsXHJcbiAgICAgICAgd2lkdGg6IDI1LjIsXHJcbiAgICAgICAgaGVhZGluZzogMCxcclxuICAgICAgICBtaW5aOiAyNS4xNSxcclxuICAgICAgICBtYXhaOiAzMi43NSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY2VudGVyOiB7XHJcbiAgICAgICAgICAgIHg6IDEyMDguNjQsXHJcbiAgICAgICAgICAgIHk6IC0xNDAyLjE5LFxyXG4gICAgICAgICAgICB6OiAzNS4yMyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlbmd0aDogMTIuNCxcclxuICAgICAgICB3aWR0aDogMTcuMixcclxuICAgICAgICBoZWFkaW5nOiAzMTUsXHJcbiAgICAgICAgbWluWjogMzQuMDMsXHJcbiAgICAgICAgbWF4WjogNDEuNjMsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNlbnRlcjoge1xyXG4gICAgICAgICAgICB4OiAxMTgxLjAxLFxyXG4gICAgICAgICAgICB5OiAtMzMwLjE1LFxyXG4gICAgICAgICAgICB6OiA2OC45OCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlbmd0aDogMjkuMixcclxuICAgICAgICB3aWR0aDogMTQuMCxcclxuICAgICAgICBoZWFkaW5nOiAxMCxcclxuICAgICAgICBtaW5aOiA2Ny45OCxcclxuICAgICAgICBtYXhaOiA3Mi45OCxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY2VudGVyOiB7XHJcbiAgICAgICAgICAgIHg6IC0xNDM3LjA5LFxyXG4gICAgICAgICAgICB5OiAtMjc2LjU3LFxyXG4gICAgICAgICAgICB6OiA0Ni4yNixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlbmd0aDogMTYuOCxcclxuICAgICAgICB3aWR0aDogMjIuMixcclxuICAgICAgICBoZWFkaW5nOiAzMTAsXHJcbiAgICAgICAgbWluWjogNDQuODYsXHJcbiAgICAgICAgbWF4WjogNTEuMjYsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNlbnRlcjoge1xyXG4gICAgICAgICAgICB4OiAtMjA5Ni42MSxcclxuICAgICAgICAgICAgeTogLTMxOS4xMyxcclxuICAgICAgICAgICAgejogMTMuMDQsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsZW5ndGg6IDIzLjAsXHJcbiAgICAgICAgd2lkdGg6IDI3LjYsXHJcbiAgICAgICAgaGVhZGluZzogMzU0LFxyXG4gICAgICAgIG1pblo6IDEyLjA0LFxyXG4gICAgICAgIG1heFo6IDE2LjY0LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjZW50ZXI6IHtcclxuICAgICAgICAgICAgeDogNjIxLjE2LFxyXG4gICAgICAgICAgICB5OiAyNjguODksXHJcbiAgICAgICAgICAgIHo6IDEwMy4wNixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlbmd0aDogMTYuNCxcclxuICAgICAgICB3aWR0aDogMjcuMixcclxuICAgICAgICBoZWFkaW5nOiAwLFxyXG4gICAgICAgIG1pblo6IDEwMi4wNixcclxuICAgICAgICBtYXhaOiAxMDYuMDYsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNlbnRlcjoge1xyXG4gICAgICAgICAgICB4OiAtMTc5OS43NSxcclxuICAgICAgICAgICAgeTogODAzLjA4LFxyXG4gICAgICAgICAgICB6OiAxMzguMzMsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsZW5ndGg6IDE2LjIsXHJcbiAgICAgICAgd2lkdGg6IDI5LjYsXHJcbiAgICAgICAgaGVhZGluZzogNDMsXHJcbiAgICAgICAgbWluWjogMTM3LjEzLFxyXG4gICAgICAgIG1heFo6IDE0Mi41MyxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY2VudGVyOiB7XHJcbiAgICAgICAgICAgIHg6IDI1ODAuOTMsXHJcbiAgICAgICAgICAgIHk6IDM2MS45MSxcclxuICAgICAgICAgICAgejogMTA4LjQ2LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGVuZ3RoOiAxNy4wLFxyXG4gICAgICAgIHdpZHRoOiAyNi40LFxyXG4gICAgICAgIGhlYWRpbmc6IDM1NyxcclxuICAgICAgICBtaW5aOiAxMDcuNDYsXHJcbiAgICAgICAgbWF4WjogMTEwLjQ2LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjZW50ZXI6IHtcclxuICAgICAgICAgICAgeDogMjUzNy4wMSxcclxuICAgICAgICAgICAgeTogMjU5My43MSxcclxuICAgICAgICAgICAgejogMzcuOTQsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsZW5ndGg6IDguMCxcclxuICAgICAgICB3aWR0aDogNC44LFxyXG4gICAgICAgIGhlYWRpbmc6IDE5LFxyXG4gICAgICAgIG1pblo6IDM2Ljk0LFxyXG4gICAgICAgIG1heFo6IDQwLjk0LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjZW50ZXI6IHtcclxuICAgICAgICAgICAgeDogMTIwNy42LFxyXG4gICAgICAgICAgICB5OiAyNjYwLjE1LFxyXG4gICAgICAgICAgICB6OiAzNy44MSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlbmd0aDogMTAsXHJcbiAgICAgICAgd2lkdGg6IDkuNCxcclxuICAgICAgICBoZWFkaW5nOiAzMTUsXHJcbiAgICAgICAgbWluWjogMzYuODEsXHJcbiAgICAgICAgbWF4WjogNDAuODEsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNlbnRlcjoge1xyXG4gICAgICAgICAgICB4OiAyNjMuODMsXHJcbiAgICAgICAgICAgIHk6IDI2MDYuODksXHJcbiAgICAgICAgICAgIHo6IDQ0Ljk4LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGVuZ3RoOiA5LjIsXHJcbiAgICAgICAgd2lkdGg6IDkuNCxcclxuICAgICAgICBoZWFkaW5nOiAxMCxcclxuICAgICAgICBtaW5aOiA0My45OCxcclxuICAgICAgICBtYXhaOiA0Ny45OCxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY2VudGVyOiB7XHJcbiAgICAgICAgICAgIHg6IDUwLjI3LFxyXG4gICAgICAgICAgICB5OiAyNzc5LjQzLFxyXG4gICAgICAgICAgICB6OiA1Ny44OCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlbmd0aDogMTAsXHJcbiAgICAgICAgd2lkdGg6IDEwLFxyXG4gICAgICAgIGhlYWRpbmc6IDMyMyxcclxuICAgICAgICBtaW5aOiA1Ni44OCxcclxuICAgICAgICBtYXhaOiA2MC44OCxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY2VudGVyOiB7XHJcbiAgICAgICAgICAgIHg6IC0yNTU1LjExLFxyXG4gICAgICAgICAgICB5OiAyMzM0LjM3LFxyXG4gICAgICAgICAgICB6OiAzMy4wNixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlbmd0aDogMjcuNCxcclxuICAgICAgICB3aWR0aDogMTcuMCxcclxuICAgICAgICBoZWFkaW5nOiA0LFxyXG4gICAgICAgIG1pblo6IDMyLjA2LFxyXG4gICAgICAgIG1heFo6IDM2LjY2LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjZW50ZXI6IHtcclxuICAgICAgICAgICAgeDogMTc4NS4yNSxcclxuICAgICAgICAgICAgeTogMzMzMC44NixcclxuICAgICAgICAgICAgejogNDEuMDYsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsZW5ndGg6IDcuOCxcclxuICAgICAgICB3aWR0aDogOC4wLFxyXG4gICAgICAgIGhlYWRpbmc6IDMwLFxyXG4gICAgICAgIG1pblo6IDQwLjA2LFxyXG4gICAgICAgIG1heFo6IDQ0LjA2LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjZW50ZXI6IHtcclxuICAgICAgICAgICAgeDogMjY3OS41NCxcclxuICAgICAgICAgICAgeTogMzI2NC40LFxyXG4gICAgICAgICAgICB6OiA1NS4yNCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlbmd0aDogMTAuOCxcclxuICAgICAgICB3aWR0aDogMTAuMixcclxuICAgICAgICBoZWFkaW5nOiAzMzEsXHJcbiAgICAgICAgbWluWjogNTQuMDQsXHJcbiAgICAgICAgbWF4WjogNTkuMjQsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNlbnRlcjoge1xyXG4gICAgICAgICAgICB4OiAxNjg3LjQyLFxyXG4gICAgICAgICAgICB5OiA0OTI5LjUsXHJcbiAgICAgICAgICAgIHo6IDQyLjA5LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGVuZ3RoOiA5LjIsXHJcbiAgICAgICAgd2lkdGg6IDE1LjAsXHJcbiAgICAgICAgaGVhZGluZzogMzI1LFxyXG4gICAgICAgIG1pblo6IDQxLjA5LFxyXG4gICAgICAgIG1heFo6IDQ1LjA5LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjZW50ZXI6IHtcclxuICAgICAgICAgICAgeDogMTcwMS43MixcclxuICAgICAgICAgICAgeTogNjQxNi40OSxcclxuICAgICAgICAgICAgejogMzIuNixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlbmd0aDogMTIuMixcclxuICAgICAgICB3aWR0aDogMTQuNCxcclxuICAgICAgICBoZWFkaW5nOiAzMzUsXHJcbiAgICAgICAgbWluWjogMzEuNixcclxuICAgICAgICBtYXhaOiAzNS42LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjZW50ZXI6IHtcclxuICAgICAgICAgICAgeDogMTgwLjE2LFxyXG4gICAgICAgICAgICB5OiA2NjAzLjAxLFxyXG4gICAgICAgICAgICB6OiAzMS44NSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlbmd0aDogMTUuMixcclxuICAgICAgICB3aWR0aDogMjYuMCxcclxuICAgICAgICBoZWFkaW5nOiAxMCxcclxuICAgICAgICBtaW5aOiAzMC44NSxcclxuICAgICAgICBtYXhaOiAzNi4wNSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY2VudGVyOiB7XHJcbiAgICAgICAgICAgIHg6IC05NC40MixcclxuICAgICAgICAgICAgeTogNjQxOS43LFxyXG4gICAgICAgICAgICB6OiAzMS40OSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxlbmd0aDogMTEuMixcclxuICAgICAgICB3aWR0aDogMTUuOCxcclxuICAgICAgICBoZWFkaW5nOiA0NSxcclxuICAgICAgICBtaW5aOiAzMC4yOSxcclxuICAgICAgICBtYXhaOiAzNC44OSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY2VudGVyOiB7IHg6IDIwMDYuMzcsIHk6IDM3NzMuODcsIHo6IDMyLjE4IH0sXHJcbiAgICAgICAgbGVuZ3RoOiA5LjQsXHJcbiAgICAgICAgd2lkdGg6IDE3LjAsXHJcbiAgICAgICAgaGVhZGluZzogMzAsXHJcbiAgICAgICAgbWluWjogMzAuOTgsXHJcbiAgICAgICAgbWF4WjogMzYuOTgsXHJcbiAgICB9LFxyXG5dO1xyXG5sZXQgcGVla0lkcyA9IFtdO1xyXG5sZXQgaW5ab25lID0gZmFsc2U7XHJcbmNvbnN0IGlzSW5ab25lID0gKCkgPT4ge1xyXG4gICAgLy8gVE9ETzogaW50ZWdyYXRlIHRoaXMgc2hpdFxyXG4gICAgcmV0dXJuIGluWm9uZTtcclxufTtcclxuZXhwb3J0cy5pc0luWm9uZSA9IGlzSW5ab25lO1xyXG5zZXRJbW1lZGlhdGUoKCkgPT4ge1xyXG4gICAgZ2FzU3RhdGlvblpvbmVzLmZvckVhY2goKHpvbmUsIGlkeCkgPT4ge1xyXG4gICAgICAgIGNsaWVudF8xLlBvbHlab25lLmFkZEJveFpvbmUoJ2dhc3N0YXRpb24nLCB6b25lLmNlbnRlciwgem9uZS53aWR0aCwgem9uZS5sZW5ndGgsIHtcclxuICAgICAgICAgICAgbWluWjogem9uZS5taW5aLFxyXG4gICAgICAgICAgICBtYXhaOiB6b25lLm1heFosXHJcbiAgICAgICAgICAgIC8vIEZvciBzb21lIHJlYXNvbiBhcmUgb3VyIGhlYWRpbmcgc2hpZnRlciBxdWFydGVyIG9mIGEgY2lyY2xlXHJcbiAgICAgICAgICAgIGhlYWRpbmc6IHpvbmUuaGVhZGluZyArIDkwLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBpZDogaWR4LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIERHQ29yZS5CbGlwcy5BZGQoJ2dhc3N0YXRpb24nLCB7XHJcbiAgICAgICAgICAgIGlkOiBgc3RhdGlvbi0ke2lkeH1gLFxyXG4gICAgICAgICAgICB0ZXh0OiAnVGFua3N0YXRpb24nLFxyXG4gICAgICAgICAgICBjb29yZHM6IHpvbmUuY2VudGVyLFxyXG4gICAgICAgICAgICBzcHJpdGU6IDM2MSxcclxuICAgICAgICAgICAgY29sb3I6IDEsXHJcbiAgICAgICAgICAgIHNjYWxlOiAwLjYsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGNsaWVudF8xLlBvbHlab25lLm9uRW50ZXIoJ2dhc3N0YXRpb24nLCAoKSA9PiB7XHJcbiAgICAgICAgaW5ab25lID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgY2xpZW50XzEuUG9seVpvbmUub25MZWF2ZSgnZ2Fzc3RhdGlvbicsICgpID0+IHtcclxuICAgICAgICBpblpvbmUgPSBmYWxzZTtcclxuICAgIH0pO1xyXG4gICAgcGVla0lkcyA9IGNsaWVudF8xLlBlZWsuYWRkR2xvYmFsRW50cnkoJ3ZlaGljbGUnLCB7XHJcbiAgICAgICAgZGlzdGFuY2U6IDIsXHJcbiAgICAgICAgb3B0aW9uczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1RhbmsnLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhcyBmYS1nYXMtcHVtcCcsXHJcbiAgICAgICAgICAgICAgICBhY3Rpb24oXywgZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKDAsIHNlcnZpY2VfZnVlbF8xLm9wZW5SZWZ1ZWxNZW51KSgoMCwgdmVoaWNsZV8xLmdldFZlaGljbGVWaW4pKGVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNhbkludGVyYWN0KGVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoMCwgc2VydmljZV9mdWVsXzEuY2FuUmVmZXVsKShlbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgfSk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/modules/fuel/zones.fuel.ts\n")},"./src/client/modules/garages/controller.garages.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst service_garages_1 = __webpack_require__(/*! ./service.garages */ \"./src/client/modules/garages/service.garages.ts\");\r\nconst client_1 = __webpack_require__(/*! @dgx/client */ \"../../ts-shared/typescript/src/client/index.ts\");\r\nonNet('vehicles:garages:load', (garages) => {\r\n    (0, service_garages_1.registerGarages)(garages);\r\n});\r\non('dg-vehicles:garages:park', () => {\r\n    const targetVeh = global.exports['dg-lib'].GetCurrentEntity();\r\n    if (!NetworkGetEntityIsNetworked(targetVeh))\r\n        return;\r\n    client_1.Events.emitNet('vehicles:garage:park', NetworkGetNetworkIdFromEntity(targetVeh));\r\n});\r\nclient_1.UI.RegisterUICallback('vehicles:garage:takeVehicle', (data, cb) => {\r\n    client_1.Events.emitNet('vehicles:garage:takeVehicle', data);\r\n    cb({\r\n        data: {},\r\n        meta: {\r\n            ok: true,\r\n            message: 'done'\r\n        }\r\n    });\r\n});\r\nclient_1.PolyZone.onEnter('garage', (name, data) => {\r\n    client_1.RPC.execute('vehicles:garage:enteredZone', data.id);\r\n});\r\nclient_1.PolyZone.onLeave('garage', name => {\r\n    client_1.RPC.execute('vehicles:garage:leftZone');\r\n});\r\nglobal.exports('IsOnParkingSpot', service_garages_1.IsOnParkingSpot);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L21vZHVsZXMvZ2FyYWdlcy9jb250cm9sbGVyLmdhcmFnZXMudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMEJBQTBCLG1CQUFPLENBQUMsMEVBQW1CO0FBQ3JELGlCQUFpQixtQkFBTyxDQUFDLG1FQUFhO0FBQ3RDO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2RnLXZlaGljbGVzLy4vc3JjL2NsaWVudC9tb2R1bGVzL2dhcmFnZXMvY29udHJvbGxlci5nYXJhZ2VzLnRzPzU3MGMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3Qgc2VydmljZV9nYXJhZ2VzXzEgPSByZXF1aXJlKFwiLi9zZXJ2aWNlLmdhcmFnZXNcIik7XHJcbmNvbnN0IGNsaWVudF8xID0gcmVxdWlyZShcIkBkZ3gvY2xpZW50XCIpO1xyXG5vbk5ldCgndmVoaWNsZXM6Z2FyYWdlczpsb2FkJywgKGdhcmFnZXMpID0+IHtcclxuICAgICgwLCBzZXJ2aWNlX2dhcmFnZXNfMS5yZWdpc3RlckdhcmFnZXMpKGdhcmFnZXMpO1xyXG59KTtcclxub24oJ2RnLXZlaGljbGVzOmdhcmFnZXM6cGFyaycsICgpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldFZlaCA9IGdsb2JhbC5leHBvcnRzWydkZy1saWInXS5HZXRDdXJyZW50RW50aXR5KCk7XHJcbiAgICBpZiAoIU5ldHdvcmtHZXRFbnRpdHlJc05ldHdvcmtlZCh0YXJnZXRWZWgpKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGNsaWVudF8xLkV2ZW50cy5lbWl0TmV0KCd2ZWhpY2xlczpnYXJhZ2U6cGFyaycsIE5ldHdvcmtHZXROZXR3b3JrSWRGcm9tRW50aXR5KHRhcmdldFZlaCkpO1xyXG59KTtcclxuY2xpZW50XzEuVUkuUmVnaXN0ZXJVSUNhbGxiYWNrKCd2ZWhpY2xlczpnYXJhZ2U6dGFrZVZlaGljbGUnLCAoZGF0YSwgY2IpID0+IHtcclxuICAgIGNsaWVudF8xLkV2ZW50cy5lbWl0TmV0KCd2ZWhpY2xlczpnYXJhZ2U6dGFrZVZlaGljbGUnLCBkYXRhKTtcclxuICAgIGNiKHtcclxuICAgICAgICBkYXRhOiB7fSxcclxuICAgICAgICBtZXRhOiB7XHJcbiAgICAgICAgICAgIG9rOiB0cnVlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAnZG9uZSdcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7XHJcbmNsaWVudF8xLlBvbHlab25lLm9uRW50ZXIoJ2dhcmFnZScsIChuYW1lLCBkYXRhKSA9PiB7XHJcbiAgICBjbGllbnRfMS5SUEMuZXhlY3V0ZSgndmVoaWNsZXM6Z2FyYWdlOmVudGVyZWRab25lJywgZGF0YS5pZCk7XHJcbn0pO1xyXG5jbGllbnRfMS5Qb2x5Wm9uZS5vbkxlYXZlKCdnYXJhZ2UnLCBuYW1lID0+IHtcclxuICAgIGNsaWVudF8xLlJQQy5leGVjdXRlKCd2ZWhpY2xlczpnYXJhZ2U6bGVmdFpvbmUnKTtcclxufSk7XHJcbmdsb2JhbC5leHBvcnRzKCdJc09uUGFya2luZ1Nwb3QnLCBzZXJ2aWNlX2dhcmFnZXNfMS5Jc09uUGFya2luZ1Nwb3QpO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/client/modules/garages/controller.garages.ts\n")},"./src/client/modules/garages/service.garages.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.IsOnParkingSpot = exports.registerGarages = void 0;\r\nconst client_1 = __webpack_require__(/*! @dgx/client */ "../../ts-shared/typescript/src/client/index.ts");\r\nconst garages = new Map();\r\nconst createGarageZone = (garage) => {\r\n    if (Array.isArray(garage.location.vector)) {\r\n        client_1.PolyZone.addPolyZone("garage", garage.location.vector, Object.assign(Object.assign({}, garage.location.options), { data: {\r\n                id: garage.garage_id\r\n            } }), true);\r\n    }\r\n    else {\r\n        garage.location = garage.location;\r\n        client_1.PolyZone.addBoxZone("garage", garage.location.vector, garage.location.width, garage.location.length, Object.assign(Object.assign({}, garage.location.options), { data: {\r\n                id: garage.garage_id\r\n            } }), true);\r\n    }\r\n};\r\nconst registerGarages = (pGarages) => {\r\n    pGarages.forEach(g => {\r\n        garages.set(g.garage_id, g);\r\n        createGarageZone(g);\r\n    });\r\n    console.log(`[Garages] Loaded ${garages.size} garages`);\r\n};\r\nexports.registerGarages = registerGarages;\r\nconst IsOnParkingSpot = (pEntity, isPly) => __awaiter(void 0, void 0, void 0, function* () {\r\n    if (isPly) {\r\n        if (!NetworkGetEntityIsNetworked(pEntity))\r\n            return false;\r\n    }\r\n    return client_1.RPC.execute(\'vehicles:garage:isOnParkingSpot\', NetworkGetNetworkIdFromEntity(pEntity), isPly);\r\n});\r\nexports.IsOnParkingSpot = IsOnParkingSpot;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L21vZHVsZXMvZ2FyYWdlcy9zZXJ2aWNlLmdhcmFnZXMudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QixHQUFHLHVCQUF1QjtBQUNqRCxpQkFBaUIsbUJBQU8sQ0FBQyxtRUFBYTtBQUN0QztBQUNBO0FBQ0E7QUFDQSxzR0FBc0csOEJBQThCO0FBQ3BJO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLG9KQUFvSiw4QkFBOEI7QUFDbEw7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG9DQUFvQyxjQUFjO0FBQ2xEO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCx1QkFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZy12ZWhpY2xlcy8uL3NyYy9jbGllbnQvbW9kdWxlcy9nYXJhZ2VzL3NlcnZpY2UuZ2FyYWdlcy50cz82NDBlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5Jc09uUGFya2luZ1Nwb3QgPSBleHBvcnRzLnJlZ2lzdGVyR2FyYWdlcyA9IHZvaWQgMDtcclxuY29uc3QgY2xpZW50XzEgPSByZXF1aXJlKFwiQGRneC9jbGllbnRcIik7XHJcbmNvbnN0IGdhcmFnZXMgPSBuZXcgTWFwKCk7XHJcbmNvbnN0IGNyZWF0ZUdhcmFnZVpvbmUgPSAoZ2FyYWdlKSA9PiB7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShnYXJhZ2UubG9jYXRpb24udmVjdG9yKSkge1xyXG4gICAgICAgIGNsaWVudF8xLlBvbHlab25lLmFkZFBvbHlab25lKFwiZ2FyYWdlXCIsIGdhcmFnZS5sb2NhdGlvbi52ZWN0b3IsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZ2FyYWdlLmxvY2F0aW9uLm9wdGlvbnMpLCB7IGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGlkOiBnYXJhZ2UuZ2FyYWdlX2lkXHJcbiAgICAgICAgICAgIH0gfSksIHRydWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ2FyYWdlLmxvY2F0aW9uID0gZ2FyYWdlLmxvY2F0aW9uO1xyXG4gICAgICAgIGNsaWVudF8xLlBvbHlab25lLmFkZEJveFpvbmUoXCJnYXJhZ2VcIiwgZ2FyYWdlLmxvY2F0aW9uLnZlY3RvciwgZ2FyYWdlLmxvY2F0aW9uLndpZHRoLCBnYXJhZ2UubG9jYXRpb24ubGVuZ3RoLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGdhcmFnZS5sb2NhdGlvbi5vcHRpb25zKSwgeyBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBpZDogZ2FyYWdlLmdhcmFnZV9pZFxyXG4gICAgICAgICAgICB9IH0pLCB0cnVlKTtcclxuICAgIH1cclxufTtcclxuY29uc3QgcmVnaXN0ZXJHYXJhZ2VzID0gKHBHYXJhZ2VzKSA9PiB7XHJcbiAgICBwR2FyYWdlcy5mb3JFYWNoKGcgPT4ge1xyXG4gICAgICAgIGdhcmFnZXMuc2V0KGcuZ2FyYWdlX2lkLCBnKTtcclxuICAgICAgICBjcmVhdGVHYXJhZ2Vab25lKGcpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zb2xlLmxvZyhgW0dhcmFnZXNdIExvYWRlZCAke2dhcmFnZXMuc2l6ZX0gZ2FyYWdlc2ApO1xyXG59O1xyXG5leHBvcnRzLnJlZ2lzdGVyR2FyYWdlcyA9IHJlZ2lzdGVyR2FyYWdlcztcclxuY29uc3QgSXNPblBhcmtpbmdTcG90ID0gKHBFbnRpdHksIGlzUGx5KSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgIGlmIChpc1BseSkge1xyXG4gICAgICAgIGlmICghTmV0d29ya0dldEVudGl0eUlzTmV0d29ya2VkKHBFbnRpdHkpKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xpZW50XzEuUlBDLmV4ZWN1dGUoJ3ZlaGljbGVzOmdhcmFnZTppc09uUGFya2luZ1Nwb3QnLCBOZXR3b3JrR2V0TmV0d29ya0lkRnJvbUVudGl0eShwRW50aXR5KSwgaXNQbHkpO1xyXG59KTtcclxuZXhwb3J0cy5Jc09uUGFya2luZ1Nwb3QgPSBJc09uUGFya2luZ1Nwb3Q7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/client/modules/garages/service.garages.ts\n')},"./src/client/modules/keys/controller.keys.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst client_1 = __webpack_require__(/*! @dgx/client */ \"../../ts-shared/typescript/src/client/index.ts\");\r\nconst service_keys_1 = __webpack_require__(/*! ./service.keys */ \"./src/client/modules/keys/service.keys.ts\");\r\nclient_1.Events.onNet('vehicles:keys:startLockpick', (id, amount, diff) => {\r\n    global.exports['dg-keygame'].OpenGame((success) => {\r\n        client_1.Events.emitNet('vehicles:keys:finishLockPick', id, success);\r\n    }, amount, diff);\r\n});\r\nglobal.exports('hasVehicleKeys', (vehicle) => __awaiter(void 0, void 0, void 0, function* () {\r\n    if (!vehicle) {\r\n        const ped = PlayerPedId();\r\n        vehicle = GetVehiclePedIsIn(ped, false);\r\n    }\r\n    return (0, service_keys_1.hasVehicleKey)(vehicle);\r\n}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L21vZHVsZXMva2V5cy9jb250cm9sbGVyLmtleXMudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQixtQkFBTyxDQUFDLG1FQUFhO0FBQ3RDLHVCQUF1QixtQkFBTyxDQUFDLGlFQUFnQjtBQUMvQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZy12ZWhpY2xlcy8uL3NyYy9jbGllbnQvbW9kdWxlcy9rZXlzL2NvbnRyb2xsZXIua2V5cy50cz80Yjc4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgY2xpZW50XzEgPSByZXF1aXJlKFwiQGRneC9jbGllbnRcIik7XHJcbmNvbnN0IHNlcnZpY2Vfa2V5c18xID0gcmVxdWlyZShcIi4vc2VydmljZS5rZXlzXCIpO1xyXG5jbGllbnRfMS5FdmVudHMub25OZXQoJ3ZlaGljbGVzOmtleXM6c3RhcnRMb2NrcGljaycsIChpZCwgYW1vdW50LCBkaWZmKSA9PiB7XHJcbiAgICBnbG9iYWwuZXhwb3J0c1snZGcta2V5Z2FtZSddLk9wZW5HYW1lKChzdWNjZXNzKSA9PiB7XHJcbiAgICAgICAgY2xpZW50XzEuRXZlbnRzLmVtaXROZXQoJ3ZlaGljbGVzOmtleXM6ZmluaXNoTG9ja1BpY2snLCBpZCwgc3VjY2Vzcyk7XHJcbiAgICB9LCBhbW91bnQsIGRpZmYpO1xyXG59KTtcclxuZ2xvYmFsLmV4cG9ydHMoJ2hhc1ZlaGljbGVLZXlzJywgKHZlaGljbGUpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgaWYgKCF2ZWhpY2xlKSB7XHJcbiAgICAgICAgY29uc3QgcGVkID0gUGxheWVyUGVkSWQoKTtcclxuICAgICAgICB2ZWhpY2xlID0gR2V0VmVoaWNsZVBlZElzSW4ocGVkLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKDAsIHNlcnZpY2Vfa2V5c18xLmhhc1ZlaGljbGVLZXkpKHZlaGljbGUpO1xyXG59KSk7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/client/modules/keys/controller.keys.ts\n")},"./src/client/modules/keys/service.keys.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.hasVehicleKey = void 0;\r\nconst client_1 = __webpack_require__(/*! @dgx/client */ "../../ts-shared/typescript/src/client/index.ts");\r\nconst hasVehicleKey = (vehicle) => __awaiter(void 0, void 0, void 0, function* () {\r\n    if (!DoesEntityExist(vehicle))\r\n        return false;\r\n    if (!NetworkGetEntityIsNetworked(vehicle))\r\n        return false;\r\n    const netId = NetworkGetNetworkIdFromEntity(vehicle);\r\n    return client_1.RPC.execute(\'vehicles:keys:has\', netId);\r\n});\r\nexports.hasVehicleKey = hasVehicleKey;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L21vZHVsZXMva2V5cy9zZXJ2aWNlLmtleXMudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQixpQkFBaUIsbUJBQU8sQ0FBQyxtRUFBYTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxxQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZy12ZWhpY2xlcy8uL3NyYy9jbGllbnQvbW9kdWxlcy9rZXlzL3NlcnZpY2Uua2V5cy50cz8yZmEzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5oYXNWZWhpY2xlS2V5ID0gdm9pZCAwO1xyXG5jb25zdCBjbGllbnRfMSA9IHJlcXVpcmUoXCJAZGd4L2NsaWVudFwiKTtcclxuY29uc3QgaGFzVmVoaWNsZUtleSA9ICh2ZWhpY2xlKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgIGlmICghRG9lc0VudGl0eUV4aXN0KHZlaGljbGUpKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIGlmICghTmV0d29ya0dldEVudGl0eUlzTmV0d29ya2VkKHZlaGljbGUpKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIGNvbnN0IG5ldElkID0gTmV0d29ya0dldE5ldHdvcmtJZEZyb21FbnRpdHkodmVoaWNsZSk7XHJcbiAgICByZXR1cm4gY2xpZW50XzEuUlBDLmV4ZWN1dGUoJ3ZlaGljbGVzOmtleXM6aGFzJywgbmV0SWQpO1xyXG59KTtcclxuZXhwb3J0cy5oYXNWZWhpY2xlS2V5ID0gaGFzVmVoaWNsZUtleTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/client/modules/keys/service.keys.ts\n')},"./src/client/modules/status/controller.status.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst client_1 = __webpack_require__(/*! @dgx/client */ "../../ts-shared/typescript/src/client/index.ts");\r\nclient_1.RPC.register("vehicles:client:getWindowSate", (netId) => {\r\n    const veh = NetworkGetEntityFromNetworkId(netId);\r\n    const state = [];\r\n    for (let i = 0; i < 8; i++) {\r\n        state.push(IsVehicleWindowIntact(veh, i));\r\n    }\r\n    return state;\r\n});\r\nclient_1.RPC.register(\'vehicles:client:getDoorSate\', (netId) => {\r\n    const veh = NetworkGetEntityFromNetworkId(netId);\r\n    const state = [];\r\n    for (let i = 0; i < 6; i++) {\r\n        state.push(IsVehicleDoorDamaged(veh, i));\r\n    }\r\n    return state;\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2xpZW50L21vZHVsZXMvc3RhdHVzL2NvbnRyb2xsZXIuc3RhdHVzLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQixtQkFBTyxDQUFDLG1FQUFhO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGctdmVoaWNsZXMvLi9zcmMvY2xpZW50L21vZHVsZXMvc3RhdHVzL2NvbnRyb2xsZXIuc3RhdHVzLnRzP2VkMGUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgY2xpZW50XzEgPSByZXF1aXJlKFwiQGRneC9jbGllbnRcIik7XHJcbmNsaWVudF8xLlJQQy5yZWdpc3RlcihcInZlaGljbGVzOmNsaWVudDpnZXRXaW5kb3dTYXRlXCIsIChuZXRJZCkgPT4ge1xyXG4gICAgY29uc3QgdmVoID0gTmV0d29ya0dldEVudGl0eUZyb21OZXR3b3JrSWQobmV0SWQpO1xyXG4gICAgY29uc3Qgc3RhdGUgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XHJcbiAgICAgICAgc3RhdGUucHVzaChJc1ZlaGljbGVXaW5kb3dJbnRhY3QodmVoLCBpKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RhdGU7XHJcbn0pO1xyXG5jbGllbnRfMS5SUEMucmVnaXN0ZXIoJ3ZlaGljbGVzOmNsaWVudDpnZXREb29yU2F0ZScsIChuZXRJZCkgPT4ge1xyXG4gICAgY29uc3QgdmVoID0gTmV0d29ya0dldEVudGl0eUZyb21OZXR3b3JrSWQobmV0SWQpO1xyXG4gICAgY29uc3Qgc3RhdGUgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7XHJcbiAgICAgICAgc3RhdGUucHVzaChJc1ZlaGljbGVEb29yRGFtYWdlZCh2ZWgsIGkpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdGF0ZTtcclxufSk7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/client/modules/status/controller.status.ts\n')},"../../ts-shared/typescript/src/client/classes/events.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Events = void 0;\r\nconst shared_1 = __webpack_require__(/*! ../../shared */ \"../../ts-shared/typescript/src/shared/index.ts\");\r\nconst decorators_1 = __webpack_require__(/*! ../../shared/decorators */ \"../../ts-shared/typescript/src/shared/decorators/index.ts\");\r\nclass TokenStorage {\r\n    constructor() {\r\n        emitNet('__dg_auth_register', GetCurrentResourceName());\r\n        onNet('__dg_auth_authenticated', (target, token) => {\r\n            if (target === -1 || target === GetCurrentResourceName()) {\r\n                this.token = token;\r\n            }\r\n        });\r\n    }\r\n    static getInstance() {\r\n        if (!this.instance) {\r\n            this.instance = new TokenStorage();\r\n        }\r\n        return this.instance;\r\n    }\r\n    getToken() {\r\n        return this.token;\r\n    }\r\n    isClientAuthenticated() {\r\n        return !!this.token;\r\n    }\r\n    awaitPlayerAuthentication() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            while (!this.isClientAuthenticated()) {\r\n                yield shared_1.Util.Delay(1);\r\n            }\r\n        });\r\n    }\r\n}\r\nclass Events extends shared_1.Util.Singleton() {\r\n    constructor() {\r\n        super();\r\n        this.resourceEventsMap = new Map();\r\n        this.serverEventHandlers = new Map();\r\n        this.localEventHandlers = new Map();\r\n        this.tokenStorage = TokenStorage.getInstance();\r\n        this.resName = GetCurrentResourceName();\r\n        onNet('__dg_shared_events', (target, origin, eventIdObject) => {\r\n            if (target !== this.resName)\r\n                return;\r\n            const eventIdMap = new Map();\r\n            // Object to map\r\n            for (const key in eventIdObject) {\r\n                eventIdMap.set(key, eventIdObject[key]);\r\n            }\r\n            this.resourceEventsMap.set(origin, eventIdMap);\r\n        });\r\n        onNet('__dg_evt_s_c_emitNet', (data) => {\r\n            if (!this.serverEventHandlers.has(data.eventName))\r\n                return;\r\n            if (data.token !== 'all' && this.tokenStorage.getToken() !== data.token)\r\n                return;\r\n            this.serverEventHandlers.get(data.eventName)(...data.args);\r\n        });\r\n        on('__dg_evt_c_c_emit', (data) => {\r\n            this.localEventHandlers.has(data.eventName) && this.localEventHandlers.get(data.eventName)(...data.args);\r\n        });\r\n    }\r\n    getTargetResourceForId(eventName) {\r\n        for (const [resource, eventIdMap] of this.resourceEventsMap) {\r\n            if (eventIdMap.has(eventName)) {\r\n                return [resource, eventIdMap.get(eventName)];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    emitNet(event, ...args) {\r\n        setImmediate(() => __awaiter(this, void 0, void 0, function* () {\r\n            yield this.tokenStorage.awaitPlayerAuthentication();\r\n            if (!this.getTargetResourceForId(event)) {\r\n                emitNet('__dg_evt_c_s_emitNet', {\r\n                    token: this.tokenStorage.getToken(),\r\n                    origin: this.resName,\r\n                    eventId: 'error',\r\n                    errorId: shared_1.Util.uuidv4(),\r\n                });\r\n                console.log(`[DG] Event ${event} not found in any resource.`);\r\n                return;\r\n            }\r\n            const [target, eventId] = this.getTargetResourceForId(event);\r\n            if (shared_1.Util.isDevEnv()) {\r\n                console.log(`[DGX] [${this.resName}] Event: ${event} | ID: ${eventId}`);\r\n            }\r\n            emitNet('__dg_evt_c_s_emitNet', {\r\n                token: this.tokenStorage.getToken(),\r\n                origin: this.resName,\r\n                target,\r\n                eventId,\r\n                args,\r\n            });\r\n        }));\r\n    }\r\n    onNet(evtName, handler) {\r\n        this.serverEventHandlers.set(evtName, handler);\r\n    }\r\n    emit(evtName, ...args) {\r\n        emit(`__dg_evt_c_c_emit`, {\r\n            eventName: evtName,\r\n            args,\r\n        });\r\n    }\r\n    on(evtName, handler) {\r\n        this.localEventHandlers.set(evtName, handler);\r\n    }\r\n}\r\nexports.Events = Events;\r\nlet RPCManager = class RPCManager {\r\n    constructor() {\r\n        // Map of resourceNames onto PromiseIds\r\n        this.awaitingEvents = new Map();\r\n        this.eventInstance = Events.getInstance();\r\n        // Receiver\r\n        this.eventInstance.onNet('__dg_RPC_s_c_request', (data) => this.handleIncomingRequest(data));\r\n        // Emitter\r\n        this.eventInstance.onNet(`__dg_RPC_c_s_response`, (data) => this.handleIncomingResponse(data));\r\n    }\r\n    handleIncomingRequest(data) {\r\n        this.eventInstance.emit('__dg_RPC_handleRequest', data);\r\n    }\r\n    handleIncomingResponse(data) {\r\n        if (!this.awaitingEvents.has(data.resource))\r\n            return;\r\n        if (!this.awaitingEvents.get(data.resource).has(data.id))\r\n            return;\r\n        this.awaitingEvents.get(data.resource).get(data.id).res(data.result);\r\n        this.awaitingEvents.get(data.resource).delete(data.id);\r\n    }\r\n    doRPCSrvRequest(data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this.awaitingEvents.has(data.resource)) {\r\n                this.awaitingEvents.set(data.resource, new Map());\r\n            }\r\n            const promise = new Promise(res => {\r\n                this.awaitingEvents.get(data.resource).set(data.id, { res });\r\n                setTimeout(() => {\r\n                    if (this.awaitingEvents.get(data.resource).has(data.id)) {\r\n                        res(null);\r\n                        this.awaitingEvents.get(data.resource).delete(data.id);\r\n                    }\r\n                }, 10000);\r\n            });\r\n            this.eventInstance.emitNet('__dg_RPC_c_s_request', data);\r\n            return promise;\r\n        });\r\n    }\r\n};\r\n__decorate([\r\n    (0, decorators_1.Export)('doRPCSrvRequest')\r\n], RPCManager.prototype, \"doRPCSrvRequest\", null);\r\nRPCManager = __decorate([\r\n    (0, decorators_1.ExportRegister)()\r\n], RPCManager);\r\nclass RPC {\r\n    constructor() {\r\n        this.idsInUse = new Set();\r\n        // Receiver\r\n        this.registeredHandlers = new Map();\r\n        this.eventInstance = Events.getInstance();\r\n        // Executor\r\n        this.resourceName = GetCurrentResourceName();\r\n        // Receiver\r\n        this.eventInstance.on('__dg_RPC_handleRequest', (data) => this.handleRequest(data));\r\n    }\r\n    getPromiseId() {\r\n        const id = shared_1.Util.getRndInteger(100000, 999999);\r\n        if (this.idsInUse.has(id)) {\r\n            return this.getPromiseId();\r\n        }\r\n        this.idsInUse.add(id);\r\n        return id;\r\n    }\r\n    handleRequest(data) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.registeredHandlers.has(data.name)) {\r\n                const result = yield this.registeredHandlers.get(data.name)(...data.args);\r\n                this.eventInstance.emitNet('__dg_RPC_s_c_response', {\r\n                    id: data.id,\r\n                    result,\r\n                    resource: data.resource,\r\n                });\r\n            }\r\n        });\r\n    }\r\n    execute(evtName, ...args) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promId = this.getPromiseId();\r\n            return global.exports['ts-shared'].doRPCSrvRequest({\r\n                id: promId,\r\n                name: evtName,\r\n                args,\r\n                resource: this.resourceName,\r\n            });\r\n        });\r\n    }\r\n    register(name, handler) {\r\n        this.registeredHandlers.set(name, handler);\r\n    }\r\n}\r\nconst instances = { Events: Events.getInstance(), RPC: new RPC() };\r\nif (GetCurrentResourceName() === 'ts-shared') {\r\n    instances.RPCManager = new RPCManager();\r\n}\r\nexports[\"default\"] = instances;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL2NsaWVudC9jbGFzc2VzL2V2ZW50cy50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxRQUFRO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWM7QUFDZCxpQkFBaUIsbUJBQU8sQ0FBQyxvRUFBYztBQUN2QyxxQkFBcUIsbUJBQU8sQ0FBQywwRkFBeUI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiwwQ0FBMEMsT0FBTztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxhQUFhLFdBQVcsT0FBTyxRQUFRLFFBQVE7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsS0FBSztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGctdmVoaWNsZXMvLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL2NsaWVudC9jbGFzc2VzL2V2ZW50cy50cz8xYzZhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5FdmVudHMgPSB2b2lkIDA7XHJcbmNvbnN0IHNoYXJlZF8xID0gcmVxdWlyZShcIi4uLy4uL3NoYXJlZFwiKTtcclxuY29uc3QgZGVjb3JhdG9yc18xID0gcmVxdWlyZShcIi4uLy4uL3NoYXJlZC9kZWNvcmF0b3JzXCIpO1xyXG5jbGFzcyBUb2tlblN0b3JhZ2Uge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgZW1pdE5ldCgnX19kZ19hdXRoX3JlZ2lzdGVyJywgR2V0Q3VycmVudFJlc291cmNlTmFtZSgpKTtcclxuICAgICAgICBvbk5ldCgnX19kZ19hdXRoX2F1dGhlbnRpY2F0ZWQnLCAodGFyZ2V0LCB0b2tlbikgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09PSAtMSB8fCB0YXJnZXQgPT09IEdldEN1cnJlbnRSZXNvdXJjZU5hbWUoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgVG9rZW5TdG9yYWdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xyXG4gICAgfVxyXG4gICAgZ2V0VG9rZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudG9rZW47XHJcbiAgICB9XHJcbiAgICBpc0NsaWVudEF1dGhlbnRpY2F0ZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy50b2tlbjtcclxuICAgIH1cclxuICAgIGF3YWl0UGxheWVyQXV0aGVudGljYXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgd2hpbGUgKCF0aGlzLmlzQ2xpZW50QXV0aGVudGljYXRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICB5aWVsZCBzaGFyZWRfMS5VdGlsLkRlbGF5KDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgRXZlbnRzIGV4dGVuZHMgc2hhcmVkXzEuVXRpbC5TaW5nbGV0b24oKSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMucmVzb3VyY2VFdmVudHNNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5zZXJ2ZXJFdmVudEhhbmRsZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMubG9jYWxFdmVudEhhbmRsZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMudG9rZW5TdG9yYWdlID0gVG9rZW5TdG9yYWdlLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgdGhpcy5yZXNOYW1lID0gR2V0Q3VycmVudFJlc291cmNlTmFtZSgpO1xyXG4gICAgICAgIG9uTmV0KCdfX2RnX3NoYXJlZF9ldmVudHMnLCAodGFyZ2V0LCBvcmlnaW4sIGV2ZW50SWRPYmplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCAhPT0gdGhpcy5yZXNOYW1lKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCBldmVudElkTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICAvLyBPYmplY3QgdG8gbWFwXHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGV2ZW50SWRPYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50SWRNYXAuc2V0KGtleSwgZXZlbnRJZE9iamVjdFtrZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlRXZlbnRzTWFwLnNldChvcmlnaW4sIGV2ZW50SWRNYXApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG9uTmV0KCdfX2RnX2V2dF9zX2NfZW1pdE5ldCcsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zZXJ2ZXJFdmVudEhhbmRsZXJzLmhhcyhkYXRhLmV2ZW50TmFtZSkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnRva2VuICE9PSAnYWxsJyAmJiB0aGlzLnRva2VuU3RvcmFnZS5nZXRUb2tlbigpICE9PSBkYXRhLnRva2VuKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLnNlcnZlckV2ZW50SGFuZGxlcnMuZ2V0KGRhdGEuZXZlbnROYW1lKSguLi5kYXRhLmFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG9uKCdfX2RnX2V2dF9jX2NfZW1pdCcsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxFdmVudEhhbmRsZXJzLmhhcyhkYXRhLmV2ZW50TmFtZSkgJiYgdGhpcy5sb2NhbEV2ZW50SGFuZGxlcnMuZ2V0KGRhdGEuZXZlbnROYW1lKSguLi5kYXRhLmFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0VGFyZ2V0UmVzb3VyY2VGb3JJZChldmVudE5hbWUpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IFtyZXNvdXJjZSwgZXZlbnRJZE1hcF0gb2YgdGhpcy5yZXNvdXJjZUV2ZW50c01hcCkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnRJZE1hcC5oYXMoZXZlbnROYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtyZXNvdXJjZSwgZXZlbnRJZE1hcC5nZXQoZXZlbnROYW1lKV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBlbWl0TmV0KGV2ZW50LCAuLi5hcmdzKSB7XHJcbiAgICAgICAgc2V0SW1tZWRpYXRlKCgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgeWllbGQgdGhpcy50b2tlblN0b3JhZ2UuYXdhaXRQbGF5ZXJBdXRoZW50aWNhdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2V0VGFyZ2V0UmVzb3VyY2VGb3JJZChldmVudCkpIHtcclxuICAgICAgICAgICAgICAgIGVtaXROZXQoJ19fZGdfZXZ0X2Nfc19lbWl0TmV0Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuU3RvcmFnZS5nZXRUb2tlbigpLFxyXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbjogdGhpcy5yZXNOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SWQ6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JJZDogc2hhcmVkXzEuVXRpbC51dWlkdjQoKSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtER10gRXZlbnQgJHtldmVudH0gbm90IGZvdW5kIGluIGFueSByZXNvdXJjZS5gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBbdGFyZ2V0LCBldmVudElkXSA9IHRoaXMuZ2V0VGFyZ2V0UmVzb3VyY2VGb3JJZChldmVudCk7XHJcbiAgICAgICAgICAgIGlmIChzaGFyZWRfMS5VdGlsLmlzRGV2RW52KCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbREdYXSBbJHt0aGlzLnJlc05hbWV9XSBFdmVudDogJHtldmVudH0gfCBJRDogJHtldmVudElkfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVtaXROZXQoJ19fZGdfZXZ0X2Nfc19lbWl0TmV0Jywge1xyXG4gICAgICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW5TdG9yYWdlLmdldFRva2VuKCksXHJcbiAgICAgICAgICAgICAgICBvcmlnaW46IHRoaXMucmVzTmFtZSxcclxuICAgICAgICAgICAgICAgIHRhcmdldCxcclxuICAgICAgICAgICAgICAgIGV2ZW50SWQsXHJcbiAgICAgICAgICAgICAgICBhcmdzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbiAgICBvbk5ldChldnROYW1lLCBoYW5kbGVyKSB7XHJcbiAgICAgICAgdGhpcy5zZXJ2ZXJFdmVudEhhbmRsZXJzLnNldChldnROYW1lLCBoYW5kbGVyKTtcclxuICAgIH1cclxuICAgIGVtaXQoZXZ0TmFtZSwgLi4uYXJncykge1xyXG4gICAgICAgIGVtaXQoYF9fZGdfZXZ0X2NfY19lbWl0YCwge1xyXG4gICAgICAgICAgICBldmVudE5hbWU6IGV2dE5hbWUsXHJcbiAgICAgICAgICAgIGFyZ3MsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBvbihldnROYW1lLCBoYW5kbGVyKSB7XHJcbiAgICAgICAgdGhpcy5sb2NhbEV2ZW50SGFuZGxlcnMuc2V0KGV2dE5hbWUsIGhhbmRsZXIpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuRXZlbnRzID0gRXZlbnRzO1xyXG5sZXQgUlBDTWFuYWdlciA9IGNsYXNzIFJQQ01hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgLy8gTWFwIG9mIHJlc291cmNlTmFtZXMgb250byBQcm9taXNlSWRzXHJcbiAgICAgICAgdGhpcy5hd2FpdGluZ0V2ZW50cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmV2ZW50SW5zdGFuY2UgPSBFdmVudHMuZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICAvLyBSZWNlaXZlclxyXG4gICAgICAgIHRoaXMuZXZlbnRJbnN0YW5jZS5vbk5ldCgnX19kZ19SUENfc19jX3JlcXVlc3QnLCAoZGF0YSkgPT4gdGhpcy5oYW5kbGVJbmNvbWluZ1JlcXVlc3QoZGF0YSkpO1xyXG4gICAgICAgIC8vIEVtaXR0ZXJcclxuICAgICAgICB0aGlzLmV2ZW50SW5zdGFuY2Uub25OZXQoYF9fZGdfUlBDX2Nfc19yZXNwb25zZWAsIChkYXRhKSA9PiB0aGlzLmhhbmRsZUluY29taW5nUmVzcG9uc2UoZGF0YSkpO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlSW5jb21pbmdSZXF1ZXN0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLmV2ZW50SW5zdGFuY2UuZW1pdCgnX19kZ19SUENfaGFuZGxlUmVxdWVzdCcsIGRhdGEpO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlSW5jb21pbmdSZXNwb25zZShkYXRhKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmF3YWl0aW5nRXZlbnRzLmhhcyhkYXRhLnJlc291cmNlKSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmICghdGhpcy5hd2FpdGluZ0V2ZW50cy5nZXQoZGF0YS5yZXNvdXJjZSkuaGFzKGRhdGEuaWQpKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5hd2FpdGluZ0V2ZW50cy5nZXQoZGF0YS5yZXNvdXJjZSkuZ2V0KGRhdGEuaWQpLnJlcyhkYXRhLnJlc3VsdCk7XHJcbiAgICAgICAgdGhpcy5hd2FpdGluZ0V2ZW50cy5nZXQoZGF0YS5yZXNvdXJjZSkuZGVsZXRlKGRhdGEuaWQpO1xyXG4gICAgfVxyXG4gICAgZG9SUENTcnZSZXF1ZXN0KGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYXdhaXRpbmdFdmVudHMuaGFzKGRhdGEucmVzb3VyY2UpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF3YWl0aW5nRXZlbnRzLnNldChkYXRhLnJlc291cmNlLCBuZXcgTWFwKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hd2FpdGluZ0V2ZW50cy5nZXQoZGF0YS5yZXNvdXJjZSkuc2V0KGRhdGEuaWQsIHsgcmVzIH0pO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYXdhaXRpbmdFdmVudHMuZ2V0KGRhdGEucmVzb3VyY2UpLmhhcyhkYXRhLmlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXdhaXRpbmdFdmVudHMuZ2V0KGRhdGEucmVzb3VyY2UpLmRlbGV0ZShkYXRhLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCAxMDAwMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SW5zdGFuY2UuZW1pdE5ldCgnX19kZ19SUENfY19zX3JlcXVlc3QnLCBkYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgKDAsIGRlY29yYXRvcnNfMS5FeHBvcnQpKCdkb1JQQ1NydlJlcXVlc3QnKVxyXG5dLCBSUENNYW5hZ2VyLnByb3RvdHlwZSwgXCJkb1JQQ1NydlJlcXVlc3RcIiwgbnVsbCk7XHJcblJQQ01hbmFnZXIgPSBfX2RlY29yYXRlKFtcclxuICAgICgwLCBkZWNvcmF0b3JzXzEuRXhwb3J0UmVnaXN0ZXIpKClcclxuXSwgUlBDTWFuYWdlcik7XHJcbmNsYXNzIFJQQyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmlkc0luVXNlID0gbmV3IFNldCgpO1xyXG4gICAgICAgIC8vIFJlY2VpdmVyXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkSGFuZGxlcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudEluc3RhbmNlID0gRXZlbnRzLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgLy8gRXhlY3V0b3JcclxuICAgICAgICB0aGlzLnJlc291cmNlTmFtZSA9IEdldEN1cnJlbnRSZXNvdXJjZU5hbWUoKTtcclxuICAgICAgICAvLyBSZWNlaXZlclxyXG4gICAgICAgIHRoaXMuZXZlbnRJbnN0YW5jZS5vbignX19kZ19SUENfaGFuZGxlUmVxdWVzdCcsIChkYXRhKSA9PiB0aGlzLmhhbmRsZVJlcXVlc3QoZGF0YSkpO1xyXG4gICAgfVxyXG4gICAgZ2V0UHJvbWlzZUlkKCkge1xyXG4gICAgICAgIGNvbnN0IGlkID0gc2hhcmVkXzEuVXRpbC5nZXRSbmRJbnRlZ2VyKDEwMDAwMCwgOTk5OTk5KTtcclxuICAgICAgICBpZiAodGhpcy5pZHNJblVzZS5oYXMoaWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFByb21pc2VJZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlkc0luVXNlLmFkZChpZCk7XHJcbiAgICAgICAgcmV0dXJuIGlkO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlUmVxdWVzdChkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucmVnaXN0ZXJlZEhhbmRsZXJzLmhhcyhkYXRhLm5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB5aWVsZCB0aGlzLnJlZ2lzdGVyZWRIYW5kbGVycy5nZXQoZGF0YS5uYW1lKSguLi5kYXRhLmFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEluc3RhbmNlLmVtaXROZXQoJ19fZGdfUlBDX3NfY19yZXNwb25zZScsIHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogZGF0YS5pZCxcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2U6IGRhdGEucmVzb3VyY2UsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZXhlY3V0ZShldnROYW1lLCAuLi5hcmdzKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJvbUlkID0gdGhpcy5nZXRQcm9taXNlSWQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbC5leHBvcnRzWyd0cy1zaGFyZWQnXS5kb1JQQ1NydlJlcXVlc3Qoe1xyXG4gICAgICAgICAgICAgICAgaWQ6IHByb21JZCxcclxuICAgICAgICAgICAgICAgIG5hbWU6IGV2dE5hbWUsXHJcbiAgICAgICAgICAgICAgICBhcmdzLFxyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2U6IHRoaXMucmVzb3VyY2VOYW1lLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlZ2lzdGVyKG5hbWUsIGhhbmRsZXIpIHtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRIYW5kbGVycy5zZXQobmFtZSwgaGFuZGxlcik7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgaW5zdGFuY2VzID0geyBFdmVudHM6IEV2ZW50cy5nZXRJbnN0YW5jZSgpLCBSUEM6IG5ldyBSUEMoKSB9O1xyXG5pZiAoR2V0Q3VycmVudFJlc291cmNlTmFtZSgpID09PSAndHMtc2hhcmVkJykge1xyXG4gICAgaW5zdGFuY2VzLlJQQ01hbmFnZXIgPSBuZXcgUlBDTWFuYWdlcigpO1xyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGluc3RhbmNlcztcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../ts-shared/typescript/src/client/classes/events.ts\n")},"../../ts-shared/typescript/src/client/classes/index.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.Sync = exports.Notifications = exports.Taskbar = exports.UI = exports.Util = exports.PolyTarget = exports.Keys = exports.PolyZone = exports.RayCast = exports.Peek = exports.RPC = exports.Events = void 0;\r\nconst events_1 = __importDefault(__webpack_require__(/*! ./events */ "../../ts-shared/typescript/src/client/classes/events.ts"));\r\nconst interaction_1 = __importDefault(__webpack_require__(/*! ./interaction */ "../../ts-shared/typescript/src/client/classes/interaction.ts"));\r\nconst ui_1 = __importDefault(__webpack_require__(/*! ./ui */ "../../ts-shared/typescript/src/client/classes/ui.ts"));\r\nconst util_1 = __importDefault(__webpack_require__(/*! ./util */ "../../ts-shared/typescript/src/client/classes/util.ts"));\r\nconst sync_1 = __importDefault(__webpack_require__(/*! ./sync */ "../../ts-shared/typescript/src/client/classes/sync.ts"));\r\nexports.Events = events_1.default.Events, exports.RPC = events_1.default.RPC;\r\nexports.Peek = interaction_1.default.Peek, exports.RayCast = interaction_1.default.RayCast, exports.PolyZone = interaction_1.default.PolyZone, exports.Keys = interaction_1.default.Keys, exports.PolyTarget = interaction_1.default.PolyTarget;\r\nexports.Util = util_1.default.Util;\r\nexports.UI = ui_1.default.UI, exports.Taskbar = ui_1.default.Taskbar, exports.Notifications = ui_1.default.Notifications;\r\nexports.Sync = sync_1.default.Sync;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL2NsaWVudC9jbGFzc2VzL2luZGV4LnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWSxHQUFHLHFCQUFxQixHQUFHLGVBQWUsR0FBRyxVQUFVLEdBQUcsWUFBWSxHQUFHLGtCQUFrQixHQUFHLFlBQVksR0FBRyxnQkFBZ0IsR0FBRyxlQUFlLEdBQUcsWUFBWSxHQUFHLFdBQVcsR0FBRyxjQUFjO0FBQ3pNLGlDQUFpQyxtQkFBTyxDQUFDLHlFQUFVO0FBQ25ELHNDQUFzQyxtQkFBTyxDQUFDLG1GQUFlO0FBQzdELDZCQUE2QixtQkFBTyxDQUFDLGlFQUFNO0FBQzNDLCtCQUErQixtQkFBTyxDQUFDLHFFQUFRO0FBQy9DLCtCQUErQixtQkFBTyxDQUFDLHFFQUFRO0FBQy9DLGNBQWMsNEJBQTRCLFdBQVc7QUFDckQsWUFBWSwrQkFBK0IsZUFBZSxrQ0FBa0MsZ0JBQWdCLG1DQUFtQyxZQUFZLCtCQUErQixrQkFBa0I7QUFDNU0sWUFBWTtBQUNaLFVBQVUsb0JBQW9CLGVBQWUseUJBQXlCLHFCQUFxQjtBQUMzRixZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGctdmVoaWNsZXMvLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL2NsaWVudC9jbGFzc2VzL2luZGV4LnRzP2Q5NjIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5TeW5jID0gZXhwb3J0cy5Ob3RpZmljYXRpb25zID0gZXhwb3J0cy5UYXNrYmFyID0gZXhwb3J0cy5VSSA9IGV4cG9ydHMuVXRpbCA9IGV4cG9ydHMuUG9seVRhcmdldCA9IGV4cG9ydHMuS2V5cyA9IGV4cG9ydHMuUG9seVpvbmUgPSBleHBvcnRzLlJheUNhc3QgPSBleHBvcnRzLlBlZWsgPSBleHBvcnRzLlJQQyA9IGV4cG9ydHMuRXZlbnRzID0gdm9pZCAwO1xyXG5jb25zdCBldmVudHNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9ldmVudHNcIikpO1xyXG5jb25zdCBpbnRlcmFjdGlvbl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2ludGVyYWN0aW9uXCIpKTtcclxuY29uc3QgdWlfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi91aVwiKSk7XHJcbmNvbnN0IHV0aWxfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi91dGlsXCIpKTtcclxuY29uc3Qgc3luY18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3N5bmNcIikpO1xyXG5leHBvcnRzLkV2ZW50cyA9IGV2ZW50c18xLmRlZmF1bHQuRXZlbnRzLCBleHBvcnRzLlJQQyA9IGV2ZW50c18xLmRlZmF1bHQuUlBDO1xyXG5leHBvcnRzLlBlZWsgPSBpbnRlcmFjdGlvbl8xLmRlZmF1bHQuUGVlaywgZXhwb3J0cy5SYXlDYXN0ID0gaW50ZXJhY3Rpb25fMS5kZWZhdWx0LlJheUNhc3QsIGV4cG9ydHMuUG9seVpvbmUgPSBpbnRlcmFjdGlvbl8xLmRlZmF1bHQuUG9seVpvbmUsIGV4cG9ydHMuS2V5cyA9IGludGVyYWN0aW9uXzEuZGVmYXVsdC5LZXlzLCBleHBvcnRzLlBvbHlUYXJnZXQgPSBpbnRlcmFjdGlvbl8xLmRlZmF1bHQuUG9seVRhcmdldDtcclxuZXhwb3J0cy5VdGlsID0gdXRpbF8xLmRlZmF1bHQuVXRpbDtcclxuZXhwb3J0cy5VSSA9IHVpXzEuZGVmYXVsdC5VSSwgZXhwb3J0cy5UYXNrYmFyID0gdWlfMS5kZWZhdWx0LlRhc2tiYXIsIGV4cG9ydHMuTm90aWZpY2F0aW9ucyA9IHVpXzEuZGVmYXVsdC5Ob3RpZmljYXRpb25zO1xyXG5leHBvcnRzLlN5bmMgPSBzeW5jXzEuZGVmYXVsdC5TeW5jO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../ts-shared/typescript/src/client/classes/index.ts\n')},"../../ts-shared/typescript/src/client/classes/interaction.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst vector3_1 = __webpack_require__(/*! ../../shared/classes/vector3 */ \"../../ts-shared/typescript/src/shared/classes/vector3.ts\");\r\nconst index_1 = __webpack_require__(/*! ./index */ \"../../ts-shared/typescript/src/client/classes/index.ts\");\r\nclass Peek {\r\n    constructor() {\r\n        this.peekIdsToRemove = {\r\n            model: new Set(),\r\n            entity: new Set(),\r\n            bone: new Set(),\r\n            flag: new Set(),\r\n            zone: new Set(),\r\n            global: new Set(),\r\n        };\r\n        on('onResourceStop', (res) => {\r\n            if (res !== GetCurrentResourceName())\r\n                return;\r\n            this.removeModelEntry([...this.peekIdsToRemove.model]);\r\n            this.removeEntityEntry([...this.peekIdsToRemove.entity]);\r\n            this.removeBoneEntry([...this.peekIdsToRemove.bone]);\r\n            this.removeFlagEntry([...this.peekIdsToRemove.flag]);\r\n            this.removeZoneEntry([...this.peekIdsToRemove.zone]);\r\n            this.removeGlobalEntry([...this.peekIdsToRemove.global]);\r\n        });\r\n    }\r\n    // Adders\r\n    addModelEntry(model, PeekParams, removeOnRestart = false) {\r\n        const ids = global.exports['dg-peek'].addModelEntry(model, PeekParams);\r\n        if (removeOnRestart) {\r\n            ids.forEach(id => this.peekIdsToRemove.model.add(id));\r\n        }\r\n        return ids;\r\n    }\r\n    addEntityEntry(entity, PeekParams, removeOnRestart = false) {\r\n        const ids = global.exports['dg-peek'].addEntityEntry(entity, PeekParams);\r\n        if (removeOnRestart) {\r\n            ids.forEach(id => this.peekIdsToRemove.entity.add(id));\r\n        }\r\n        return ids;\r\n    }\r\n    addBoneEntry(bone, PeekParams, removeOnRestart = false) {\r\n        const ids = global.exports['dg-peek'].addBoneEntry(bone, PeekParams);\r\n        if (removeOnRestart) {\r\n            ids.forEach(id => this.peekIdsToRemove.bone.add(id));\r\n        }\r\n        return ids;\r\n    }\r\n    addFlagEntry(flag, PeekParams, removeOnRestart = false) {\r\n        const ids = global.exports['dg-peek'].addFlagEntry(flag, PeekParams);\r\n        if (removeOnRestart) {\r\n            ids.forEach(id => this.peekIdsToRemove.flag.add(id));\r\n        }\r\n        return ids;\r\n    }\r\n    addZoneEntry(zone, PeekParams, removeOnRestart = false) {\r\n        const ids = global.exports['dg-peek'].addZoneEntry(zone, PeekParams);\r\n        if (removeOnRestart) {\r\n            ids.forEach(id => this.peekIdsToRemove.zone.add(id));\r\n        }\r\n        return ids;\r\n    }\r\n    addGlobalEntry(type, PeekParams, removeOnRestart = false) {\r\n        const ids = global.exports['dg-peek'].addGlobalEntry(type, PeekParams);\r\n        if (removeOnRestart) {\r\n            ids.forEach(id => this.peekIdsToRemove.global.add(id));\r\n        }\r\n        return ids;\r\n    }\r\n    // Removers\r\n    removeModelEntry(ids) {\r\n        if (Array.isArray(ids)) {\r\n            ids.forEach(id => this.removeModelEntry(id));\r\n            return;\r\n        }\r\n        global.exports['dg-peek'].removeModelEntry(ids);\r\n        this.peekIdsToRemove.model.delete(ids);\r\n    }\r\n    removeEntityEntry(ids) {\r\n        if (Array.isArray(ids)) {\r\n            ids.forEach(id => this.removeEntityEntry(id));\r\n            return;\r\n        }\r\n        global.exports['dg-peek'].removeEntityEntry(ids);\r\n        this.peekIdsToRemove.entity.delete(ids);\r\n    }\r\n    removeBoneEntry(ids) {\r\n        if (Array.isArray(ids)) {\r\n            ids.forEach(id => this.removeBoneEntry(id));\r\n            return;\r\n        }\r\n        global.exports['dg-peek'].removeBoneEntry(ids);\r\n        this.peekIdsToRemove.bone.delete(ids);\r\n    }\r\n    removeFlagEntry(ids) {\r\n        if (Array.isArray(ids)) {\r\n            ids.forEach(id => this.removeFlagEntry(id));\r\n            return;\r\n        }\r\n        global.exports['dg-peek'].removeFlagEntry(ids);\r\n        this.peekIdsToRemove.flag.delete(ids);\r\n    }\r\n    removeZoneEntry(ids) {\r\n        if (Array.isArray(ids)) {\r\n            ids.forEach(id => this.removeZoneEntry(id));\r\n            return;\r\n        }\r\n        global.exports['dg-peek'].removeZoneEntry(ids);\r\n        this.peekIdsToRemove.zone.delete(ids);\r\n    }\r\n    removeGlobalEntry(ids) {\r\n        if (Array.isArray(ids)) {\r\n            ids.forEach(id => this.removeGlobalEntry(id));\r\n            return;\r\n        }\r\n        global.exports['dg-peek'].removeGlobalEntry(ids);\r\n        this.peekIdsToRemove.global.delete(ids);\r\n    }\r\n}\r\nclass RayCast {\r\n    constructor() {\r\n        this.handlers = [];\r\n        on('dg-lib:targetinfo:changed', (entity, type, coords) => {\r\n            this.handlers.forEach(handler => handler(entity, type, coords ? index_1.Util.ArrayToVector3(coords) : null));\r\n        });\r\n    }\r\n    onChange(handler) {\r\n        this.handlers.push(handler);\r\n    }\r\n}\r\nclass PolyZone {\r\n    constructor() {\r\n        this.enterHandlers = new Map();\r\n        this.exitHandlers = new Map();\r\n        this.zonesNamesToDelete = new Set();\r\n        on('dg-polyzone:enter', (name, data, center) => {\r\n            if (!this.enterHandlers.has(name))\r\n                return;\r\n            this.enterHandlers.get(name).forEach(handler => handler(name, data, center ? index_1.Util.ArrayToVector3(center) : null));\r\n        });\r\n        on('dg-polyzone:exit', (name) => {\r\n            if (!this.exitHandlers.has(name))\r\n                return;\r\n            this.exitHandlers.get(name).forEach(handler => handler(name));\r\n        });\r\n        on('onResourceStop', (res) => {\r\n            if (res !== GetCurrentResourceName())\r\n                return;\r\n            this.zonesNamesToDelete.forEach(zoneInfo => global.exports['dg-polyzone'].removeZone(zoneInfo.name, zoneInfo.id));\r\n        });\r\n    }\r\n    onEnter(name, handler) {\r\n        const oldHandlers = this.enterHandlers.has(name) ? this.enterHandlers.get(name) : [];\r\n        oldHandlers.push(handler);\r\n        this.enterHandlers.set(name, oldHandlers);\r\n    }\r\n    onLeave(name, handler) {\r\n        const oldHandlers = this.exitHandlers.has(name) ? this.exitHandlers.get(name) : [];\r\n        oldHandlers.push(handler);\r\n        this.exitHandlers.set(name, oldHandlers);\r\n    }\r\n    addBoxZone(name, pCenter, pWidth, pLength, options, removeOnRestart = false) {\r\n        if (pCenter instanceof vector3_1.Vector3) {\r\n            pCenter = pCenter.add(0);\r\n        }\r\n        if (removeOnRestart) {\r\n            this.zonesNamesToDelete.add({ name, id: options.data.id });\r\n        }\r\n        global.exports['dg-polyzone'].AddBoxZone(name, pCenter, pWidth, pLength, options);\r\n    }\r\n    addPolyZone(name, pVectors, options, removeOnRestart = false) {\r\n        if (removeOnRestart) {\r\n            this.zonesNamesToDelete.add({ name, id: options.data.id });\r\n        }\r\n        global.exports['dg-polyzone'].AddPolyZone(name, pVectors, options);\r\n    }\r\n    addCircleZone(name, pCenter, pRadius, options, removeOnRestart = false) {\r\n        if (pCenter instanceof vector3_1.Vector3) {\r\n            pCenter = pCenter.add(0);\r\n        }\r\n        if (removeOnRestart) {\r\n            this.zonesNamesToDelete.add({ name, id: options.data.id });\r\n        }\r\n        global.exports['dg-polyzone'].AddCircleZone(name, pCenter, pRadius, options);\r\n    }\r\n}\r\nclass PolyTarget {\r\n    constructor() {\r\n        this.enterHandlers = new Map();\r\n        this.exitHandlers = new Map();\r\n        on('dg-polytarget:enter', (name, data, center) => {\r\n            if (!this.enterHandlers.has(name))\r\n                return;\r\n            this.enterHandlers.get(name).forEach(handler => handler(name, data, center ? index_1.Util.ArrayToVector3(center) : null));\r\n        });\r\n        on('dg-polytarget:exit', (name) => {\r\n            if (!this.exitHandlers.has(name))\r\n                return;\r\n            this.exitHandlers.get(name).forEach(handler => handler(name));\r\n        });\r\n    }\r\n    onEnter(name, handler) {\r\n        const oldHandlers = this.enterHandlers.has(name) ? this.enterHandlers.get(name) : [];\r\n        oldHandlers.push(handler);\r\n        this.enterHandlers.set(name, oldHandlers);\r\n    }\r\n    onLeave(name, handler) {\r\n        const oldHandlers = this.exitHandlers.has(name) ? this.exitHandlers.get(name) : [];\r\n        oldHandlers.push(handler);\r\n        this.exitHandlers.set(name, oldHandlers);\r\n    }\r\n    addBoxZone(name, pCenter, pWidth, pLength, options) {\r\n        if (pCenter instanceof vector3_1.Vector3) {\r\n            pCenter = pCenter.add(0);\r\n        }\r\n        global.exports['dg-polytarget'].AddBoxZone(name, pCenter, pWidth, pLength, options);\r\n    }\r\n}\r\nclass Keys {\r\n    register(name, description, defaultKey = '') {\r\n        global.exports['dg-lib'].registerKeyMapping(name, description, `+${name}`, `-${name}`, defaultKey, true);\r\n    }\r\n    onPress(keyName, handler) {\r\n        on('dg-lib:keyEvent', (name, isDown) => {\r\n            if (name === keyName) {\r\n                handler(isDown);\r\n            }\r\n        });\r\n    }\r\n    onPressUp(keyName, handler) {\r\n        this.onPress(keyName, (isDown) => {\r\n            if (!isDown) {\r\n                handler();\r\n            }\r\n        });\r\n    }\r\n    onPressDown(keyName, handler) {\r\n        this.onPress(keyName, (isDown) => {\r\n            if (isDown) {\r\n                handler();\r\n            }\r\n        });\r\n    }\r\n}\r\nexports[\"default\"] = {\r\n    PolyTarget: new PolyTarget(),\r\n    PolyZone: new PolyZone(),\r\n    RayCast: new RayCast(),\r\n    Peek: new Peek(),\r\n    Keys: new Keys(),\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL2NsaWVudC9jbGFzc2VzL2ludGVyYWN0aW9uLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLDhGQUE4QjtBQUN4RCxnQkFBZ0IsbUJBQU8sQ0FBQyx1RUFBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywyQkFBMkI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywyQkFBMkI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywyQkFBMkI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsS0FBSyxPQUFPLEtBQUs7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGtCQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGctdmVoaWNsZXMvLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL2NsaWVudC9jbGFzc2VzL2ludGVyYWN0aW9uLnRzPzJkZGUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgdmVjdG9yM18xID0gcmVxdWlyZShcIi4uLy4uL3NoYXJlZC9jbGFzc2VzL3ZlY3RvcjNcIik7XHJcbmNvbnN0IGluZGV4XzEgPSByZXF1aXJlKFwiLi9pbmRleFwiKTtcclxuY2xhc3MgUGVlayB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnBlZWtJZHNUb1JlbW92ZSA9IHtcclxuICAgICAgICAgICAgbW9kZWw6IG5ldyBTZXQoKSxcclxuICAgICAgICAgICAgZW50aXR5OiBuZXcgU2V0KCksXHJcbiAgICAgICAgICAgIGJvbmU6IG5ldyBTZXQoKSxcclxuICAgICAgICAgICAgZmxhZzogbmV3IFNldCgpLFxyXG4gICAgICAgICAgICB6b25lOiBuZXcgU2V0KCksXHJcbiAgICAgICAgICAgIGdsb2JhbDogbmV3IFNldCgpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgb24oJ29uUmVzb3VyY2VTdG9wJywgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzICE9PSBHZXRDdXJyZW50UmVzb3VyY2VOYW1lKCkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTW9kZWxFbnRyeShbLi4udGhpcy5wZWVrSWRzVG9SZW1vdmUubW9kZWxdKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVFbnRpdHlFbnRyeShbLi4udGhpcy5wZWVrSWRzVG9SZW1vdmUuZW50aXR5XSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQm9uZUVudHJ5KFsuLi50aGlzLnBlZWtJZHNUb1JlbW92ZS5ib25lXSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRmxhZ0VudHJ5KFsuLi50aGlzLnBlZWtJZHNUb1JlbW92ZS5mbGFnXSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlWm9uZUVudHJ5KFsuLi50aGlzLnBlZWtJZHNUb1JlbW92ZS56b25lXSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlR2xvYmFsRW50cnkoWy4uLnRoaXMucGVla0lkc1RvUmVtb3ZlLmdsb2JhbF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gQWRkZXJzXHJcbiAgICBhZGRNb2RlbEVudHJ5KG1vZGVsLCBQZWVrUGFyYW1zLCByZW1vdmVPblJlc3RhcnQgPSBmYWxzZSkge1xyXG4gICAgICAgIGNvbnN0IGlkcyA9IGdsb2JhbC5leHBvcnRzWydkZy1wZWVrJ10uYWRkTW9kZWxFbnRyeShtb2RlbCwgUGVla1BhcmFtcyk7XHJcbiAgICAgICAgaWYgKHJlbW92ZU9uUmVzdGFydCkge1xyXG4gICAgICAgICAgICBpZHMuZm9yRWFjaChpZCA9PiB0aGlzLnBlZWtJZHNUb1JlbW92ZS5tb2RlbC5hZGQoaWQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlkcztcclxuICAgIH1cclxuICAgIGFkZEVudGl0eUVudHJ5KGVudGl0eSwgUGVla1BhcmFtcywgcmVtb3ZlT25SZXN0YXJ0ID0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCBpZHMgPSBnbG9iYWwuZXhwb3J0c1snZGctcGVlayddLmFkZEVudGl0eUVudHJ5KGVudGl0eSwgUGVla1BhcmFtcyk7XHJcbiAgICAgICAgaWYgKHJlbW92ZU9uUmVzdGFydCkge1xyXG4gICAgICAgICAgICBpZHMuZm9yRWFjaChpZCA9PiB0aGlzLnBlZWtJZHNUb1JlbW92ZS5lbnRpdHkuYWRkKGlkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpZHM7XHJcbiAgICB9XHJcbiAgICBhZGRCb25lRW50cnkoYm9uZSwgUGVla1BhcmFtcywgcmVtb3ZlT25SZXN0YXJ0ID0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCBpZHMgPSBnbG9iYWwuZXhwb3J0c1snZGctcGVlayddLmFkZEJvbmVFbnRyeShib25lLCBQZWVrUGFyYW1zKTtcclxuICAgICAgICBpZiAocmVtb3ZlT25SZXN0YXJ0KSB7XHJcbiAgICAgICAgICAgIGlkcy5mb3JFYWNoKGlkID0+IHRoaXMucGVla0lkc1RvUmVtb3ZlLmJvbmUuYWRkKGlkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpZHM7XHJcbiAgICB9XHJcbiAgICBhZGRGbGFnRW50cnkoZmxhZywgUGVla1BhcmFtcywgcmVtb3ZlT25SZXN0YXJ0ID0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCBpZHMgPSBnbG9iYWwuZXhwb3J0c1snZGctcGVlayddLmFkZEZsYWdFbnRyeShmbGFnLCBQZWVrUGFyYW1zKTtcclxuICAgICAgICBpZiAocmVtb3ZlT25SZXN0YXJ0KSB7XHJcbiAgICAgICAgICAgIGlkcy5mb3JFYWNoKGlkID0+IHRoaXMucGVla0lkc1RvUmVtb3ZlLmZsYWcuYWRkKGlkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpZHM7XHJcbiAgICB9XHJcbiAgICBhZGRab25lRW50cnkoem9uZSwgUGVla1BhcmFtcywgcmVtb3ZlT25SZXN0YXJ0ID0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCBpZHMgPSBnbG9iYWwuZXhwb3J0c1snZGctcGVlayddLmFkZFpvbmVFbnRyeSh6b25lLCBQZWVrUGFyYW1zKTtcclxuICAgICAgICBpZiAocmVtb3ZlT25SZXN0YXJ0KSB7XHJcbiAgICAgICAgICAgIGlkcy5mb3JFYWNoKGlkID0+IHRoaXMucGVla0lkc1RvUmVtb3ZlLnpvbmUuYWRkKGlkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpZHM7XHJcbiAgICB9XHJcbiAgICBhZGRHbG9iYWxFbnRyeSh0eXBlLCBQZWVrUGFyYW1zLCByZW1vdmVPblJlc3RhcnQgPSBmYWxzZSkge1xyXG4gICAgICAgIGNvbnN0IGlkcyA9IGdsb2JhbC5leHBvcnRzWydkZy1wZWVrJ10uYWRkR2xvYmFsRW50cnkodHlwZSwgUGVla1BhcmFtcyk7XHJcbiAgICAgICAgaWYgKHJlbW92ZU9uUmVzdGFydCkge1xyXG4gICAgICAgICAgICBpZHMuZm9yRWFjaChpZCA9PiB0aGlzLnBlZWtJZHNUb1JlbW92ZS5nbG9iYWwuYWRkKGlkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpZHM7XHJcbiAgICB9XHJcbiAgICAvLyBSZW1vdmVyc1xyXG4gICAgcmVtb3ZlTW9kZWxFbnRyeShpZHMpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpZHMpKSB7XHJcbiAgICAgICAgICAgIGlkcy5mb3JFYWNoKGlkID0+IHRoaXMucmVtb3ZlTW9kZWxFbnRyeShpZCkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdsb2JhbC5leHBvcnRzWydkZy1wZWVrJ10ucmVtb3ZlTW9kZWxFbnRyeShpZHMpO1xyXG4gICAgICAgIHRoaXMucGVla0lkc1RvUmVtb3ZlLm1vZGVsLmRlbGV0ZShpZHMpO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlRW50aXR5RW50cnkoaWRzKSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaWRzKSkge1xyXG4gICAgICAgICAgICBpZHMuZm9yRWFjaChpZCA9PiB0aGlzLnJlbW92ZUVudGl0eUVudHJ5KGlkKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2xvYmFsLmV4cG9ydHNbJ2RnLXBlZWsnXS5yZW1vdmVFbnRpdHlFbnRyeShpZHMpO1xyXG4gICAgICAgIHRoaXMucGVla0lkc1RvUmVtb3ZlLmVudGl0eS5kZWxldGUoaWRzKTtcclxuICAgIH1cclxuICAgIHJlbW92ZUJvbmVFbnRyeShpZHMpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpZHMpKSB7XHJcbiAgICAgICAgICAgIGlkcy5mb3JFYWNoKGlkID0+IHRoaXMucmVtb3ZlQm9uZUVudHJ5KGlkKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2xvYmFsLmV4cG9ydHNbJ2RnLXBlZWsnXS5yZW1vdmVCb25lRW50cnkoaWRzKTtcclxuICAgICAgICB0aGlzLnBlZWtJZHNUb1JlbW92ZS5ib25lLmRlbGV0ZShpZHMpO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlRmxhZ0VudHJ5KGlkcykge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGlkcykpIHtcclxuICAgICAgICAgICAgaWRzLmZvckVhY2goaWQgPT4gdGhpcy5yZW1vdmVGbGFnRW50cnkoaWQpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnbG9iYWwuZXhwb3J0c1snZGctcGVlayddLnJlbW92ZUZsYWdFbnRyeShpZHMpO1xyXG4gICAgICAgIHRoaXMucGVla0lkc1RvUmVtb3ZlLmZsYWcuZGVsZXRlKGlkcyk7XHJcbiAgICB9XHJcbiAgICByZW1vdmVab25lRW50cnkoaWRzKSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaWRzKSkge1xyXG4gICAgICAgICAgICBpZHMuZm9yRWFjaChpZCA9PiB0aGlzLnJlbW92ZVpvbmVFbnRyeShpZCkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdsb2JhbC5leHBvcnRzWydkZy1wZWVrJ10ucmVtb3ZlWm9uZUVudHJ5KGlkcyk7XHJcbiAgICAgICAgdGhpcy5wZWVrSWRzVG9SZW1vdmUuem9uZS5kZWxldGUoaWRzKTtcclxuICAgIH1cclxuICAgIHJlbW92ZUdsb2JhbEVudHJ5KGlkcykge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGlkcykpIHtcclxuICAgICAgICAgICAgaWRzLmZvckVhY2goaWQgPT4gdGhpcy5yZW1vdmVHbG9iYWxFbnRyeShpZCkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdsb2JhbC5leHBvcnRzWydkZy1wZWVrJ10ucmVtb3ZlR2xvYmFsRW50cnkoaWRzKTtcclxuICAgICAgICB0aGlzLnBlZWtJZHNUb1JlbW92ZS5nbG9iYWwuZGVsZXRlKGlkcyk7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgUmF5Q2FzdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmhhbmRsZXJzID0gW107XHJcbiAgICAgICAgb24oJ2RnLWxpYjp0YXJnZXRpbmZvOmNoYW5nZWQnLCAoZW50aXR5LCB0eXBlLCBjb29yZHMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVycy5mb3JFYWNoKGhhbmRsZXIgPT4gaGFuZGxlcihlbnRpdHksIHR5cGUsIGNvb3JkcyA/IGluZGV4XzEuVXRpbC5BcnJheVRvVmVjdG9yMyhjb29yZHMpIDogbnVsbCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgb25DaGFuZ2UoaGFuZGxlcikge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBQb2x5Wm9uZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmVudGVySGFuZGxlcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5leGl0SGFuZGxlcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy56b25lc05hbWVzVG9EZWxldGUgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgb24oJ2RnLXBvbHl6b25lOmVudGVyJywgKG5hbWUsIGRhdGEsIGNlbnRlcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZW50ZXJIYW5kbGVycy5oYXMobmFtZSkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMuZW50ZXJIYW5kbGVycy5nZXQobmFtZSkuZm9yRWFjaChoYW5kbGVyID0+IGhhbmRsZXIobmFtZSwgZGF0YSwgY2VudGVyID8gaW5kZXhfMS5VdGlsLkFycmF5VG9WZWN0b3IzKGNlbnRlcikgOiBudWxsKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgb24oJ2RnLXBvbHl6b25lOmV4aXQnLCAobmFtZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZXhpdEhhbmRsZXJzLmhhcyhuYW1lKSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy5leGl0SGFuZGxlcnMuZ2V0KG5hbWUpLmZvckVhY2goaGFuZGxlciA9PiBoYW5kbGVyKG5hbWUpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBvbignb25SZXNvdXJjZVN0b3AnLCAocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXMgIT09IEdldEN1cnJlbnRSZXNvdXJjZU5hbWUoKSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy56b25lc05hbWVzVG9EZWxldGUuZm9yRWFjaCh6b25lSW5mbyA9PiBnbG9iYWwuZXhwb3J0c1snZGctcG9seXpvbmUnXS5yZW1vdmVab25lKHpvbmVJbmZvLm5hbWUsIHpvbmVJbmZvLmlkKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBvbkVudGVyKG5hbWUsIGhhbmRsZXIpIHtcclxuICAgICAgICBjb25zdCBvbGRIYW5kbGVycyA9IHRoaXMuZW50ZXJIYW5kbGVycy5oYXMobmFtZSkgPyB0aGlzLmVudGVySGFuZGxlcnMuZ2V0KG5hbWUpIDogW107XHJcbiAgICAgICAgb2xkSGFuZGxlcnMucHVzaChoYW5kbGVyKTtcclxuICAgICAgICB0aGlzLmVudGVySGFuZGxlcnMuc2V0KG5hbWUsIG9sZEhhbmRsZXJzKTtcclxuICAgIH1cclxuICAgIG9uTGVhdmUobmFtZSwgaGFuZGxlcikge1xyXG4gICAgICAgIGNvbnN0IG9sZEhhbmRsZXJzID0gdGhpcy5leGl0SGFuZGxlcnMuaGFzKG5hbWUpID8gdGhpcy5leGl0SGFuZGxlcnMuZ2V0KG5hbWUpIDogW107XHJcbiAgICAgICAgb2xkSGFuZGxlcnMucHVzaChoYW5kbGVyKTtcclxuICAgICAgICB0aGlzLmV4aXRIYW5kbGVycy5zZXQobmFtZSwgb2xkSGFuZGxlcnMpO1xyXG4gICAgfVxyXG4gICAgYWRkQm94Wm9uZShuYW1lLCBwQ2VudGVyLCBwV2lkdGgsIHBMZW5ndGgsIG9wdGlvbnMsIHJlbW92ZU9uUmVzdGFydCA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKHBDZW50ZXIgaW5zdGFuY2VvZiB2ZWN0b3IzXzEuVmVjdG9yMykge1xyXG4gICAgICAgICAgICBwQ2VudGVyID0gcENlbnRlci5hZGQoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZW1vdmVPblJlc3RhcnQpIHtcclxuICAgICAgICAgICAgdGhpcy56b25lc05hbWVzVG9EZWxldGUuYWRkKHsgbmFtZSwgaWQ6IG9wdGlvbnMuZGF0YS5pZCB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2xvYmFsLmV4cG9ydHNbJ2RnLXBvbHl6b25lJ10uQWRkQm94Wm9uZShuYW1lLCBwQ2VudGVyLCBwV2lkdGgsIHBMZW5ndGgsIG9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgYWRkUG9seVpvbmUobmFtZSwgcFZlY3RvcnMsIG9wdGlvbnMsIHJlbW92ZU9uUmVzdGFydCA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKHJlbW92ZU9uUmVzdGFydCkge1xyXG4gICAgICAgICAgICB0aGlzLnpvbmVzTmFtZXNUb0RlbGV0ZS5hZGQoeyBuYW1lLCBpZDogb3B0aW9ucy5kYXRhLmlkIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnbG9iYWwuZXhwb3J0c1snZGctcG9seXpvbmUnXS5BZGRQb2x5Wm9uZShuYW1lLCBwVmVjdG9ycywgb3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBhZGRDaXJjbGVab25lKG5hbWUsIHBDZW50ZXIsIHBSYWRpdXMsIG9wdGlvbnMsIHJlbW92ZU9uUmVzdGFydCA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKHBDZW50ZXIgaW5zdGFuY2VvZiB2ZWN0b3IzXzEuVmVjdG9yMykge1xyXG4gICAgICAgICAgICBwQ2VudGVyID0gcENlbnRlci5hZGQoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZW1vdmVPblJlc3RhcnQpIHtcclxuICAgICAgICAgICAgdGhpcy56b25lc05hbWVzVG9EZWxldGUuYWRkKHsgbmFtZSwgaWQ6IG9wdGlvbnMuZGF0YS5pZCB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2xvYmFsLmV4cG9ydHNbJ2RnLXBvbHl6b25lJ10uQWRkQ2lyY2xlWm9uZShuYW1lLCBwQ2VudGVyLCBwUmFkaXVzLCBvcHRpb25zKTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBQb2x5VGFyZ2V0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZW50ZXJIYW5kbGVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmV4aXRIYW5kbGVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICBvbignZGctcG9seXRhcmdldDplbnRlcicsIChuYW1lLCBkYXRhLCBjZW50ZXIpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmVudGVySGFuZGxlcnMuaGFzKG5hbWUpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLmVudGVySGFuZGxlcnMuZ2V0KG5hbWUpLmZvckVhY2goaGFuZGxlciA9PiBoYW5kbGVyKG5hbWUsIGRhdGEsIGNlbnRlciA/IGluZGV4XzEuVXRpbC5BcnJheVRvVmVjdG9yMyhjZW50ZXIpIDogbnVsbCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG9uKCdkZy1wb2x5dGFyZ2V0OmV4aXQnLCAobmFtZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZXhpdEhhbmRsZXJzLmhhcyhuYW1lKSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy5leGl0SGFuZGxlcnMuZ2V0KG5hbWUpLmZvckVhY2goaGFuZGxlciA9PiBoYW5kbGVyKG5hbWUpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG9uRW50ZXIobmFtZSwgaGFuZGxlcikge1xyXG4gICAgICAgIGNvbnN0IG9sZEhhbmRsZXJzID0gdGhpcy5lbnRlckhhbmRsZXJzLmhhcyhuYW1lKSA/IHRoaXMuZW50ZXJIYW5kbGVycy5nZXQobmFtZSkgOiBbXTtcclxuICAgICAgICBvbGRIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMuZW50ZXJIYW5kbGVycy5zZXQobmFtZSwgb2xkSGFuZGxlcnMpO1xyXG4gICAgfVxyXG4gICAgb25MZWF2ZShuYW1lLCBoYW5kbGVyKSB7XHJcbiAgICAgICAgY29uc3Qgb2xkSGFuZGxlcnMgPSB0aGlzLmV4aXRIYW5kbGVycy5oYXMobmFtZSkgPyB0aGlzLmV4aXRIYW5kbGVycy5nZXQobmFtZSkgOiBbXTtcclxuICAgICAgICBvbGRIYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMuZXhpdEhhbmRsZXJzLnNldChuYW1lLCBvbGRIYW5kbGVycyk7XHJcbiAgICB9XHJcbiAgICBhZGRCb3hab25lKG5hbWUsIHBDZW50ZXIsIHBXaWR0aCwgcExlbmd0aCwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmIChwQ2VudGVyIGluc3RhbmNlb2YgdmVjdG9yM18xLlZlY3RvcjMpIHtcclxuICAgICAgICAgICAgcENlbnRlciA9IHBDZW50ZXIuYWRkKDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnbG9iYWwuZXhwb3J0c1snZGctcG9seXRhcmdldCddLkFkZEJveFpvbmUobmFtZSwgcENlbnRlciwgcFdpZHRoLCBwTGVuZ3RoLCBvcHRpb25zKTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBLZXlzIHtcclxuICAgIHJlZ2lzdGVyKG5hbWUsIGRlc2NyaXB0aW9uLCBkZWZhdWx0S2V5ID0gJycpIHtcclxuICAgICAgICBnbG9iYWwuZXhwb3J0c1snZGctbGliJ10ucmVnaXN0ZXJLZXlNYXBwaW5nKG5hbWUsIGRlc2NyaXB0aW9uLCBgKyR7bmFtZX1gLCBgLSR7bmFtZX1gLCBkZWZhdWx0S2V5LCB0cnVlKTtcclxuICAgIH1cclxuICAgIG9uUHJlc3Moa2V5TmFtZSwgaGFuZGxlcikge1xyXG4gICAgICAgIG9uKCdkZy1saWI6a2V5RXZlbnQnLCAobmFtZSwgaXNEb3duKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChuYW1lID09PSBrZXlOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyKGlzRG93bik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG9uUHJlc3NVcChrZXlOYW1lLCBoYW5kbGVyKSB7XHJcbiAgICAgICAgdGhpcy5vblByZXNzKGtleU5hbWUsIChpc0Rvd24pID0+IHtcclxuICAgICAgICAgICAgaWYgKCFpc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgb25QcmVzc0Rvd24oa2V5TmFtZSwgaGFuZGxlcikge1xyXG4gICAgICAgIHRoaXMub25QcmVzcyhrZXlOYW1lLCAoaXNEb3duKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IHtcclxuICAgIFBvbHlUYXJnZXQ6IG5ldyBQb2x5VGFyZ2V0KCksXHJcbiAgICBQb2x5Wm9uZTogbmV3IFBvbHlab25lKCksXHJcbiAgICBSYXlDYXN0OiBuZXcgUmF5Q2FzdCgpLFxyXG4gICAgUGVlazogbmV3IFBlZWsoKSxcclxuICAgIEtleXM6IG5ldyBLZXlzKCksXHJcbn07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../ts-shared/typescript/src/client/classes/interaction.ts\n")},"../../ts-shared/typescript/src/client/classes/sync.ts":(__unused_webpack_module,exports)=>{"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nclass Sync {\r\n    executeNative(native, vehNetId, ...args) {\r\n        global.exports[\'dg-sync\'].SyncExecution(native, vehNetId, ...args);\r\n    }\r\n}\r\nexports["default"] = {\r\n    Sync: new Sync(),\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL2NsaWVudC9jbGFzc2VzL3N5bmMudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2Y7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RnLXZlaGljbGVzLy4uLy4uL3RzLXNoYXJlZC90eXBlc2NyaXB0L3NyYy9jbGllbnQvY2xhc3Nlcy9zeW5jLnRzP2NjZTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY2xhc3MgU3luYyB7XHJcbiAgICBleGVjdXRlTmF0aXZlKG5hdGl2ZSwgdmVoTmV0SWQsIC4uLmFyZ3MpIHtcclxuICAgICAgICBnbG9iYWwuZXhwb3J0c1snZGctc3luYyddLlN5bmNFeGVjdXRpb24obmF0aXZlLCB2ZWhOZXRJZCwgLi4uYXJncyk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0ge1xyXG4gICAgU3luYzogbmV3IFN5bmMoKSxcclxufTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../ts-shared/typescript/src/client/classes/sync.ts\n')},"../../ts-shared/typescript/src/client/classes/ui.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst events_1 = __webpack_require__(/*! ./events */ \"../../ts-shared/typescript/src/client/classes/events.ts\");\r\nclass UI {\r\n    constructor() {\r\n        this.registered = [];\r\n        this.resourceStarted = false;\r\n        // eventHandlers\r\n        on('__dg_ui:Ready', () => {\r\n            this.registered.forEach(evt => {\r\n                global.exports['dg-ui'].RegisterUIEvent(evt);\r\n            });\r\n        });\r\n        on('onClientResourceStart', (resource) => {\r\n            if (resource !== 'dg-ui')\r\n                return;\r\n            this.resourceStarted = true;\r\n        });\r\n        on('onClientResourceStop', (resource) => {\r\n            if (resource !== 'dg-ui')\r\n                return;\r\n            this.resourceStarted = true;\r\n        });\r\n        if (GetCurrentResourceName() === 'ts-shared') {\r\n            events_1.Events.getInstance().onNet('dgx:client:ui:openContextmenu', (menu) => {\r\n                this.openApplication('contextmenu', menu);\r\n            });\r\n        }\r\n    }\r\n    RegisterUICallback(name, callback) {\r\n        if (this.registered.indexOf(name) === -1) {\r\n            this.registered.push(name);\r\n        }\r\n        AddEventHandler(`__dg_ui:${name}`, callback);\r\n        if (this.resourceStarted && GetResourceState('dg-ui') == 'started') {\r\n            global.exports['dg-ui'].RegisterUIEvent(name);\r\n        }\r\n        this.registered.push(name);\r\n    }\r\n    SendUIMessage(data) {\r\n        global.exports['dg-ui'].SendUIMessage(data);\r\n    }\r\n    SendAppEvent(name, data) {\r\n        global.exports['dg-ui'].SendAppEvent(name, data);\r\n    }\r\n    SetUIFocus(hasFocus, hasCursor) {\r\n        global.exports['dg-ui'].SetUIFocus(hasFocus, hasCursor);\r\n    }\r\n    SetUIFocusCustom(hasFocus, hasCursor) {\r\n        global.exports['dg-ui'].SetUIFocusCustom(hasFocus, hasCursor);\r\n    }\r\n    openApplication(app, data, preventFocus) {\r\n        global.exports['dg-ui'].openApplication(app, data, preventFocus);\r\n    }\r\n    closeApplication(app, data) {\r\n        global.exports['dg-ui'].closeApplication(app, data);\r\n    }\r\n}\r\nclass Taskbar {\r\n    /**\r\n     * Creates a taskbar and returns if it was cancelled and how much percent was done\r\n     */\r\n    create(label, duration, settings) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return global.exports['dg-misc'].Taskbar(label, duration, settings);\r\n        });\r\n    }\r\n}\r\nclass Notifications {\r\n    add(text, type = 'info', durationInMs = 5000, persistent) {\r\n        return global.exports['dg-ui'].addNotification(text, type, durationInMs, persistent);\r\n    }\r\n    remove(id) {\r\n        return global.exports['dg-ui'].removeNotification(id);\r\n    }\r\n}\r\nexports[\"default\"] = {\r\n    UI: new UI(),\r\n    Taskbar: new Taskbar(),\r\n    Notifications: new Notifications(),\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL2NsaWVudC9jbGFzc2VzL3VpLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBVTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLEtBQUs7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGctdmVoaWNsZXMvLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL2NsaWVudC9jbGFzc2VzL3VpLnRzP2RhMWEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBldmVudHNfMSA9IHJlcXVpcmUoXCIuL2V2ZW50c1wiKTtcclxuY2xhc3MgVUkge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkID0gW107XHJcbiAgICAgICAgdGhpcy5yZXNvdXJjZVN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgICAgICAvLyBldmVudEhhbmRsZXJzXHJcbiAgICAgICAgb24oJ19fZGdfdWk6UmVhZHknLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJlZC5mb3JFYWNoKGV2dCA9PiB7XHJcbiAgICAgICAgICAgICAgICBnbG9iYWwuZXhwb3J0c1snZGctdWknXS5SZWdpc3RlclVJRXZlbnQoZXZ0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgb24oJ29uQ2xpZW50UmVzb3VyY2VTdGFydCcsIChyZXNvdXJjZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzb3VyY2UgIT09ICdkZy11aScpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VTdGFydGVkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBvbignb25DbGllbnRSZXNvdXJjZVN0b3AnLCAocmVzb3VyY2UpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc291cmNlICE9PSAnZGctdWknKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlU3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKEdldEN1cnJlbnRSZXNvdXJjZU5hbWUoKSA9PT0gJ3RzLXNoYXJlZCcpIHtcclxuICAgICAgICAgICAgZXZlbnRzXzEuRXZlbnRzLmdldEluc3RhbmNlKCkub25OZXQoJ2RneDpjbGllbnQ6dWk6b3BlbkNvbnRleHRtZW51JywgKG1lbnUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlbkFwcGxpY2F0aW9uKCdjb250ZXh0bWVudScsIG1lbnUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBSZWdpc3RlclVJQ2FsbGJhY2sobmFtZSwgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5yZWdpc3RlcmVkLmluZGV4T2YobmFtZSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJlZC5wdXNoKG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBBZGRFdmVudEhhbmRsZXIoYF9fZGdfdWk6JHtuYW1lfWAsIGNhbGxiYWNrKTtcclxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZVN0YXJ0ZWQgJiYgR2V0UmVzb3VyY2VTdGF0ZSgnZGctdWknKSA9PSAnc3RhcnRlZCcpIHtcclxuICAgICAgICAgICAgZ2xvYmFsLmV4cG9ydHNbJ2RnLXVpJ10uUmVnaXN0ZXJVSUV2ZW50KG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlZ2lzdGVyZWQucHVzaChuYW1lKTtcclxuICAgIH1cclxuICAgIFNlbmRVSU1lc3NhZ2UoZGF0YSkge1xyXG4gICAgICAgIGdsb2JhbC5leHBvcnRzWydkZy11aSddLlNlbmRVSU1lc3NhZ2UoZGF0YSk7XHJcbiAgICB9XHJcbiAgICBTZW5kQXBwRXZlbnQobmFtZSwgZGF0YSkge1xyXG4gICAgICAgIGdsb2JhbC5leHBvcnRzWydkZy11aSddLlNlbmRBcHBFdmVudChuYW1lLCBkYXRhKTtcclxuICAgIH1cclxuICAgIFNldFVJRm9jdXMoaGFzRm9jdXMsIGhhc0N1cnNvcikge1xyXG4gICAgICAgIGdsb2JhbC5leHBvcnRzWydkZy11aSddLlNldFVJRm9jdXMoaGFzRm9jdXMsIGhhc0N1cnNvcik7XHJcbiAgICB9XHJcbiAgICBTZXRVSUZvY3VzQ3VzdG9tKGhhc0ZvY3VzLCBoYXNDdXJzb3IpIHtcclxuICAgICAgICBnbG9iYWwuZXhwb3J0c1snZGctdWknXS5TZXRVSUZvY3VzQ3VzdG9tKGhhc0ZvY3VzLCBoYXNDdXJzb3IpO1xyXG4gICAgfVxyXG4gICAgb3BlbkFwcGxpY2F0aW9uKGFwcCwgZGF0YSwgcHJldmVudEZvY3VzKSB7XHJcbiAgICAgICAgZ2xvYmFsLmV4cG9ydHNbJ2RnLXVpJ10ub3BlbkFwcGxpY2F0aW9uKGFwcCwgZGF0YSwgcHJldmVudEZvY3VzKTtcclxuICAgIH1cclxuICAgIGNsb3NlQXBwbGljYXRpb24oYXBwLCBkYXRhKSB7XHJcbiAgICAgICAgZ2xvYmFsLmV4cG9ydHNbJ2RnLXVpJ10uY2xvc2VBcHBsaWNhdGlvbihhcHAsIGRhdGEpO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFRhc2tiYXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgdGFza2JhciBhbmQgcmV0dXJucyBpZiBpdCB3YXMgY2FuY2VsbGVkIGFuZCBob3cgbXVjaCBwZXJjZW50IHdhcyBkb25lXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZShsYWJlbCwgZHVyYXRpb24sIHNldHRpbmdzKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbC5leHBvcnRzWydkZy1taXNjJ10uVGFza2JhcihsYWJlbCwgZHVyYXRpb24sIHNldHRpbmdzKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBOb3RpZmljYXRpb25zIHtcclxuICAgIGFkZCh0ZXh0LCB0eXBlID0gJ2luZm8nLCBkdXJhdGlvbkluTXMgPSA1MDAwLCBwZXJzaXN0ZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIGdsb2JhbC5leHBvcnRzWydkZy11aSddLmFkZE5vdGlmaWNhdGlvbih0ZXh0LCB0eXBlLCBkdXJhdGlvbkluTXMsIHBlcnNpc3RlbnQpO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIGdsb2JhbC5leHBvcnRzWydkZy11aSddLnJlbW92ZU5vdGlmaWNhdGlvbihpZCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0ge1xyXG4gICAgVUk6IG5ldyBVSSgpLFxyXG4gICAgVGFza2JhcjogbmV3IFRhc2tiYXIoKSxcclxuICAgIE5vdGlmaWNhdGlvbnM6IG5ldyBOb3RpZmljYXRpb25zKCksXHJcbn07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../ts-shared/typescript/src/client/classes/ui.ts\n")},"../../ts-shared/typescript/src/client/classes/util.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst util_1 = __webpack_require__(/*! ../../shared/classes/util */ "../../ts-shared/typescript/src/shared/classes/util.ts");\r\nclass Util extends util_1.Util {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.loadModel = (model) => __awaiter(this, void 0, void 0, function* () {\r\n            RequestModel(model);\r\n            while (!HasModelLoaded(model)) {\r\n                yield this.Delay(10);\r\n            }\r\n        });\r\n        this.loadAnimDict = (dict) => __awaiter(this, void 0, void 0, function* () {\r\n            RequestAnimDict(dict);\r\n            while (!HasAnimDictLoaded(dict)) {\r\n                yield this.Delay(10);\r\n            }\r\n        });\r\n        this.requestEntityControl = (entity) => __awaiter(this, void 0, void 0, function* () {\r\n            NetworkRequestControlOfEntity(entity);\r\n            while (!NetworkHasControlOfEntity(entity)) {\r\n                yield this.Delay(10);\r\n            }\r\n        });\r\n        this.doesEntityExist = (entity) => __awaiter(this, void 0, void 0, function* () {\r\n            while (!DoesEntityExist(entity))\r\n                yield this.Delay(10);\r\n        });\r\n    }\r\n    getPlyCoords() {\r\n        const plyPed = PlayerPedId();\r\n        const plyCoords = GetEntityCoords(plyPed, true);\r\n        return this.ArrayToVector3(plyCoords);\r\n    }\r\n    getEntityCoords(entity) {\r\n        const entityCoords = GetEntityCoords(entity, true);\r\n        return this.ArrayToVector3(entityCoords);\r\n    }\r\n    getEntityRotation(entity) {\r\n        const entityRotation = GetEntityRotation(entity, 0);\r\n        return this.ArrayToVector3(entityRotation);\r\n    }\r\n    getBoneDistance(entity, boneId) {\r\n        const entityType = GetEntityType(entity);\r\n        if (!entityType) {\r\n            throw new Error(\'Invalid Entity to calculate bone distance\');\r\n        }\r\n        const bone = entityType === 1 ? GetPedBoneIndex(entity, Number(boneId)) : GetEntityBoneIndexByName(entity, String(boneId));\r\n        const boneCoords = this.ArrayToVector3(GetWorldPositionOfEntityBone(entity, bone));\r\n        return boneCoords.subtract(this.getPlyCoords()).Length;\r\n    }\r\n}\r\nexports["default"] = {\r\n    Util: new Util(),\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL2NsaWVudC9jbGFzc2VzL3V0aWwudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGVBQWUsbUJBQU8sQ0FBQyx3RkFBMkI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2Y7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RnLXZlaGljbGVzLy4uLy4uL3RzLXNoYXJlZC90eXBlc2NyaXB0L3NyYy9jbGllbnQvY2xhc3Nlcy91dGlsLnRzPzBhMTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vLi4vc2hhcmVkL2NsYXNzZXMvdXRpbFwiKTtcclxuY2xhc3MgVXRpbCBleHRlbmRzIHV0aWxfMS5VdGlsIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgdGhpcy5sb2FkTW9kZWwgPSAobW9kZWwpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgUmVxdWVzdE1vZGVsKG1vZGVsKTtcclxuICAgICAgICAgICAgd2hpbGUgKCFIYXNNb2RlbExvYWRlZChtb2RlbCkpIHtcclxuICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMuRGVsYXkoMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkQW5pbURpY3QgPSAoZGljdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICAgICAgICBSZXF1ZXN0QW5pbURpY3QoZGljdCk7XHJcbiAgICAgICAgICAgIHdoaWxlICghSGFzQW5pbURpY3RMb2FkZWQoZGljdCkpIHtcclxuICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMuRGVsYXkoMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0RW50aXR5Q29udHJvbCA9IChlbnRpdHkpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgTmV0d29ya1JlcXVlc3RDb250cm9sT2ZFbnRpdHkoZW50aXR5KTtcclxuICAgICAgICAgICAgd2hpbGUgKCFOZXR3b3JrSGFzQ29udHJvbE9mRW50aXR5KGVudGl0eSkpIHtcclxuICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMuRGVsYXkoMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5kb2VzRW50aXR5RXhpc3QgPSAoZW50aXR5KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgICAgIHdoaWxlICghRG9lc0VudGl0eUV4aXN0KGVudGl0eSkpXHJcbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLkRlbGF5KDEwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGdldFBseUNvb3JkcygpIHtcclxuICAgICAgICBjb25zdCBwbHlQZWQgPSBQbGF5ZXJQZWRJZCgpO1xyXG4gICAgICAgIGNvbnN0IHBseUNvb3JkcyA9IEdldEVudGl0eUNvb3JkcyhwbHlQZWQsIHRydWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLkFycmF5VG9WZWN0b3IzKHBseUNvb3Jkcyk7XHJcbiAgICB9XHJcbiAgICBnZXRFbnRpdHlDb29yZHMoZW50aXR5KSB7XHJcbiAgICAgICAgY29uc3QgZW50aXR5Q29vcmRzID0gR2V0RW50aXR5Q29vcmRzKGVudGl0eSwgdHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuQXJyYXlUb1ZlY3RvcjMoZW50aXR5Q29vcmRzKTtcclxuICAgIH1cclxuICAgIGdldEVudGl0eVJvdGF0aW9uKGVudGl0eSkge1xyXG4gICAgICAgIGNvbnN0IGVudGl0eVJvdGF0aW9uID0gR2V0RW50aXR5Um90YXRpb24oZW50aXR5LCAwKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5BcnJheVRvVmVjdG9yMyhlbnRpdHlSb3RhdGlvbik7XHJcbiAgICB9XHJcbiAgICBnZXRCb25lRGlzdGFuY2UoZW50aXR5LCBib25lSWQpIHtcclxuICAgICAgICBjb25zdCBlbnRpdHlUeXBlID0gR2V0RW50aXR5VHlwZShlbnRpdHkpO1xyXG4gICAgICAgIGlmICghZW50aXR5VHlwZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgRW50aXR5IHRvIGNhbGN1bGF0ZSBib25lIGRpc3RhbmNlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJvbmUgPSBlbnRpdHlUeXBlID09PSAxID8gR2V0UGVkQm9uZUluZGV4KGVudGl0eSwgTnVtYmVyKGJvbmVJZCkpIDogR2V0RW50aXR5Qm9uZUluZGV4QnlOYW1lKGVudGl0eSwgU3RyaW5nKGJvbmVJZCkpO1xyXG4gICAgICAgIGNvbnN0IGJvbmVDb29yZHMgPSB0aGlzLkFycmF5VG9WZWN0b3IzKEdldFdvcmxkUG9zaXRpb25PZkVudGl0eUJvbmUoZW50aXR5LCBib25lKSk7XHJcbiAgICAgICAgcmV0dXJuIGJvbmVDb29yZHMuc3VidHJhY3QodGhpcy5nZXRQbHlDb29yZHMoKSkuTGVuZ3RoO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IHtcclxuICAgIFV0aWw6IG5ldyBVdGlsKCksXHJcbn07XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../ts-shared/typescript/src/client/classes/util.ts\n')},"../../ts-shared/typescript/src/client/index.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nconst library_1 = __webpack_require__(/*! ../shared/helpers/library */ "../../ts-shared/typescript/src/shared/helpers/library.ts");\r\n// Following code is for DGX.xxx.yyy access\r\nconst Shared = __importStar(__webpack_require__(/*! ../shared/index */ "../../ts-shared/typescript/src/shared/index.ts"));\r\nconst Classes = __importStar(__webpack_require__(/*! ./classes */ "../../ts-shared/typescript/src/client/classes/index.ts"));\r\n__exportStar(__webpack_require__(/*! ./classes */ "../../ts-shared/typescript/src/client/classes/index.ts"), exports);\r\nconst DGX = Object.assign(Object.assign({}, Shared), Classes);\r\n// @ts-ignore\r\nglobal.DGX = DGX;\r\nsetImmediate(() => {\r\n    global.exports(\'_getLibrary\', () => {\r\n        const funcRefs = {};\r\n        Object.keys(DGX).forEach(key => {\r\n            const refs = (0, library_1.returnClassRefs)(DGX[key]);\r\n            if (!refs) {\r\n                return;\r\n            }\r\n            funcRefs[key] = refs;\r\n        });\r\n        return funcRefs;\r\n    });\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL2NsaWVudC9pbmRleC50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQSxtQ0FBbUMsb0NBQW9DLGdCQUFnQjtBQUN2RixDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDBDQUEwQyw0QkFBNEI7QUFDdEUsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQixtQkFBTyxDQUFDLDJGQUEyQjtBQUNyRDtBQUNBLDRCQUE0QixtQkFBTyxDQUFDLHVFQUFpQjtBQUNyRCw2QkFBNkIsbUJBQU8sQ0FBQyx5RUFBVztBQUNoRCxhQUFhLG1CQUFPLENBQUMseUVBQVc7QUFDaEMsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RnLXZlaGljbGVzLy4uLy4uL3RzLXNoYXJlZC90eXBlc2NyaXB0L3NyYy9jbGllbnQvaW5kZXgudHM/OWRiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pKTtcclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59KTtcclxudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XHJcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGxpYnJhcnlfMSA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvaGVscGVycy9saWJyYXJ5XCIpO1xyXG4vLyBGb2xsb3dpbmcgY29kZSBpcyBmb3IgREdYLnh4eC55eXkgYWNjZXNzXHJcbmNvbnN0IFNoYXJlZCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi4vc2hhcmVkL2luZGV4XCIpKTtcclxuY29uc3QgQ2xhc3NlcyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9jbGFzc2VzXCIpKTtcclxuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NsYXNzZXNcIiksIGV4cG9ydHMpO1xyXG5jb25zdCBER1ggPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIFNoYXJlZCksIENsYXNzZXMpO1xyXG4vLyBAdHMtaWdub3JlXHJcbmdsb2JhbC5ER1ggPSBER1g7XHJcbnNldEltbWVkaWF0ZSgoKSA9PiB7XHJcbiAgICBnbG9iYWwuZXhwb3J0cygnX2dldExpYnJhcnknLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZnVuY1JlZnMgPSB7fTtcclxuICAgICAgICBPYmplY3Qua2V5cyhER1gpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVmcyA9ICgwLCBsaWJyYXJ5XzEucmV0dXJuQ2xhc3NSZWZzKShER1hba2V5XSk7XHJcbiAgICAgICAgICAgIGlmICghcmVmcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmNSZWZzW2tleV0gPSByZWZzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBmdW5jUmVmcztcclxuICAgIH0pO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../ts-shared/typescript/src/client/index.ts\n')},"../../ts-shared/typescript/src/shared/classes/index.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\n__exportStar(__webpack_require__(/*! ./util */ "../../ts-shared/typescript/src/shared/classes/util.ts"), exports);\r\n__exportStar(__webpack_require__(/*! ./vector3 */ "../../ts-shared/typescript/src/shared/classes/vector3.ts"), exports);\r\n__exportStar(__webpack_require__(/*! ./vector4 */ "../../ts-shared/typescript/src/shared/classes/vector4.ts"), exports);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL3NoYXJlZC9jbGFzc2VzL2luZGV4LnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBLG1DQUFtQyxvQ0FBb0MsZ0JBQWdCO0FBQ3ZGLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhLG1CQUFPLENBQUMscUVBQVE7QUFDN0IsYUFBYSxtQkFBTyxDQUFDLDJFQUFXO0FBQ2hDLGFBQWEsbUJBQU8sQ0FBQywyRUFBVyIsInNvdXJjZXMiOlsid2VicGFjazovL2RnLXZlaGljbGVzLy4uLy4uL3RzLXNoYXJlZC90eXBlc2NyaXB0L3NyYy9zaGFyZWQvY2xhc3Nlcy9pbmRleC50cz9iNmRkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSkpO1xyXG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdXRpbFwiKSwgZXhwb3J0cyk7XHJcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi92ZWN0b3IzXCIpLCBleHBvcnRzKTtcclxuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3ZlY3RvcjRcIiksIGV4cG9ydHMpO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../ts-shared/typescript/src/shared/classes/index.ts\n')},"../../ts-shared/typescript/src/shared/classes/util.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Util = void 0;\r\nconst vector3_1 = __webpack_require__(/*! ./vector3 */ \"../../ts-shared/typescript/src/shared/classes/vector3.ts\");\r\nclass Util {\r\n    constructor() {\r\n        this.uuidv4 = () => {\r\n            let uuid = '';\r\n            for (let ii = 0; ii < 32; ii += 1) {\r\n                switch (ii) {\r\n                    case 8:\r\n                    case 20:\r\n                        uuid += '-';\r\n                        uuid += ((Math.random() * 16) | 0).toString(16);\r\n                        break;\r\n                    case 12:\r\n                        uuid += '-';\r\n                        uuid += '4';\r\n                        break;\r\n                    case 16:\r\n                        uuid += '-';\r\n                        uuid += ((Math.random() * 4) | 8).toString(16);\r\n                        break;\r\n                    default:\r\n                        uuid += ((Math.random() * 16) | 0).toString(16);\r\n                }\r\n            }\r\n            return uuid;\r\n        };\r\n        this.Delay = (ms) => new Promise(res => setTimeout(res, ms));\r\n        this.getRndInteger = (minimum, maximum) => {\r\n            return Math.floor(Math.random() * (maximum - minimum)) + minimum;\r\n        };\r\n        this.ArrayToVector3 = (array) => {\r\n            return new vector3_1.Vector3(array[0], array[1], array[2]);\r\n        };\r\n        this.Vector3ToArray = (vector) => {\r\n            return [vector.x, vector.y, vector.z];\r\n        };\r\n        this.Singleton = () => {\r\n            return class {\r\n                static getInstance() {\r\n                    if (!this.instance) {\r\n                        this.instance = new this();\r\n                    }\r\n                    return this.instance;\r\n                }\r\n            };\r\n        };\r\n        this.generateRndChar = (length, caseSensitive = true) => {\r\n            let result = '';\r\n            const characters = `${caseSensitive ? 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' : ''}abcdefghijklmnopqrstuvwxyz0123456789`;\r\n            const charactersLength = characters.length;\r\n            for (let i = 0; i < length; i++) {\r\n                result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n            }\r\n            return result;\r\n        };\r\n    }\r\n    getEntityCoords(_) {\r\n        return new vector3_1.Vector3(0, 0, 0);\r\n    }\r\n    getDistanceBetweenEntities(entity1, entity2) {\r\n        const entity1Coords = this.getEntityCoords(entity1);\r\n        const entity2Coords = this.getEntityCoords(entity2);\r\n        return entity1Coords.subtract(entity2Coords).Length;\r\n    }\r\n    isDevEnv() {\r\n        return GetConvar('is_production', 'true') === 'false';\r\n    }\r\n}\r\nexports.Util = Util;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL3NoYXJlZC9jbGFzc2VzL3V0aWwudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWTtBQUNaLGtCQUFrQixtQkFBTyxDQUFDLDJFQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFNBQVM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGtEQUFrRDtBQUNwRjtBQUNBLDRCQUE0QixZQUFZO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGctdmVoaWNsZXMvLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL3NoYXJlZC9jbGFzc2VzL3V0aWwudHM/ZWZjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLlV0aWwgPSB2b2lkIDA7XHJcbmNvbnN0IHZlY3RvcjNfMSA9IHJlcXVpcmUoXCIuL3ZlY3RvcjNcIik7XHJcbmNsYXNzIFV0aWwge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy51dWlkdjQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB1dWlkID0gJyc7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCAzMjsgaWkgKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChpaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDIwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dWlkICs9ICctJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXVpZCArPSAoKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwKS50b1N0cmluZygxNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQgKz0gJy0nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dWlkICs9ICc0JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXVpZCArPSAnLSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQgKz0gKChNYXRoLnJhbmRvbSgpICogNCkgfCA4KS50b1N0cmluZygxNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQgKz0gKChNYXRoLnJhbmRvbSgpICogMTYpIHwgMCkudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB1dWlkO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5EZWxheSA9IChtcykgPT4gbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCBtcykpO1xyXG4gICAgICAgIHRoaXMuZ2V0Um5kSW50ZWdlciA9IChtaW5pbXVtLCBtYXhpbXVtKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4aW11bSAtIG1pbmltdW0pKSArIG1pbmltdW07XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLkFycmF5VG9WZWN0b3IzID0gKGFycmF5KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgdmVjdG9yM18xLlZlY3RvcjMoYXJyYXlbMF0sIGFycmF5WzFdLCBhcnJheVsyXSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLlZlY3RvcjNUb0FycmF5ID0gKHZlY3RvcikgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gW3ZlY3Rvci54LCB2ZWN0b3IueSwgdmVjdG9yLnpdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5TaW5nbGV0b24gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBjbGFzcyB7XHJcbiAgICAgICAgICAgICAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgdGhpcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVSbmRDaGFyID0gKGxlbmd0aCwgY2FzZVNlbnNpdGl2ZSA9IHRydWUpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9ICcnO1xyXG4gICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJzID0gYCR7Y2FzZVNlbnNpdGl2ZSA/ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWicgOiAnJ31hYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlgO1xyXG4gICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJzTGVuZ3RoID0gY2hhcmFjdGVycy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBjaGFyYWN0ZXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyYWN0ZXJzTGVuZ3RoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZ2V0RW50aXR5Q29vcmRzKF8pIHtcclxuICAgICAgICByZXR1cm4gbmV3IHZlY3RvcjNfMS5WZWN0b3IzKDAsIDAsIDApO1xyXG4gICAgfVxyXG4gICAgZ2V0RGlzdGFuY2VCZXR3ZWVuRW50aXRpZXMoZW50aXR5MSwgZW50aXR5Mikge1xyXG4gICAgICAgIGNvbnN0IGVudGl0eTFDb29yZHMgPSB0aGlzLmdldEVudGl0eUNvb3JkcyhlbnRpdHkxKTtcclxuICAgICAgICBjb25zdCBlbnRpdHkyQ29vcmRzID0gdGhpcy5nZXRFbnRpdHlDb29yZHMoZW50aXR5Mik7XHJcbiAgICAgICAgcmV0dXJuIGVudGl0eTFDb29yZHMuc3VidHJhY3QoZW50aXR5MkNvb3JkcykuTGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgaXNEZXZFbnYoKSB7XHJcbiAgICAgICAgcmV0dXJuIEdldENvbnZhcignaXNfcHJvZHVjdGlvbicsICd0cnVlJykgPT09ICdmYWxzZSc7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5VdGlsID0gVXRpbDtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../ts-shared/typescript/src/shared/classes/util.ts\n")},"../../ts-shared/typescript/src/shared/classes/vector3.ts":(__unused_webpack_module,exports)=>{"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Vector3 = void 0;\r\n// Thx to fivem-js but your package is to big\r\nclass Vector3 {\r\n    constructor(x, y, z) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n    static create(v1) {\r\n        if (typeof v1 === 'number') {\r\n            return new Vector3(v1, v1, v1);\r\n        }\r\n        return new Vector3(v1.x, v1.y, v1.z);\r\n    }\r\n    static clone(v1) {\r\n        return Vector3.create(v1);\r\n    }\r\n    static add(v1, v2) {\r\n        if (typeof v2 === 'number') {\r\n            return new Vector3(v1.x + v2, v1.y + v2, v1.z + v2);\r\n        }\r\n        return new Vector3(v1.x + v2.x, v1.y + v2.y, v1.z + v2.z);\r\n    }\r\n    static subtract(v1, v2) {\r\n        return new Vector3(v1.x - v2.x, v1.y - v2.y, v1.z - v2.z);\r\n    }\r\n    static multiply(v1, v2) {\r\n        if (typeof v2 === 'number') {\r\n            return new Vector3(v1.x * v2, v1.y * v2, v1.z * v2);\r\n        }\r\n        return new Vector3(v1.x * v2.x, v1.y * v2.y, v1.z * v2.z);\r\n    }\r\n    static divide(v1, v2) {\r\n        if (typeof v2 === 'number') {\r\n            return new Vector3(v1.x / v2, v1.y / v2, v1.z / v2);\r\n        }\r\n        return new Vector3(v1.x / v2.x, v1.y / v2.y, v1.z / v2.z);\r\n    }\r\n    static dotProduct(v1, v2) {\r\n        return v1.x * v2.x + v1.y * v2.y + v1.z * v2.z;\r\n    }\r\n    static crossProduct(v1, v2) {\r\n        const x = v1.y * v2.z - v1.z * v2.y;\r\n        const y = v1.z * v2.x - v1.z * v2.z;\r\n        const z = v1.x * v2.y - v1.z * v2.x;\r\n        return new Vector3(x, y, z);\r\n    }\r\n    static normalize(v) {\r\n        return Vector3.divide(v, v.Length);\r\n    }\r\n    clone() {\r\n        return new Vector3(this.x, this.y, this.z);\r\n    }\r\n    /**\r\n     * The product of the Euclidean magnitudes of this and another Vector3.\r\n     *\r\n     * @param v Vector3 to find Euclidean magnitude between.\r\n     * @returns Euclidean magnitude with another vector.\r\n     */\r\n    distanceSquared(v) {\r\n        const w = this.subtract(v);\r\n        return Vector3.dotProduct(w, w);\r\n    }\r\n    /**\r\n     * The distance between two Vectors.\r\n     *\r\n     * @param v Vector3 to find distance between.\r\n     * @returns Distance between this and another vector.\r\n     */\r\n    distance(v) {\r\n        return Math.sqrt(this.distanceSquared(v));\r\n    }\r\n    get normalize() {\r\n        return Vector3.normalize(this);\r\n    }\r\n    crossProduct(v) {\r\n        return Vector3.crossProduct(this, v);\r\n    }\r\n    dotProduct(v) {\r\n        return Vector3.dotProduct(this, v);\r\n    }\r\n    add(v) {\r\n        return Vector3.add(this, v);\r\n    }\r\n    subtract(v) {\r\n        return Vector3.subtract(this, v);\r\n    }\r\n    multiply(v) {\r\n        return Vector3.multiply(this, v);\r\n    }\r\n    divide(v) {\r\n        return Vector3.divide(this, v);\r\n    }\r\n    replace(v) {\r\n        this.x = v.x;\r\n        this.y = v.y;\r\n        this.z = v.z;\r\n    }\r\n    get Length() {\r\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\r\n    }\r\n}\r\nexports.Vector3 = Vector3;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL3NoYXJlZC9jbGFzc2VzL3ZlY3RvcjMudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGctdmVoaWNsZXMvLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL3NoYXJlZC9jbGFzc2VzL3ZlY3RvcjMudHM/NDA2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLlZlY3RvcjMgPSB2b2lkIDA7XHJcbi8vIFRoeCB0byBmaXZlbS1qcyBidXQgeW91ciBwYWNrYWdlIGlzIHRvIGJpZ1xyXG5jbGFzcyBWZWN0b3IzIHtcclxuICAgIGNvbnN0cnVjdG9yKHgsIHksIHopIHtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy56ID0gejtcclxuICAgIH1cclxuICAgIHN0YXRpYyBjcmVhdGUodjEpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHYxID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjModjEsIHYxLCB2MSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyh2MS54LCB2MS55LCB2MS56KTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBjbG9uZSh2MSkge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IzLmNyZWF0ZSh2MSk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgYWRkKHYxLCB2Mikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdjIgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyh2MS54ICsgdjIsIHYxLnkgKyB2MiwgdjEueiArIHYyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKHYxLnggKyB2Mi54LCB2MS55ICsgdjIueSwgdjEueiArIHYyLnopO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIHN1YnRyYWN0KHYxLCB2Mikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyh2MS54IC0gdjIueCwgdjEueSAtIHYyLnksIHYxLnogLSB2Mi56KTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBtdWx0aXBseSh2MSwgdjIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHYyID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjModjEueCAqIHYyLCB2MS55ICogdjIsIHYxLnogKiB2Mik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyh2MS54ICogdjIueCwgdjEueSAqIHYyLnksIHYxLnogKiB2Mi56KTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBkaXZpZGUodjEsIHYyKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2MiA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKHYxLnggLyB2MiwgdjEueSAvIHYyLCB2MS56IC8gdjIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjModjEueCAvIHYyLngsIHYxLnkgLyB2Mi55LCB2MS56IC8gdjIueik7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZG90UHJvZHVjdCh2MSwgdjIpIHtcclxuICAgICAgICByZXR1cm4gdjEueCAqIHYyLnggKyB2MS55ICogdjIueSArIHYxLnogKiB2Mi56O1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGNyb3NzUHJvZHVjdCh2MSwgdjIpIHtcclxuICAgICAgICBjb25zdCB4ID0gdjEueSAqIHYyLnogLSB2MS56ICogdjIueTtcclxuICAgICAgICBjb25zdCB5ID0gdjEueiAqIHYyLnggLSB2MS56ICogdjIuejtcclxuICAgICAgICBjb25zdCB6ID0gdjEueCAqIHYyLnkgLSB2MS56ICogdjIueDtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjMoeCwgeSwgeik7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgbm9ybWFsaXplKHYpIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yMy5kaXZpZGUodiwgdi5MZW5ndGgpO1xyXG4gICAgfVxyXG4gICAgY2xvbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKHRoaXMueCwgdGhpcy55LCB0aGlzLnopO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgcHJvZHVjdCBvZiB0aGUgRXVjbGlkZWFuIG1hZ25pdHVkZXMgb2YgdGhpcyBhbmQgYW5vdGhlciBWZWN0b3IzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IFZlY3RvcjMgdG8gZmluZCBFdWNsaWRlYW4gbWFnbml0dWRlIGJldHdlZW4uXHJcbiAgICAgKiBAcmV0dXJucyBFdWNsaWRlYW4gbWFnbml0dWRlIHdpdGggYW5vdGhlciB2ZWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGRpc3RhbmNlU3F1YXJlZCh2KSB7XHJcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc3VidHJhY3Qodik7XHJcbiAgICAgICAgcmV0dXJuIFZlY3RvcjMuZG90UHJvZHVjdCh3LCB3KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIFZlY3RvcnMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgVmVjdG9yMyB0byBmaW5kIGRpc3RhbmNlIGJldHdlZW4uXHJcbiAgICAgKiBAcmV0dXJucyBEaXN0YW5jZSBiZXR3ZWVuIHRoaXMgYW5kIGFub3RoZXIgdmVjdG9yLlxyXG4gICAgICovXHJcbiAgICBkaXN0YW5jZSh2KSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlU3F1YXJlZCh2KSk7XHJcbiAgICB9XHJcbiAgICBnZXQgbm9ybWFsaXplKCkge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IzLm5vcm1hbGl6ZSh0aGlzKTtcclxuICAgIH1cclxuICAgIGNyb3NzUHJvZHVjdCh2KSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3Jvc3NQcm9kdWN0KHRoaXMsIHYpO1xyXG4gICAgfVxyXG4gICAgZG90UHJvZHVjdCh2KSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3RvcjMuZG90UHJvZHVjdCh0aGlzLCB2KTtcclxuICAgIH1cclxuICAgIGFkZCh2KSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3RvcjMuYWRkKHRoaXMsIHYpO1xyXG4gICAgfVxyXG4gICAgc3VidHJhY3Qodikge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IzLnN1YnRyYWN0KHRoaXMsIHYpO1xyXG4gICAgfVxyXG4gICAgbXVsdGlwbHkodikge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IzLm11bHRpcGx5KHRoaXMsIHYpO1xyXG4gICAgfVxyXG4gICAgZGl2aWRlKHYpIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yMy5kaXZpZGUodGhpcywgdik7XHJcbiAgICB9XHJcbiAgICByZXBsYWNlKHYpIHtcclxuICAgICAgICB0aGlzLnggPSB2Lng7XHJcbiAgICAgICAgdGhpcy55ID0gdi55O1xyXG4gICAgICAgIHRoaXMueiA9IHYuejtcclxuICAgIH1cclxuICAgIGdldCBMZW5ndGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnopO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuVmVjdG9yMyA9IFZlY3RvcjM7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../ts-shared/typescript/src/shared/classes/vector3.ts\n")},"../../ts-shared/typescript/src/shared/classes/vector4.ts":(__unused_webpack_module,exports)=>{"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Vector4 = void 0;\r\nclass Vector4 {\r\n    constructor(x, y, z, w) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n    }\r\n    static create(v1) {\r\n        if (typeof v1 === 'number') {\r\n            return new Vector4(v1, v1, v1, v1);\r\n        }\r\n        return new Vector4(v1.x, v1.y, v1.z, v1.w);\r\n    }\r\n    static createFromVec3(v1, w) {\r\n        return new Vector4(v1.x, v1.y, v1.z, w);\r\n    }\r\n    static clone(v1) {\r\n        return Vector4.create(v1);\r\n    }\r\n    static add(v1, v2) {\r\n        if (typeof v2 === 'number') {\r\n            return new Vector4(v1.x + v2, v1.y + v2, v1.z + v2, v1.w + v2);\r\n        }\r\n        return new Vector4(v1.x + v2.x, v1.y + v2.y, v1.z + v2.z, v1.w + v2.w);\r\n    }\r\n    static subtract(v1, v2) {\r\n        return new Vector4(v1.x - v2.x, v1.y - v2.y, v1.z - v2.z, v1.w - v2.w);\r\n    }\r\n    static multiply(v1, v2) {\r\n        if (typeof v2 === 'number') {\r\n            return new Vector4(v1.x * v2, v1.y * v2, v1.z * v2, v1.w * v2);\r\n        }\r\n        return new Vector4(v1.x * v2.x, v1.y * v2.y, v1.z * v2.z, v1.w * v2.w);\r\n    }\r\n    static divide(v1, v2) {\r\n        if (typeof v2 === 'number') {\r\n            return new Vector4(v1.x / v2, v1.y / v2, v1.z / v2, v1.w / v2);\r\n        }\r\n        return new Vector4(v1.x / v2.x, v1.y / v2.y, v1.z / v2.z, v1.w / v2.w);\r\n    }\r\n    static dotProduct(v1, v2) {\r\n        return v1.x * v2.x + v1.y * v2.y + v1.z * v2.z + v1.w * v2.w;\r\n    }\r\n    static normalize(v) {\r\n        return Vector4.divide(v, v.Length);\r\n    }\r\n    clone() {\r\n        return new Vector4(this.x, this.y, this.z, this.w);\r\n    }\r\n    /**\r\n     * The product of the Euclidean magnitudes of this and another Vector4.\r\n     *\r\n     * @param v Vector4 to find Euclidean magnitude between.\r\n     * @returns Euclidean magnitude with another vector.\r\n     */\r\n    distanceSquared(v) {\r\n        const w = this.subtract(v);\r\n        return Vector4.dotProduct(w, w);\r\n    }\r\n    /**\r\n     * The distance between two Vectors.\r\n     *\r\n     * @param v Vector4 to find distance between.\r\n     * @returns Distance between this and another vector.\r\n     */\r\n    distance(v) {\r\n        return Math.sqrt(this.distanceSquared(v));\r\n    }\r\n    get normalize() {\r\n        return Vector4.normalize(this);\r\n    }\r\n    dotProduct(v) {\r\n        return Vector4.dotProduct(this, v);\r\n    }\r\n    add(v) {\r\n        return Vector4.add(this, v);\r\n    }\r\n    subtract(v) {\r\n        return Vector4.subtract(this, v);\r\n    }\r\n    multiply(v) {\r\n        return Vector4.multiply(this, v);\r\n    }\r\n    divide(v) {\r\n        return Vector4.divide(this, v);\r\n    }\r\n    replace(v) {\r\n        this.x = v.x;\r\n        this.y = v.y;\r\n        this.z = v.z;\r\n    }\r\n    get Length() {\r\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\r\n    }\r\n}\r\nexports.Vector4 = Vector4;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL3NoYXJlZC9jbGFzc2VzL3ZlY3RvcjQudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGctdmVoaWNsZXMvLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL3NoYXJlZC9jbGFzc2VzL3ZlY3RvcjQudHM/ZDQ2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLlZlY3RvcjQgPSB2b2lkIDA7XHJcbmNsYXNzIFZlY3RvcjQge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgeiwgdykge1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLnogPSB6O1xyXG4gICAgICAgIHRoaXMudyA9IHc7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgY3JlYXRlKHYxKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2MSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3I0KHYxLCB2MSwgdjEsIHYxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3I0KHYxLngsIHYxLnksIHYxLnosIHYxLncpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGNyZWF0ZUZyb21WZWMzKHYxLCB3KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3I0KHYxLngsIHYxLnksIHYxLnosIHcpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGNsb25lKHYxKSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3RvcjQuY3JlYXRlKHYxKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBhZGQodjEsIHYyKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2MiA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3I0KHYxLnggKyB2MiwgdjEueSArIHYyLCB2MS56ICsgdjIsIHYxLncgKyB2Mik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yNCh2MS54ICsgdjIueCwgdjEueSArIHYyLnksIHYxLnogKyB2Mi56LCB2MS53ICsgdjIudyk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgc3VidHJhY3QodjEsIHYyKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3I0KHYxLnggLSB2Mi54LCB2MS55IC0gdjIueSwgdjEueiAtIHYyLnosIHYxLncgLSB2Mi53KTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBtdWx0aXBseSh2MSwgdjIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHYyID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjQodjEueCAqIHYyLCB2MS55ICogdjIsIHYxLnogKiB2MiwgdjEudyAqIHYyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3I0KHYxLnggKiB2Mi54LCB2MS55ICogdjIueSwgdjEueiAqIHYyLnosIHYxLncgKiB2Mi53KTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBkaXZpZGUodjEsIHYyKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2MiA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3I0KHYxLnggLyB2MiwgdjEueSAvIHYyLCB2MS56IC8gdjIsIHYxLncgLyB2Mik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yNCh2MS54IC8gdjIueCwgdjEueSAvIHYyLnksIHYxLnogLyB2Mi56LCB2MS53IC8gdjIudyk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZG90UHJvZHVjdCh2MSwgdjIpIHtcclxuICAgICAgICByZXR1cm4gdjEueCAqIHYyLnggKyB2MS55ICogdjIueSArIHYxLnogKiB2Mi56ICsgdjEudyAqIHYyLnc7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgbm9ybWFsaXplKHYpIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yNC5kaXZpZGUodiwgdi5MZW5ndGgpO1xyXG4gICAgfVxyXG4gICAgY2xvbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3I0KHRoaXMueCwgdGhpcy55LCB0aGlzLnosIHRoaXMudyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBwcm9kdWN0IG9mIHRoZSBFdWNsaWRlYW4gbWFnbml0dWRlcyBvZiB0aGlzIGFuZCBhbm90aGVyIFZlY3RvcjQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgVmVjdG9yNCB0byBmaW5kIEV1Y2xpZGVhbiBtYWduaXR1ZGUgYmV0d2Vlbi5cclxuICAgICAqIEByZXR1cm5zIEV1Y2xpZGVhbiBtYWduaXR1ZGUgd2l0aCBhbm90aGVyIHZlY3Rvci5cclxuICAgICAqL1xyXG4gICAgZGlzdGFuY2VTcXVhcmVkKHYpIHtcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zdWJ0cmFjdCh2KTtcclxuICAgICAgICByZXR1cm4gVmVjdG9yNC5kb3RQcm9kdWN0KHcsIHcpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gVmVjdG9ycy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBWZWN0b3I0IHRvIGZpbmQgZGlzdGFuY2UgYmV0d2Vlbi5cclxuICAgICAqIEByZXR1cm5zIERpc3RhbmNlIGJldHdlZW4gdGhpcyBhbmQgYW5vdGhlciB2ZWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGRpc3RhbmNlKHYpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VTcXVhcmVkKHYpKTtcclxuICAgIH1cclxuICAgIGdldCBub3JtYWxpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3RvcjQubm9ybWFsaXplKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgZG90UHJvZHVjdCh2KSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3RvcjQuZG90UHJvZHVjdCh0aGlzLCB2KTtcclxuICAgIH1cclxuICAgIGFkZCh2KSB7XHJcbiAgICAgICAgcmV0dXJuIFZlY3RvcjQuYWRkKHRoaXMsIHYpO1xyXG4gICAgfVxyXG4gICAgc3VidHJhY3Qodikge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3I0LnN1YnRyYWN0KHRoaXMsIHYpO1xyXG4gICAgfVxyXG4gICAgbXVsdGlwbHkodikge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3I0Lm11bHRpcGx5KHRoaXMsIHYpO1xyXG4gICAgfVxyXG4gICAgZGl2aWRlKHYpIHtcclxuICAgICAgICByZXR1cm4gVmVjdG9yNC5kaXZpZGUodGhpcywgdik7XHJcbiAgICB9XHJcbiAgICByZXBsYWNlKHYpIHtcclxuICAgICAgICB0aGlzLnggPSB2Lng7XHJcbiAgICAgICAgdGhpcy55ID0gdi55O1xyXG4gICAgICAgIHRoaXMueiA9IHYuejtcclxuICAgIH1cclxuICAgIGdldCBMZW5ndGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnopO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuVmVjdG9yNCA9IFZlY3RvcjQ7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../ts-shared/typescript/src/shared/classes/vector4.ts\n")},"../../ts-shared/typescript/src/shared/decorators/Exports.ts":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.ExportRegister = exports.Export = void 0;\r\n__webpack_require__(/*! reflect-metadata */ \"../../ts-shared/typescript/node_modules/reflect-metadata/Reflect.js\");\r\n/**\r\n * Register the function as a 5M export\r\n */\r\nconst Export = (exportName) => {\r\n    return function (target, key) {\r\n        if (!Reflect.hasMetadata('exports', target)) {\r\n            Reflect.defineMetadata('exports', [], target);\r\n        }\r\n        const exports = Reflect.getMetadata('exports', target);\r\n        exports.push({\r\n            name: exportName,\r\n            key,\r\n        });\r\n        Reflect.defineMetadata('exports', exports, target);\r\n    };\r\n};\r\nexports.Export = Export;\r\n/**\r\n * Export creator\r\n */\r\nconst ExportRegister = () => {\r\n    return function (constructor) {\r\n        return class extends constructor {\r\n            constructor(...args) {\r\n                super(...args);\r\n                if (!Reflect.hasMetadata('exports', this)) {\r\n                    Reflect.defineMetadata('exports', [], this);\r\n                }\r\n                const exports = Reflect.getMetadata('exports', this);\r\n                exports.forEach(e => {\r\n                    global.exports(e.name, (...exportArgs) => {\r\n                        return this[e.key](...exportArgs);\r\n                    });\r\n                });\r\n            }\r\n        };\r\n    };\r\n};\r\nexports.ExportRegister = ExportRegister;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL3NoYXJlZC9kZWNvcmF0b3JzL0V4cG9ydHMudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCLEdBQUcsY0FBYztBQUN2QyxtQkFBTyxDQUFDLDZGQUFrQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZy12ZWhpY2xlcy8uLi8uLi90cy1zaGFyZWQvdHlwZXNjcmlwdC9zcmMvc2hhcmVkL2RlY29yYXRvcnMvRXhwb3J0cy50cz80MzBlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuRXhwb3J0UmVnaXN0ZXIgPSBleHBvcnRzLkV4cG9ydCA9IHZvaWQgMDtcclxucmVxdWlyZShcInJlZmxlY3QtbWV0YWRhdGFcIik7XHJcbi8qKlxyXG4gKiBSZWdpc3RlciB0aGUgZnVuY3Rpb24gYXMgYSA1TSBleHBvcnRcclxuICovXHJcbmNvbnN0IEV4cG9ydCA9IChleHBvcnROYW1lKSA9PiB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7XHJcbiAgICAgICAgaWYgKCFSZWZsZWN0Lmhhc01ldGFkYXRhKCdleHBvcnRzJywgdGFyZ2V0KSkge1xyXG4gICAgICAgICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdleHBvcnRzJywgW10sIHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGV4cG9ydHMgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdleHBvcnRzJywgdGFyZ2V0KTtcclxuICAgICAgICBleHBvcnRzLnB1c2goe1xyXG4gICAgICAgICAgICBuYW1lOiBleHBvcnROYW1lLFxyXG4gICAgICAgICAgICBrZXksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YSgnZXhwb3J0cycsIGV4cG9ydHMsIHRhcmdldCk7XHJcbiAgICB9O1xyXG59O1xyXG5leHBvcnRzLkV4cG9ydCA9IEV4cG9ydDtcclxuLyoqXHJcbiAqIEV4cG9ydCBjcmVhdG9yXHJcbiAqL1xyXG5jb25zdCBFeHBvcnRSZWdpc3RlciA9ICgpID0+IHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoY29uc3RydWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gY2xhc3MgZXh0ZW5kcyBjb25zdHJ1Y3RvciB7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIHN1cGVyKC4uLmFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFSZWZsZWN0Lmhhc01ldGFkYXRhKCdleHBvcnRzJywgdGhpcykpIHtcclxuICAgICAgICAgICAgICAgICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdleHBvcnRzJywgW10sIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgZXhwb3J0cyA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ2V4cG9ydHMnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIGV4cG9ydHMuZm9yRWFjaChlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBnbG9iYWwuZXhwb3J0cyhlLm5hbWUsICguLi5leHBvcnRBcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2Uua2V5XSguLi5leHBvcnRBcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbn07XHJcbmV4cG9ydHMuRXhwb3J0UmVnaXN0ZXIgPSBFeHBvcnRSZWdpc3RlcjtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../ts-shared/typescript/src/shared/decorators/Exports.ts\n")},"../../ts-shared/typescript/src/shared/decorators/index.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\n__exportStar(__webpack_require__(/*! ./Exports */ "../../ts-shared/typescript/src/shared/decorators/Exports.ts"), exports);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL3NoYXJlZC9kZWNvcmF0b3JzL2luZGV4LnRzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBLG1DQUFtQyxvQ0FBb0MsZ0JBQWdCO0FBQ3ZGLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxhQUFhLG1CQUFPLENBQUMsOEVBQVciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZy12ZWhpY2xlcy8uLi8uLi90cy1zaGFyZWQvdHlwZXNjcmlwdC9zcmMvc2hhcmVkL2RlY29yYXRvcnMvaW5kZXgudHM/OGNmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pKTtcclxudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL0V4cG9ydHNcIiksIGV4cG9ydHMpO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../ts-shared/typescript/src/shared/decorators/index.ts\n')},"../../ts-shared/typescript/src/shared/helpers/library.ts":(__unused_webpack_module,exports)=>{"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.returnClassRefs = void 0;\r\nconst returnClassRefs = (classInstance) => {\r\n    if (classInstance.constructor.name === 'Function') {\r\n        return undefined;\r\n    }\r\n    let obj = classInstance;\r\n    // Has all keys of the functions defined in the class\r\n    let props = [];\r\n    do {\r\n        props.push(...Object.getOwnPropertyNames(obj));\r\n    } while ((obj = Object.getPrototypeOf(obj)) && obj != Object.prototype);\r\n    props = props.filter(prop => typeof classInstance[prop] === 'function' && prop !== 'constructor');\r\n    const refs = {};\r\n    props.forEach(prop => {\r\n        refs[prop] = (...args) => {\r\n            return classInstance[prop](...args);\r\n        };\r\n    });\r\n    return refs;\r\n};\r\nexports.returnClassRefs = returnClassRefs;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL3NoYXJlZC9oZWxwZXJzL2xpYnJhcnkudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHVCQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2RnLXZlaGljbGVzLy4uLy4uL3RzLXNoYXJlZC90eXBlc2NyaXB0L3NyYy9zaGFyZWQvaGVscGVycy9saWJyYXJ5LnRzP2JmZjYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5yZXR1cm5DbGFzc1JlZnMgPSB2b2lkIDA7XHJcbmNvbnN0IHJldHVybkNsYXNzUmVmcyA9IChjbGFzc0luc3RhbmNlKSA9PiB7XHJcbiAgICBpZiAoY2xhc3NJbnN0YW5jZS5jb25zdHJ1Y3Rvci5uYW1lID09PSAnRnVuY3Rpb24nKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGxldCBvYmogPSBjbGFzc0luc3RhbmNlO1xyXG4gICAgLy8gSGFzIGFsbCBrZXlzIG9mIHRoZSBmdW5jdGlvbnMgZGVmaW5lZCBpbiB0aGUgY2xhc3NcclxuICAgIGxldCBwcm9wcyA9IFtdO1xyXG4gICAgZG8ge1xyXG4gICAgICAgIHByb3BzLnB1c2goLi4uT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKSk7XHJcbiAgICB9IHdoaWxlICgob2JqID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikpICYmIG9iaiAhPSBPYmplY3QucHJvdG90eXBlKTtcclxuICAgIHByb3BzID0gcHJvcHMuZmlsdGVyKHByb3AgPT4gdHlwZW9mIGNsYXNzSW5zdGFuY2VbcHJvcF0gPT09ICdmdW5jdGlvbicgJiYgcHJvcCAhPT0gJ2NvbnN0cnVjdG9yJyk7XHJcbiAgICBjb25zdCByZWZzID0ge307XHJcbiAgICBwcm9wcy5mb3JFYWNoKHByb3AgPT4ge1xyXG4gICAgICAgIHJlZnNbcHJvcF0gPSAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gY2xhc3NJbnN0YW5jZVtwcm9wXSguLi5hcmdzKTtcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmVmcztcclxufTtcclxuZXhwb3J0cy5yZXR1cm5DbGFzc1JlZnMgPSByZXR1cm5DbGFzc1JlZnM7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../ts-shared/typescript/src/shared/helpers/library.ts\n")},"../../ts-shared/typescript/src/shared/index.ts":function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, "__esModule", ({ value: true }));\r\nexports.Util = void 0;\r\n__exportStar(__webpack_require__(/*! ./classes */ "../../ts-shared/typescript/src/shared/classes/index.ts"), exports);\r\nconst classes_1 = __webpack_require__(/*! ./classes */ "../../ts-shared/typescript/src/shared/classes/index.ts");\r\nexports.Util = new classes_1.Util();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL3NoYXJlZC9pbmRleC50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQSxtQ0FBbUMsb0NBQW9DLGdCQUFnQjtBQUN2RixDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsWUFBWTtBQUNaLGFBQWEsbUJBQU8sQ0FBQyx5RUFBVztBQUNoQyxrQkFBa0IsbUJBQU8sQ0FBQyx5RUFBVztBQUNyQyxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGctdmVoaWNsZXMvLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvc3JjL3NoYXJlZC9pbmRleC50cz9hNWJmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSkpO1xyXG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLlV0aWwgPSB2b2lkIDA7XHJcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jbGFzc2VzXCIpLCBleHBvcnRzKTtcclxuY29uc3QgY2xhc3Nlc18xID0gcmVxdWlyZShcIi4vY2xhc3Nlc1wiKTtcclxuZXhwb3J0cy5VdGlsID0gbmV3IGNsYXNzZXNfMS5VdGlsKCk7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../ts-shared/typescript/src/shared/index.ts\n')},"../../ts-shared/typescript/node_modules/reflect-metadata/Reflect.js":()=>{eval('/*! *****************************************************************************\nCopyright (C) Microsoft. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar Reflect;\n(function (Reflect) {\n    // Metadata Proposal\n    // https://rbuckton.github.io/reflect-metadata/\n    (function (factory) {\n        var root = typeof global === "object" ? global :\n            typeof self === "object" ? self :\n                typeof this === "object" ? this :\n                    Function("return this;")();\n        var exporter = makeExporter(Reflect);\n        if (typeof root.Reflect === "undefined") {\n            root.Reflect = Reflect;\n        }\n        else {\n            exporter = makeExporter(root.Reflect, exporter);\n        }\n        factory(exporter);\n        function makeExporter(target, previous) {\n            return function (key, value) {\n                if (typeof target[key] !== "function") {\n                    Object.defineProperty(target, key, { configurable: true, writable: true, value: value });\n                }\n                if (previous)\n                    previous(key, value);\n            };\n        }\n    })(function (exporter) {\n        var hasOwn = Object.prototype.hasOwnProperty;\n        // feature test for Symbol support\n        var supportsSymbol = typeof Symbol === "function";\n        var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== "undefined" ? Symbol.toPrimitive : "@@toPrimitive";\n        var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== "undefined" ? Symbol.iterator : "@@iterator";\n        var supportsCreate = typeof Object.create === "function"; // feature test for Object.create support\n        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\n        var downLevel = !supportsCreate && !supportsProto;\n        var HashMap = {\n            // create an object in dictionary mode (a.k.a. "slow" mode in v8)\n            create: supportsCreate\n                ? function () { return MakeDictionary(Object.create(null)); }\n                : supportsProto\n                    ? function () { return MakeDictionary({ __proto__: null }); }\n                    : function () { return MakeDictionary({}); },\n            has: downLevel\n                ? function (map, key) { return hasOwn.call(map, key); }\n                : function (map, key) { return key in map; },\n            get: downLevel\n                ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\n                : function (map, key) { return map[key]; },\n        };\n        // Load global or shim versions of Map, Set, and WeakMap\n        var functionPrototype = Object.getPrototypeOf(Function);\n        var usePolyfill = typeof process === "object" && process.env && process.env["REFLECT_METADATA_USE_MAP_POLYFILL"] === "true";\n        var _Map = !usePolyfill && typeof Map === "function" && typeof Map.prototype.entries === "function" ? Map : CreateMapPolyfill();\n        var _Set = !usePolyfill && typeof Set === "function" && typeof Set.prototype.entries === "function" ? Set : CreateSetPolyfill();\n        var _WeakMap = !usePolyfill && typeof WeakMap === "function" ? WeakMap : CreateWeakMapPolyfill();\n        // [[Metadata]] internal slot\n        // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\n        var Metadata = new _WeakMap();\n        /**\n         * Applies a set of decorators to a property of a target object.\n         * @param decorators An array of decorators.\n         * @param target The target object.\n         * @param propertyKey (Optional) The property key to decorate.\n         * @param attributes (Optional) The property descriptor for the target key.\n         * @remarks Decorators are applied in reverse order.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Example = Reflect.decorate(decoratorsArray, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.decorate(decoratorsArray, Example, "staticProperty");\n         *\n         *     // property (on prototype)\n         *     Reflect.decorate(decoratorsArray, Example.prototype, "property");\n         *\n         *     // method (on constructor)\n         *     Object.defineProperty(Example, "staticMethod",\n         *         Reflect.decorate(decoratorsArray, Example, "staticMethod",\n         *             Object.getOwnPropertyDescriptor(Example, "staticMethod")));\n         *\n         *     // method (on prototype)\n         *     Object.defineProperty(Example.prototype, "method",\n         *         Reflect.decorate(decoratorsArray, Example.prototype, "method",\n         *             Object.getOwnPropertyDescriptor(Example.prototype, "method")));\n         *\n         */\n        function decorate(decorators, target, propertyKey, attributes) {\n            if (!IsUndefined(propertyKey)) {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\n                    throw new TypeError();\n                if (IsNull(attributes))\n                    attributes = undefined;\n                propertyKey = ToPropertyKey(propertyKey);\n                return DecorateProperty(decorators, target, propertyKey, attributes);\n            }\n            else {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsConstructor(target))\n                    throw new TypeError();\n                return DecorateConstructor(decorators, target);\n            }\n        }\n        exporter("decorate", decorate);\n        // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n        // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n        /**\n         * A default metadata decorator factory that can be used on a class, class member, or parameter.\n         * @param metadataKey The key for the metadata entry.\n         * @param metadataValue The value for the metadata entry.\n         * @returns A decorator function.\n         * @remarks\n         * If `metadataKey` is already defined for the target and target key, the\n         * metadataValue for that key will be overwritten.\n         * @example\n         *\n         *     // constructor\n         *     @Reflect.metadata(key, value)\n         *     class Example {\n         *     }\n         *\n         *     // property (on constructor, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticProperty;\n         *     }\n         *\n         *     // property (on prototype, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         property;\n         *     }\n         *\n         *     // method (on constructor)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticMethod() { }\n         *     }\n         *\n         *     // method (on prototype)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         method() { }\n         *     }\n         *\n         */\n        function metadata(metadataKey, metadataValue) {\n            function decorator(target, propertyKey) {\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\n                    throw new TypeError();\n                OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n            }\n            return decorator;\n        }\n        exporter("metadata", metadata);\n        /**\n         * Define a unique metadata entry on the target.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param metadataValue A value that contains attached metadata.\n         * @param target The target object on which to define metadata.\n         * @param propertyKey (Optional) The property key for the target.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Reflect.defineMetadata("custom:annotation", options, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.defineMetadata("custom:annotation", options, Example, "staticProperty");\n         *\n         *     // property (on prototype)\n         *     Reflect.defineMetadata("custom:annotation", options, Example.prototype, "property");\n         *\n         *     // method (on constructor)\n         *     Reflect.defineMetadata("custom:annotation", options, Example, "staticMethod");\n         *\n         *     // method (on prototype)\n         *     Reflect.defineMetadata("custom:annotation", options, Example.prototype, "method");\n         *\n         *     // decorator factory as metadata-producing annotation.\n         *     function MyAnnotation(options): Decorator {\n         *         return (target, key?) => Reflect.defineMetadata("custom:annotation", options, target, key);\n         *     }\n         *\n         */\n        function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n        }\n        exporter("defineMetadata", defineMetadata);\n        /**\n         * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasMetadata("custom:annotation", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasMetadata("custom:annotation", Example, "staticProperty");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasMetadata("custom:annotation", Example.prototype, "property");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasMetadata("custom:annotation", Example, "staticMethod");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasMetadata("custom:annotation", Example.prototype, "method");\n         *\n         */\n        function hasMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasMetadata(metadataKey, target, propertyKey);\n        }\n        exporter("hasMetadata", hasMetadata);\n        /**\n         * Gets a value indicating whether the target object has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasOwnMetadata("custom:annotation", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasOwnMetadata("custom:annotation", Example, "staticProperty");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasOwnMetadata("custom:annotation", Example.prototype, "property");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasOwnMetadata("custom:annotation", Example, "staticMethod");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasOwnMetadata("custom:annotation", Example.prototype, "method");\n         *\n         */\n        function hasOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter("hasOwnMetadata", hasOwnMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadata("custom:annotation", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadata("custom:annotation", Example, "staticProperty");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadata("custom:annotation", Example.prototype, "property");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadata("custom:annotation", Example, "staticMethod");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadata("custom:annotation", Example.prototype, "method");\n         *\n         */\n        function getMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetMetadata(metadataKey, target, propertyKey);\n        }\n        exporter("getMetadata", getMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadata("custom:annotation", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadata("custom:annotation", Example, "staticProperty");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadata("custom:annotation", Example.prototype, "property");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadata("custom:annotation", Example, "staticMethod");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadata("custom:annotation", Example.prototype, "method");\n         *\n         */\n        function getOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter("getOwnMetadata", getOwnMetadata);\n        /**\n         * Gets the metadata keys defined on the target object or its prototype chain.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, "staticProperty");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, "property");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, "staticMethod");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, "method");\n         *\n         */\n        function getMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryMetadataKeys(target, propertyKey);\n        }\n        exporter("getMetadataKeys", getMetadataKeys);\n        /**\n         * Gets the unique metadata keys defined on the target object.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, "staticProperty");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, "property");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, "staticMethod");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, "method");\n         *\n         */\n        function getOwnMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryOwnMetadataKeys(target, propertyKey);\n        }\n        exporter("getOwnMetadataKeys", getOwnMetadataKeys);\n        /**\n         * Deletes the metadata entry from the target object with the provided key.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata entry was found and deleted; otherwise, false.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.deleteMetadata("custom:annotation", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.deleteMetadata("custom:annotation", Example, "staticProperty");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.deleteMetadata("custom:annotation", Example.prototype, "property");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.deleteMetadata("custom:annotation", Example, "staticMethod");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.deleteMetadata("custom:annotation", Example.prototype, "method");\n         *\n         */\n        function deleteMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            if (!metadataMap.delete(metadataKey))\n                return false;\n            if (metadataMap.size > 0)\n                return true;\n            var targetMetadata = Metadata.get(target);\n            targetMetadata.delete(propertyKey);\n            if (targetMetadata.size > 0)\n                return true;\n            Metadata.delete(target);\n            return true;\n        }\n        exporter("deleteMetadata", deleteMetadata);\n        function DecorateConstructor(decorators, target) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsConstructor(decorated))\n                        throw new TypeError();\n                    target = decorated;\n                }\n            }\n            return target;\n        }\n        function DecorateProperty(decorators, target, propertyKey, descriptor) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target, propertyKey, descriptor);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsObject(decorated))\n                        throw new TypeError();\n                    descriptor = decorated;\n                }\n            }\n            return descriptor;\n        }\n        function GetOrCreateMetadataMap(O, P, Create) {\n            var targetMetadata = Metadata.get(O);\n            if (IsUndefined(targetMetadata)) {\n                if (!Create)\n                    return undefined;\n                targetMetadata = new _Map();\n                Metadata.set(O, targetMetadata);\n            }\n            var metadataMap = targetMetadata.get(P);\n            if (IsUndefined(metadataMap)) {\n                if (!Create)\n                    return undefined;\n                metadataMap = new _Map();\n                targetMetadata.set(P, metadataMap);\n            }\n            return metadataMap;\n        }\n        // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\n        function OrdinaryHasMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return true;\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryHasMetadata(MetadataKey, parent, P);\n            return false;\n        }\n        // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n        function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            return ToBoolean(metadataMap.has(MetadataKey));\n        }\n        // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\n        function OrdinaryGetMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryGetMetadata(MetadataKey, parent, P);\n            return undefined;\n        }\n        // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n        function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return undefined;\n            return metadataMap.get(MetadataKey);\n        }\n        // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n        function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\n            metadataMap.set(MetadataKey, MetadataValue);\n        }\n        // 3.1.6.1 OrdinaryMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\n        function OrdinaryMetadataKeys(O, P) {\n            var ownKeys = OrdinaryOwnMetadataKeys(O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (parent === null)\n                return ownKeys;\n            var parentKeys = OrdinaryMetadataKeys(parent, P);\n            if (parentKeys.length <= 0)\n                return ownKeys;\n            if (ownKeys.length <= 0)\n                return parentKeys;\n            var set = new _Set();\n            var keys = [];\n            for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\n                var key = ownKeys_1[_i];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\n                var key = parentKeys_1[_a];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            return keys;\n        }\n        // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n        function OrdinaryOwnMetadataKeys(O, P) {\n            var keys = [];\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return keys;\n            var keysObj = metadataMap.keys();\n            var iterator = GetIterator(keysObj);\n            var k = 0;\n            while (true) {\n                var next = IteratorStep(iterator);\n                if (!next) {\n                    keys.length = k;\n                    return keys;\n                }\n                var nextValue = IteratorValue(next);\n                try {\n                    keys[k] = nextValue;\n                }\n                catch (e) {\n                    try {\n                        IteratorClose(iterator);\n                    }\n                    finally {\n                        throw e;\n                    }\n                }\n                k++;\n            }\n        }\n        // 6 ECMAScript Data Typ0es and Values\n        // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\n        function Type(x) {\n            if (x === null)\n                return 1 /* Null */;\n            switch (typeof x) {\n                case "undefined": return 0 /* Undefined */;\n                case "boolean": return 2 /* Boolean */;\n                case "string": return 3 /* String */;\n                case "symbol": return 4 /* Symbol */;\n                case "number": return 5 /* Number */;\n                case "object": return x === null ? 1 /* Null */ : 6 /* Object */;\n                default: return 6 /* Object */;\n            }\n        }\n        // 6.1.1 The Undefined Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\n        function IsUndefined(x) {\n            return x === undefined;\n        }\n        // 6.1.2 The Null Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\n        function IsNull(x) {\n            return x === null;\n        }\n        // 6.1.5 The Symbol Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\n        function IsSymbol(x) {\n            return typeof x === "symbol";\n        }\n        // 6.1.7 The Object Type\n        // https://tc39.github.io/ecma262/#sec-object-type\n        function IsObject(x) {\n            return typeof x === "object" ? x !== null : typeof x === "function";\n        }\n        // 7.1 Type Conversion\n        // https://tc39.github.io/ecma262/#sec-type-conversion\n        // 7.1.1 ToPrimitive(input [, PreferredType])\n        // https://tc39.github.io/ecma262/#sec-toprimitive\n        function ToPrimitive(input, PreferredType) {\n            switch (Type(input)) {\n                case 0 /* Undefined */: return input;\n                case 1 /* Null */: return input;\n                case 2 /* Boolean */: return input;\n                case 3 /* String */: return input;\n                case 4 /* Symbol */: return input;\n                case 5 /* Number */: return input;\n            }\n            var hint = PreferredType === 3 /* String */ ? "string" : PreferredType === 5 /* Number */ ? "number" : "default";\n            var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\n            if (exoticToPrim !== undefined) {\n                var result = exoticToPrim.call(input, hint);\n                if (IsObject(result))\n                    throw new TypeError();\n                return result;\n            }\n            return OrdinaryToPrimitive(input, hint === "default" ? "number" : hint);\n        }\n        // 7.1.1.1 OrdinaryToPrimitive(O, hint)\n        // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\n        function OrdinaryToPrimitive(O, hint) {\n            if (hint === "string") {\n                var toString_1 = O.toString;\n                if (IsCallable(toString_1)) {\n                    var result = toString_1.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            else {\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var toString_2 = O.toString;\n                if (IsCallable(toString_2)) {\n                    var result = toString_2.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            throw new TypeError();\n        }\n        // 7.1.2 ToBoolean(argument)\n        // https://tc39.github.io/ecma262/2016/#sec-toboolean\n        function ToBoolean(argument) {\n            return !!argument;\n        }\n        // 7.1.12 ToString(argument)\n        // https://tc39.github.io/ecma262/#sec-tostring\n        function ToString(argument) {\n            return "" + argument;\n        }\n        // 7.1.14 ToPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-topropertykey\n        function ToPropertyKey(argument) {\n            var key = ToPrimitive(argument, 3 /* String */);\n            if (IsSymbol(key))\n                return key;\n            return ToString(key);\n        }\n        // 7.2 Testing and Comparison Operations\n        // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\n        // 7.2.2 IsArray(argument)\n        // https://tc39.github.io/ecma262/#sec-isarray\n        function IsArray(argument) {\n            return Array.isArray\n                ? Array.isArray(argument)\n                : argument instanceof Object\n                    ? argument instanceof Array\n                    : Object.prototype.toString.call(argument) === "[object Array]";\n        }\n        // 7.2.3 IsCallable(argument)\n        // https://tc39.github.io/ecma262/#sec-iscallable\n        function IsCallable(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\n            return typeof argument === "function";\n        }\n        // 7.2.4 IsConstructor(argument)\n        // https://tc39.github.io/ecma262/#sec-isconstructor\n        function IsConstructor(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\n            return typeof argument === "function";\n        }\n        // 7.2.7 IsPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-ispropertykey\n        function IsPropertyKey(argument) {\n            switch (Type(argument)) {\n                case 3 /* String */: return true;\n                case 4 /* Symbol */: return true;\n                default: return false;\n            }\n        }\n        // 7.3 Operations on Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-objects\n        // 7.3.9 GetMethod(V, P)\n        // https://tc39.github.io/ecma262/#sec-getmethod\n        function GetMethod(V, P) {\n            var func = V[P];\n            if (func === undefined || func === null)\n                return undefined;\n            if (!IsCallable(func))\n                throw new TypeError();\n            return func;\n        }\n        // 7.4 Operations on Iterator Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\n        function GetIterator(obj) {\n            var method = GetMethod(obj, iteratorSymbol);\n            if (!IsCallable(method))\n                throw new TypeError(); // from Call\n            var iterator = method.call(obj);\n            if (!IsObject(iterator))\n                throw new TypeError();\n            return iterator;\n        }\n        // 7.4.4 IteratorValue(iterResult)\n        // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\n        function IteratorValue(iterResult) {\n            return iterResult.value;\n        }\n        // 7.4.5 IteratorStep(iterator)\n        // https://tc39.github.io/ecma262/#sec-iteratorstep\n        function IteratorStep(iterator) {\n            var result = iterator.next();\n            return result.done ? false : result;\n        }\n        // 7.4.6 IteratorClose(iterator, completion)\n        // https://tc39.github.io/ecma262/#sec-iteratorclose\n        function IteratorClose(iterator) {\n            var f = iterator["return"];\n            if (f)\n                f.call(iterator);\n        }\n        // 9.1 Ordinary Object Internal Methods and Internal Slots\n        // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\n        // 9.1.1.1 OrdinaryGetPrototypeOf(O)\n        // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\n        function OrdinaryGetPrototypeOf(O) {\n            var proto = Object.getPrototypeOf(O);\n            if (typeof O !== "function" || O === functionPrototype)\n                return proto;\n            // TypeScript doesn\'t set __proto__ in ES5, as it\'s non-standard.\n            // Try to determine the superclass constructor. Compatible implementations\n            // must either set __proto__ on a subclass constructor to the superclass constructor,\n            // or ensure each class has a valid `constructor` property on its prototype that\n            // points back to the constructor.\n            // If this is not the same as Function.[[Prototype]], then this is definately inherited.\n            // This is the case when in ES6 or when using __proto__ in a compatible browser.\n            if (proto !== functionPrototype)\n                return proto;\n            // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\n            var prototype = O.prototype;\n            var prototypeProto = prototype && Object.getPrototypeOf(prototype);\n            if (prototypeProto == null || prototypeProto === Object.prototype)\n                return proto;\n            // If the constructor was not a function, then we cannot determine the heritage.\n            var constructor = prototypeProto.constructor;\n            if (typeof constructor !== "function")\n                return proto;\n            // If we have some kind of self-reference, then we cannot determine the heritage.\n            if (constructor === O)\n                return proto;\n            // we have a pretty good guess at the heritage.\n            return constructor;\n        }\n        // naive Map shim\n        function CreateMapPolyfill() {\n            var cacheSentinel = {};\n            var arraySentinel = [];\n            var MapIterator = /** @class */ (function () {\n                function MapIterator(keys, values, selector) {\n                    this._index = 0;\n                    this._keys = keys;\n                    this._values = values;\n                    this._selector = selector;\n                }\n                MapIterator.prototype["@@iterator"] = function () { return this; };\n                MapIterator.prototype[iteratorSymbol] = function () { return this; };\n                MapIterator.prototype.next = function () {\n                    var index = this._index;\n                    if (index >= 0 && index < this._keys.length) {\n                        var result = this._selector(this._keys[index], this._values[index]);\n                        if (index + 1 >= this._keys.length) {\n                            this._index = -1;\n                            this._keys = arraySentinel;\n                            this._values = arraySentinel;\n                        }\n                        else {\n                            this._index++;\n                        }\n                        return { value: result, done: false };\n                    }\n                    return { value: undefined, done: true };\n                };\n                MapIterator.prototype.throw = function (error) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    throw error;\n                };\n                MapIterator.prototype.return = function (value) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    return { value: value, done: true };\n                };\n                return MapIterator;\n            }());\n            return /** @class */ (function () {\n                function Map() {\n                    this._keys = [];\n                    this._values = [];\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                }\n                Object.defineProperty(Map.prototype, "size", {\n                    get: function () { return this._keys.length; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\n                Map.prototype.get = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    return index >= 0 ? this._values[index] : undefined;\n                };\n                Map.prototype.set = function (key, value) {\n                    var index = this._find(key, /*insert*/ true);\n                    this._values[index] = value;\n                    return this;\n                };\n                Map.prototype.delete = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    if (index >= 0) {\n                        var size = this._keys.length;\n                        for (var i = index + 1; i < size; i++) {\n                            this._keys[i - 1] = this._keys[i];\n                            this._values[i - 1] = this._values[i];\n                        }\n                        this._keys.length--;\n                        this._values.length--;\n                        if (key === this._cacheKey) {\n                            this._cacheKey = cacheSentinel;\n                            this._cacheIndex = -2;\n                        }\n                        return true;\n                    }\n                    return false;\n                };\n                Map.prototype.clear = function () {\n                    this._keys.length = 0;\n                    this._values.length = 0;\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                };\n                Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\n                Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\n                Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\n                Map.prototype["@@iterator"] = function () { return this.entries(); };\n                Map.prototype[iteratorSymbol] = function () { return this.entries(); };\n                Map.prototype._find = function (key, insert) {\n                    if (this._cacheKey !== key) {\n                        this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\n                    }\n                    if (this._cacheIndex < 0 && insert) {\n                        this._cacheIndex = this._keys.length;\n                        this._keys.push(key);\n                        this._values.push(undefined);\n                    }\n                    return this._cacheIndex;\n                };\n                return Map;\n            }());\n            function getKey(key, _) {\n                return key;\n            }\n            function getValue(_, value) {\n                return value;\n            }\n            function getEntry(key, value) {\n                return [key, value];\n            }\n        }\n        // naive Set shim\n        function CreateSetPolyfill() {\n            return /** @class */ (function () {\n                function Set() {\n                    this._map = new _Map();\n                }\n                Object.defineProperty(Set.prototype, "size", {\n                    get: function () { return this._map.size; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Set.prototype.has = function (value) { return this._map.has(value); };\n                Set.prototype.add = function (value) { return this._map.set(value, value), this; };\n                Set.prototype.delete = function (value) { return this._map.delete(value); };\n                Set.prototype.clear = function () { this._map.clear(); };\n                Set.prototype.keys = function () { return this._map.keys(); };\n                Set.prototype.values = function () { return this._map.values(); };\n                Set.prototype.entries = function () { return this._map.entries(); };\n                Set.prototype["@@iterator"] = function () { return this.keys(); };\n                Set.prototype[iteratorSymbol] = function () { return this.keys(); };\n                return Set;\n            }());\n        }\n        // naive WeakMap shim\n        function CreateWeakMapPolyfill() {\n            var UUID_SIZE = 16;\n            var keys = HashMap.create();\n            var rootKey = CreateUniqueKey();\n            return /** @class */ (function () {\n                function WeakMap() {\n                    this._key = CreateUniqueKey();\n                }\n                WeakMap.prototype.has = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.has(table, this._key) : false;\n                };\n                WeakMap.prototype.get = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.get(table, this._key) : undefined;\n                };\n                WeakMap.prototype.set = function (target, value) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ true);\n                    table[this._key] = value;\n                    return this;\n                };\n                WeakMap.prototype.delete = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? delete table[this._key] : false;\n                };\n                WeakMap.prototype.clear = function () {\n                    // NOTE: not a real clear, just makes the previous data unreachable\n                    this._key = CreateUniqueKey();\n                };\n                return WeakMap;\n            }());\n            function CreateUniqueKey() {\n                var key;\n                do\n                    key = "@@WeakMap@@" + CreateUUID();\n                while (HashMap.has(keys, key));\n                keys[key] = true;\n                return key;\n            }\n            function GetOrCreateWeakMapTable(target, create) {\n                if (!hasOwn.call(target, rootKey)) {\n                    if (!create)\n                        return undefined;\n                    Object.defineProperty(target, rootKey, { value: HashMap.create() });\n                }\n                return target[rootKey];\n            }\n            function FillRandomBytes(buffer, size) {\n                for (var i = 0; i < size; ++i)\n                    buffer[i] = Math.random() * 0xff | 0;\n                return buffer;\n            }\n            function GenRandomBytes(size) {\n                if (typeof Uint8Array === "function") {\n                    if (typeof crypto !== "undefined")\n                        return crypto.getRandomValues(new Uint8Array(size));\n                    if (typeof msCrypto !== "undefined")\n                        return msCrypto.getRandomValues(new Uint8Array(size));\n                    return FillRandomBytes(new Uint8Array(size), size);\n                }\n                return FillRandomBytes(new Array(size), size);\n            }\n            function CreateUUID() {\n                var data = GenRandomBytes(UUID_SIZE);\n                // mark as random - RFC 4122 Â§ 4.4\n                data[6] = data[6] & 0x4f | 0x40;\n                data[8] = data[8] & 0xbf | 0x80;\n                var result = "";\n                for (var offset = 0; offset < UUID_SIZE; ++offset) {\n                    var byte = data[offset];\n                    if (offset === 4 || offset === 6 || offset === 8)\n                        result += "-";\n                    if (byte < 16)\n                        result += "0";\n                    result += byte.toString(16).toLowerCase();\n                }\n                return result;\n            }\n        }\n        // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\n        function MakeDictionary(obj) {\n            obj.__ = undefined;\n            delete obj.__;\n            return obj;\n        }\n    });\n})(Reflect || (Reflect = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vdHMtc2hhcmVkL3R5cGVzY3JpcHQvbm9kZV9tb2R1bGVzL3JlZmxlY3QtbWV0YWRhdGEvUmVmbGVjdC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELGtEQUFrRDtBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0U7QUFDbEUsOEJBQThCLGdCQUFnQixrQkFBa0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQSxvQ0FBb0Msd0JBQXdCLGlCQUFpQjtBQUM3RSxvQ0FBb0Msd0JBQXdCLElBQUk7QUFDaEU7QUFDQSx3Q0FBd0M7QUFDeEMsd0NBQXdDLG9CQUFvQjtBQUM1RDtBQUNBLHdDQUF3QztBQUN4Qyx3Q0FBd0Msa0JBQWtCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3R0FBd0c7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELFFBQVE7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxRQUFRO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHVCQUF1QjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCwwQkFBMEI7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRTtBQUNwRSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsMkJBQTJCO0FBQ2xFO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELFVBQVU7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQscURBQXFEO0FBQ3JELHNEQUFzRDtBQUN0RCw0REFBNEQ7QUFDNUQsOERBQThEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHdCQUF3QjtBQUMvRDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLHVEQUF1RDtBQUN2RCx1REFBdUQ7QUFDdkQsMERBQTBEO0FBQzFELG9EQUFvRDtBQUNwRCxtREFBbUQ7QUFDbkQscURBQXFEO0FBQ3JELHNEQUFzRDtBQUN0RCw0REFBNEQ7QUFDNUQsOERBQThEO0FBQzlEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELHlCQUF5QjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxVQUFVO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLG9CQUFvQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDLDBCQUEwQiIsInNvdXJjZXMiOlsid2VicGFjazovL2RnLXZlaGljbGVzLy4uLy4uL3RzLXNoYXJlZC90eXBlc2NyaXB0L25vZGVfbW9kdWxlcy9yZWZsZWN0LW1ldGFkYXRhL1JlZmxlY3QuanM/ODU2MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoQykgTWljcm9zb2Z0LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXG5cblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbnZhciBSZWZsZWN0O1xuKGZ1bmN0aW9uIChSZWZsZWN0KSB7XG4gICAgLy8gTWV0YWRhdGEgUHJvcG9zYWxcbiAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhL1xuICAgIChmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICAgICB2YXIgcm9vdCA9IHR5cGVvZiBnbG9iYWwgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwgOlxuICAgICAgICAgICAgdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDpcbiAgICAgICAgICAgICAgICB0eXBlb2YgdGhpcyA9PT0gXCJvYmplY3RcIiA/IHRoaXMgOlxuICAgICAgICAgICAgICAgICAgICBGdW5jdGlvbihcInJldHVybiB0aGlzO1wiKSgpO1xuICAgICAgICB2YXIgZXhwb3J0ZXIgPSBtYWtlRXhwb3J0ZXIoUmVmbGVjdCk7XG4gICAgICAgIGlmICh0eXBlb2Ygcm9vdC5SZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByb290LlJlZmxlY3QgPSBSZWZsZWN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXhwb3J0ZXIgPSBtYWtlRXhwb3J0ZXIocm9vdC5SZWZsZWN0LCBleHBvcnRlcik7XG4gICAgICAgIH1cbiAgICAgICAgZmFjdG9yeShleHBvcnRlcik7XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VFeHBvcnRlcih0YXJnZXQsIHByZXZpb3VzKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldFtrZXldICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzKVxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91cyhrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KShmdW5jdGlvbiAoZXhwb3J0ZXIpIHtcbiAgICAgICAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gICAgICAgIC8vIGZlYXR1cmUgdGVzdCBmb3IgU3ltYm9sIHN1cHBvcnRcbiAgICAgICAgdmFyIHN1cHBvcnRzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB2YXIgdG9QcmltaXRpdmVTeW1ib2wgPSBzdXBwb3J0c1N5bWJvbCAmJiB0eXBlb2YgU3ltYm9sLnRvUHJpbWl0aXZlICE9PSBcInVuZGVmaW5lZFwiID8gU3ltYm9sLnRvUHJpbWl0aXZlIDogXCJAQHRvUHJpbWl0aXZlXCI7XG4gICAgICAgIHZhciBpdGVyYXRvclN5bWJvbCA9IHN1cHBvcnRzU3ltYm9sICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgIT09IFwidW5kZWZpbmVkXCIgPyBTeW1ib2wuaXRlcmF0b3IgOiBcIkBAaXRlcmF0b3JcIjtcbiAgICAgICAgdmFyIHN1cHBvcnRzQ3JlYXRlID0gdHlwZW9mIE9iamVjdC5jcmVhdGUgPT09IFwiZnVuY3Rpb25cIjsgLy8gZmVhdHVyZSB0ZXN0IGZvciBPYmplY3QuY3JlYXRlIHN1cHBvcnRcbiAgICAgICAgdmFyIHN1cHBvcnRzUHJvdG8gPSB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5OyAvLyBmZWF0dXJlIHRlc3QgZm9yIF9fcHJvdG9fXyBzdXBwb3J0XG4gICAgICAgIHZhciBkb3duTGV2ZWwgPSAhc3VwcG9ydHNDcmVhdGUgJiYgIXN1cHBvcnRzUHJvdG87XG4gICAgICAgIHZhciBIYXNoTWFwID0ge1xuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIG9iamVjdCBpbiBkaWN0aW9uYXJ5IG1vZGUgKGEuay5hLiBcInNsb3dcIiBtb2RlIGluIHY4KVxuICAgICAgICAgICAgY3JlYXRlOiBzdXBwb3J0c0NyZWF0ZVxuICAgICAgICAgICAgICAgID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gTWFrZURpY3Rpb25hcnkoT2JqZWN0LmNyZWF0ZShudWxsKSk7IH1cbiAgICAgICAgICAgICAgICA6IHN1cHBvcnRzUHJvdG9cbiAgICAgICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBNYWtlRGljdGlvbmFyeSh7IF9fcHJvdG9fXzogbnVsbCB9KTsgfVxuICAgICAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE1ha2VEaWN0aW9uYXJ5KHt9KTsgfSxcbiAgICAgICAgICAgIGhhczogZG93bkxldmVsXG4gICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAobWFwLCBrZXkpIHsgcmV0dXJuIGhhc093bi5jYWxsKG1hcCwga2V5KTsgfVxuICAgICAgICAgICAgICAgIDogZnVuY3Rpb24gKG1hcCwga2V5KSB7IHJldHVybiBrZXkgaW4gbWFwOyB9LFxuICAgICAgICAgICAgZ2V0OiBkb3duTGV2ZWxcbiAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4gaGFzT3duLmNhbGwobWFwLCBrZXkpID8gbWFwW2tleV0gOiB1bmRlZmluZWQ7IH1cbiAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4gbWFwW2tleV07IH0sXG4gICAgICAgIH07XG4gICAgICAgIC8vIExvYWQgZ2xvYmFsIG9yIHNoaW0gdmVyc2lvbnMgb2YgTWFwLCBTZXQsIGFuZCBXZWFrTWFwXG4gICAgICAgIHZhciBmdW5jdGlvblByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihGdW5jdGlvbik7XG4gICAgICAgIHZhciB1c2VQb2x5ZmlsbCA9IHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MuZW52ICYmIHByb2Nlc3MuZW52W1wiUkVGTEVDVF9NRVRBREFUQV9VU0VfTUFQX1BPTFlGSUxMXCJdID09PSBcInRydWVcIjtcbiAgICAgICAgdmFyIF9NYXAgPSAhdXNlUG9seWZpbGwgJiYgdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBNYXAucHJvdG90eXBlLmVudHJpZXMgPT09IFwiZnVuY3Rpb25cIiA/IE1hcCA6IENyZWF0ZU1hcFBvbHlmaWxsKCk7XG4gICAgICAgIHZhciBfU2V0ID0gIXVzZVBvbHlmaWxsICYmIHR5cGVvZiBTZXQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU2V0LnByb3RvdHlwZS5lbnRyaWVzID09PSBcImZ1bmN0aW9uXCIgPyBTZXQgOiBDcmVhdGVTZXRQb2x5ZmlsbCgpO1xuICAgICAgICB2YXIgX1dlYWtNYXAgPSAhdXNlUG9seWZpbGwgJiYgdHlwZW9mIFdlYWtNYXAgPT09IFwiZnVuY3Rpb25cIiA/IFdlYWtNYXAgOiBDcmVhdGVXZWFrTWFwUG9seWZpbGwoKTtcbiAgICAgICAgLy8gW1tNZXRhZGF0YV1dIGludGVybmFsIHNsb3RcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnktb2JqZWN0LWludGVybmFsLW1ldGhvZHMtYW5kLWludGVybmFsLXNsb3RzXG4gICAgICAgIHZhciBNZXRhZGF0YSA9IG5ldyBfV2Vha01hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXBwbGllcyBhIHNldCBvZiBkZWNvcmF0b3JzIHRvIGEgcHJvcGVydHkgb2YgYSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gZGVjb3JhdG9ycyBBbiBhcnJheSBvZiBkZWNvcmF0b3JzLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IHRvIGRlY29yYXRlLlxuICAgICAgICAgKiBAcGFyYW0gYXR0cmlidXRlcyAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIGZvciB0aGUgdGFyZ2V0IGtleS5cbiAgICAgICAgICogQHJlbWFya3MgRGVjb3JhdG9ycyBhcmUgYXBwbGllZCBpbiByZXZlcnNlIG9yZGVyLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICBFeGFtcGxlID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgIFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9yc0FycmF5LCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIixcbiAgICAgICAgICogICAgICAgICBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnNBcnJheSwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIsXG4gICAgICAgICAqICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBkZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSkge1xuICAgICAgICAgICAgICAgIGlmICghSXNBcnJheShkZWNvcmF0b3JzKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QoYXR0cmlidXRlcykgJiYgIUlzVW5kZWZpbmVkKGF0dHJpYnV0ZXMpICYmICFJc051bGwoYXR0cmlidXRlcykpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoSXNOdWxsKGF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERlY29yYXRlUHJvcGVydHkoZGVjb3JhdG9ycywgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgYXR0cmlidXRlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIUlzQXJyYXkoZGVjb3JhdG9ycykpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzQ29uc3RydWN0b3IodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBEZWNvcmF0ZUNvbnN0cnVjdG9yKGRlY29yYXRvcnMsIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJkZWNvcmF0ZVwiLCBkZWNvcmF0ZSk7XG4gICAgICAgIC8vIDQuMS4yIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI3JlZmxlY3QubWV0YWRhdGFcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZGVmYXVsdCBtZXRhZGF0YSBkZWNvcmF0b3IgZmFjdG9yeSB0aGF0IGNhbiBiZSB1c2VkIG9uIGEgY2xhc3MsIGNsYXNzIG1lbWJlciwgb3IgcGFyYW1ldGVyLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgVGhlIGtleSBmb3IgdGhlIG1ldGFkYXRhIGVudHJ5LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFWYWx1ZSBUaGUgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBlbnRyeS5cbiAgICAgICAgICogQHJldHVybnMgQSBkZWNvcmF0b3IgZnVuY3Rpb24uXG4gICAgICAgICAqIEByZW1hcmtzXG4gICAgICAgICAqIElmIGBtZXRhZGF0YUtleWAgaXMgYWxyZWFkeSBkZWZpbmVkIGZvciB0aGUgdGFyZ2V0IGFuZCB0YXJnZXQga2V5LCB0aGVcbiAgICAgICAgICogbWV0YWRhdGFWYWx1ZSBmb3IgdGhhdCBrZXkgd2lsbCBiZSBvdmVyd3JpdHRlbi5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IsIFR5cGVTY3JpcHQgb25seSlcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIEBSZWZsZWN0Lm1ldGFkYXRhKGtleSwgdmFsdWUpXG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSwgVHlwZVNjcmlwdCBvbmx5KVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBwcm9wZXJ0eTtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QoKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBtZXRob2QoKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpICYmICFJc1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUsIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlY29yYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcIm1ldGFkYXRhXCIsIG1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZSBhIHVuaXF1ZSBtZXRhZGF0YSBlbnRyeSBvbiB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YVZhbHVlIEEgdmFsdWUgdGhhdCBjb250YWlucyBhdHRhY2hlZCBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0byBkZWZpbmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBkZWNvcmF0b3IgZmFjdG9yeSBhcyBtZXRhZGF0YS1wcm9kdWNpbmcgYW5ub3RhdGlvbi5cbiAgICAgICAgICogICAgIGZ1bmN0aW9uIE15QW5ub3RhdGlvbihvcHRpb25zKTogRGVjb3JhdG9yIHtcbiAgICAgICAgICogICAgICAgICByZXR1cm4gKHRhcmdldCwga2V5PykgPT4gUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIHRhcmdldCwga2V5KTtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZU1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImRlZmluZU1ldGFkYXRhXCIsIGRlZmluZU1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbiBoYXMgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWV0YWRhdGEga2V5IHdhcyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0IG9yIGl0cyBwcm90b3R5cGUgY2hhaW47IG90aGVyd2lzZSwgYGZhbHNlYC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGhhc01ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUhhc01ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImhhc01ldGFkYXRhXCIsIGhhc01ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHRhcmdldCBvYmplY3QgaGFzIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG1ldGFkYXRhIGtleSB3YXMgZGVmaW5lZCBvbiB0aGUgdGFyZ2V0IG9iamVjdDsgb3RoZXJ3aXNlLCBgZmFsc2VgLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaGFzT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5SGFzT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiaGFzT3duTWV0YWRhdGFcIiwgaGFzT3duTWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgb24gdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBrZXkgaWYgZm91bmQ7IG90aGVyd2lzZSwgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRNZXRhZGF0YVwiLCBnZXRNZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSB2YWx1ZSBmb3IgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBvbiB0aGUgdGFyZ2V0IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBrZXkgaWYgZm91bmQ7IG90aGVyd2lzZSwgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRPd25NZXRhZGF0YVwiLCBnZXRPd25NZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSBrZXlzIGRlZmluZWQgb24gdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgdW5pcXVlIG1ldGFkYXRhIGtleXMuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGFLZXlzKEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0TWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5TWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZ2V0TWV0YWRhdGFLZXlzXCIsIGdldE1ldGFkYXRhS2V5cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSB1bmlxdWUgbWV0YWRhdGEga2V5cyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiB1bmlxdWUgbWV0YWRhdGEga2V5cy5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRPd25NZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlPd25NZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRPd25NZXRhZGF0YUtleXNcIiwgZ2V0T3duTWV0YWRhdGFLZXlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlbGV0ZXMgdGhlIG1ldGFkYXRhIGVudHJ5IGZyb20gdGhlIHRhcmdldCBvYmplY3Qgd2l0aCB0aGUgcHJvdmlkZWQga2V5LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWV0YWRhdGEgZW50cnkgd2FzIGZvdW5kIGFuZCBkZWxldGVkOyBvdGhlcndpc2UsIGZhbHNlLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcCh0YXJnZXQsIHByb3BlcnR5S2V5LCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKCFtZXRhZGF0YU1hcC5kZWxldGUobWV0YWRhdGFLZXkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YU1hcC5zaXplID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHZhciB0YXJnZXRNZXRhZGF0YSA9IE1ldGFkYXRhLmdldCh0YXJnZXQpO1xuICAgICAgICAgICAgdGFyZ2V0TWV0YWRhdGEuZGVsZXRlKHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRNZXRhZGF0YS5zaXplID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIE1ldGFkYXRhLmRlbGV0ZSh0YXJnZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJkZWxldGVNZXRhZGF0YVwiLCBkZWxldGVNZXRhZGF0YSk7XG4gICAgICAgIGZ1bmN0aW9uIERlY29yYXRlQ29uc3RydWN0b3IoZGVjb3JhdG9ycywgdGFyZ2V0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0ZWQgPSBkZWNvcmF0b3IodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKGRlY29yYXRlZCkgJiYgIUlzTnVsbChkZWNvcmF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNDb25zdHJ1Y3RvcihkZWNvcmF0ZWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBkZWNvcmF0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBEZWNvcmF0ZVByb3BlcnR5KGRlY29yYXRvcnMsIHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRlZCA9IGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKGRlY29yYXRlZCkgJiYgIUlzTnVsbChkZWNvcmF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QoZGVjb3JhdGVkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvciA9IGRlY29yYXRlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIENyZWF0ZSkge1xuICAgICAgICAgICAgdmFyIHRhcmdldE1ldGFkYXRhID0gTWV0YWRhdGEuZ2V0KE8pO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKHRhcmdldE1ldGFkYXRhKSkge1xuICAgICAgICAgICAgICAgIGlmICghQ3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRhcmdldE1ldGFkYXRhID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICBNZXRhZGF0YS5zZXQoTywgdGFyZ2V0TWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gdGFyZ2V0TWV0YWRhdGEuZ2V0KFApO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSkge1xuICAgICAgICAgICAgICAgIGlmICghQ3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhTWFwID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRNZXRhZGF0YS5zZXQoUCwgbWV0YWRhdGFNYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhTWFwO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4xLjEgT3JkaW5hcnlIYXNNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnloYXNtZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUhhc01ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgaGFzT3duID0gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gICAgICAgICAgICBpZiAoaGFzT3duKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTyk7XG4gICAgICAgICAgICBpZiAoIUlzTnVsbChwYXJlbnQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUhhc01ldGFkYXRhKE1ldGFkYXRhS2V5LCBwYXJlbnQsIFApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4yLjEgT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnloYXNvd25tZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUhhc093bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIC8qQ3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gVG9Cb29sZWFuKG1ldGFkYXRhTWFwLmhhcyhNZXRhZGF0YUtleSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4zLjEgT3JkaW5hcnlHZXRNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnlnZXRtZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUdldE1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgaGFzT3duID0gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gICAgICAgICAgICBpZiAoaGFzT3duKVxuICAgICAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKTtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pO1xuICAgICAgICAgICAgaWYgKCFJc051bGwocGFyZW50KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRNZXRhZGF0YShNZXRhZGF0YUtleSwgcGFyZW50LCBQKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjQuMSBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWdldG93bm1ldGFkYXRhXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5R2V0T3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApIHtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgLypDcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQobWV0YWRhdGFNYXApKVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gbWV0YWRhdGFNYXAuZ2V0KE1ldGFkYXRhS2V5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNS4xIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE1ldGFkYXRhVmFsdWUsIE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5ZGVmaW5lb3dubWV0YWRhdGFcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTWV0YWRhdGFWYWx1ZSwgTywgUCkge1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIHRydWUpO1xuICAgICAgICAgICAgbWV0YWRhdGFNYXAuc2V0KE1ldGFkYXRhS2V5LCBNZXRhZGF0YVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNi4xIE9yZGluYXJ5TWV0YWRhdGFLZXlzKE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5bWV0YWRhdGFrZXlzXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5TWV0YWRhdGFLZXlzKE8sIFApIHtcbiAgICAgICAgICAgIHZhciBvd25LZXlzID0gT3JkaW5hcnlPd25NZXRhZGF0YUtleXMoTywgUCk7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gT3JkaW5hcnlHZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG93bktleXM7XG4gICAgICAgICAgICB2YXIgcGFyZW50S2V5cyA9IE9yZGluYXJ5TWV0YWRhdGFLZXlzKHBhcmVudCwgUCk7XG4gICAgICAgICAgICBpZiAocGFyZW50S2V5cy5sZW5ndGggPD0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gb3duS2V5cztcbiAgICAgICAgICAgIGlmIChvd25LZXlzLmxlbmd0aCA8PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRLZXlzO1xuICAgICAgICAgICAgdmFyIHNldCA9IG5ldyBfU2V0KCk7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBvd25LZXlzXzEgPSBvd25LZXlzOyBfaSA8IG93bktleXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gb3duS2V5c18xW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gc2V0LmhhcyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBwYXJlbnRLZXlzXzEgPSBwYXJlbnRLZXlzOyBfYSA8IHBhcmVudEtleXNfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gcGFyZW50S2V5c18xW19hXTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gc2V0LmhhcyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjcuMSBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeW93bm1ldGFkYXRha2V5c1xuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgICB2YXIga2V5c09iaiA9IG1ldGFkYXRhTWFwLmtleXMoKTtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IEdldEl0ZXJhdG9yKGtleXNPYmopO1xuICAgICAgICAgICAgdmFyIGsgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IEl0ZXJhdG9yU3RlcChpdGVyYXRvcik7XG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMubGVuZ3RoID0gaztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBuZXh0VmFsdWUgPSBJdGVyYXRvclZhbHVlKG5leHQpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXNba10gPSBuZXh0VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDYgRUNNQVNjcmlwdCBEYXRhIFR5cDBlcyBhbmQgVmFsdWVzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtZGF0YS10eXBlcy1hbmQtdmFsdWVzXG4gICAgICAgIGZ1bmN0aW9uIFR5cGUoeCkge1xuICAgICAgICAgICAgaWYgKHggPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogTnVsbCAqLztcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6IHJldHVybiAwIC8qIFVuZGVmaW5lZCAqLztcbiAgICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOiByZXR1cm4gMiAvKiBCb29sZWFuICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjogcmV0dXJuIDMgLyogU3RyaW5nICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjogcmV0dXJuIDQgLyogU3ltYm9sICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjogcmV0dXJuIDUgLyogTnVtYmVyICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjogcmV0dXJuIHggPT09IG51bGwgPyAxIC8qIE51bGwgKi8gOiA2IC8qIE9iamVjdCAqLztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gNiAvKiBPYmplY3QgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjEgVGhlIFVuZGVmaW5lZCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMtdW5kZWZpbmVkLXR5cGVcbiAgICAgICAgZnVuY3Rpb24gSXNVbmRlZmluZWQoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHggPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuMiBUaGUgTnVsbCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMtbnVsbC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzTnVsbCh4KSB7XG4gICAgICAgICAgICByZXR1cm4geCA9PT0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuNSBUaGUgU3ltYm9sIFR5cGVcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcy1zeW1ib2wtdHlwZVxuICAgICAgICBmdW5jdGlvbiBJc1N5bWJvbCh4KSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjcgVGhlIE9iamVjdCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzT2JqZWN0KHgpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiA/IHggIT09IG51bGwgOiB0eXBlb2YgeCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMSBUeXBlIENvbnZlcnNpb25cbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdHlwZS1jb252ZXJzaW9uXG4gICAgICAgIC8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b3ByaW1pdGl2ZVxuICAgICAgICBmdW5jdGlvbiBUb1ByaW1pdGl2ZShpbnB1dCwgUHJlZmVycmVkVHlwZSkge1xuICAgICAgICAgICAgc3dpdGNoIChUeXBlKGlucHV0KSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBVbmRlZmluZWQgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDEgLyogTnVsbCAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBCb29sZWFuICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICAgICAgY2FzZSAzIC8qIFN0cmluZyAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBTeW1ib2wgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDUgLyogTnVtYmVyICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaGludCA9IFByZWZlcnJlZFR5cGUgPT09IDMgLyogU3RyaW5nICovID8gXCJzdHJpbmdcIiA6IFByZWZlcnJlZFR5cGUgPT09IDUgLyogTnVtYmVyICovID8gXCJudW1iZXJcIiA6IFwiZGVmYXVsdFwiO1xuICAgICAgICAgICAgdmFyIGV4b3RpY1RvUHJpbSA9IEdldE1ldGhvZChpbnB1dCwgdG9QcmltaXRpdmVTeW1ib2wpO1xuICAgICAgICAgICAgaWYgKGV4b3RpY1RvUHJpbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGV4b3RpY1RvUHJpbS5jYWxsKGlucHV0LCBoaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlUb1ByaW1pdGl2ZShpbnB1dCwgaGludCA9PT0gXCJkZWZhdWx0XCIgPyBcIm51bWJlclwiIDogaGludCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjEuMSBPcmRpbmFyeVRvUHJpbWl0aXZlKE8sIGhpbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9yZGluYXJ5dG9wcmltaXRpdmVcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlUb1ByaW1pdGl2ZShPLCBoaW50KSB7XG4gICAgICAgICAgICBpZiAoaGludCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHZhciB0b1N0cmluZ18xID0gTy50b1N0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh0b1N0cmluZ18xKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdG9TdHJpbmdfMS5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVPZiA9IE8udmFsdWVPZjtcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh2YWx1ZU9mKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdmFsdWVPZi5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZU9mID0gTy52YWx1ZU9mO1xuICAgICAgICAgICAgICAgIGlmIChJc0NhbGxhYmxlKHZhbHVlT2YpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB2YWx1ZU9mLmNhbGwoTyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB0b1N0cmluZ18yID0gTy50b1N0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh0b1N0cmluZ18yKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdG9TdHJpbmdfMi5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMiBUb0Jvb2xlYW4oYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8yMDE2LyNzZWMtdG9ib29sZWFuXG4gICAgICAgIGZ1bmN0aW9uIFRvQm9vbGVhbihhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuICEhYXJndW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjEyIFRvU3RyaW5nKGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b3N0cmluZ1xuICAgICAgICBmdW5jdGlvbiBUb1N0cmluZyhhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCIgKyBhcmd1bWVudDtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMTQgVG9Qcm9wZXJ0eUtleShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9wcm9wZXJ0eWtleVxuICAgICAgICBmdW5jdGlvbiBUb1Byb3BlcnR5S2V5KGFyZ3VtZW50KSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gVG9QcmltaXRpdmUoYXJndW1lbnQsIDMgLyogU3RyaW5nICovKTtcbiAgICAgICAgICAgIGlmIChJc1N5bWJvbChrZXkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICByZXR1cm4gVG9TdHJpbmcoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjIgVGVzdGluZyBhbmQgQ29tcGFyaXNvbiBPcGVyYXRpb25zXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRlc3RpbmctYW5kLWNvbXBhcmlzb24tb3BlcmF0aW9uc1xuICAgICAgICAvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pc2FycmF5XG4gICAgICAgIGZ1bmN0aW9uIElzQXJyYXkoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5XG4gICAgICAgICAgICAgICAgPyBBcnJheS5pc0FycmF5KGFyZ3VtZW50KVxuICAgICAgICAgICAgICAgIDogYXJndW1lbnQgaW5zdGFuY2VvZiBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgPyBhcmd1bWVudCBpbnN0YW5jZW9mIEFycmF5XG4gICAgICAgICAgICAgICAgICAgIDogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMi4zIElzQ2FsbGFibGUoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzY2FsbGFibGVcbiAgICAgICAgZnVuY3Rpb24gSXNDYWxsYWJsZShhcmd1bWVudCkge1xuICAgICAgICAgICAgLy8gTk9URTogVGhpcyBpcyBhbiBhcHByb3hpbWF0aW9uIGFzIHdlIGNhbm5vdCBjaGVjayBmb3IgW1tDYWxsXV0gaW50ZXJuYWwgbWV0aG9kLlxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBhcmd1bWVudCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMi40IElzQ29uc3RydWN0b3IoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzY29uc3RydWN0b3JcbiAgICAgICAgZnVuY3Rpb24gSXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkge1xuICAgICAgICAgICAgLy8gTk9URTogVGhpcyBpcyBhbiBhcHByb3hpbWF0aW9uIGFzIHdlIGNhbm5vdCBjaGVjayBmb3IgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbCBtZXRob2QuXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGFyZ3VtZW50ID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4yLjcgSXNQcm9wZXJ0eUtleShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXNwcm9wZXJ0eWtleVxuICAgICAgICBmdW5jdGlvbiBJc1Byb3BlcnR5S2V5KGFyZ3VtZW50KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKFR5cGUoYXJndW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAzIC8qIFN0cmluZyAqLzogcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0IC8qIFN5bWJvbCAqLzogcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDcuMyBPcGVyYXRpb25zIG9uIE9iamVjdHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3BlcmF0aW9ucy1vbi1vYmplY3RzXG4gICAgICAgIC8vIDcuMy45IEdldE1ldGhvZChWLCBQKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1nZXRtZXRob2RcbiAgICAgICAgZnVuY3Rpb24gR2V0TWV0aG9kKFYsIFApIHtcbiAgICAgICAgICAgIHZhciBmdW5jID0gVltQXTtcbiAgICAgICAgICAgIGlmIChmdW5jID09PSB1bmRlZmluZWQgfHwgZnVuYyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKCFJc0NhbGxhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNCBPcGVyYXRpb25zIG9uIEl0ZXJhdG9yIE9iamVjdHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3BlcmF0aW9ucy1vbi1pdGVyYXRvci1vYmplY3RzXG4gICAgICAgIGZ1bmN0aW9uIEdldEl0ZXJhdG9yKG9iaikge1xuICAgICAgICAgICAgdmFyIG1ldGhvZCA9IEdldE1ldGhvZChvYmosIGl0ZXJhdG9yU3ltYm9sKTtcbiAgICAgICAgICAgIGlmICghSXNDYWxsYWJsZShtZXRob2QpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTsgLy8gZnJvbSBDYWxsXG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBtZXRob2QuY2FsbChvYmopO1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdChpdGVyYXRvcikpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNC40IEl0ZXJhdG9yVmFsdWUoaXRlclJlc3VsdClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLzIwMTYvI3NlYy1pdGVyYXRvcnZhbHVlXG4gICAgICAgIGZ1bmN0aW9uIEl0ZXJhdG9yVmFsdWUoaXRlclJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJSZXN1bHQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40LjUgSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pdGVyYXRvcnN0ZXBcbiAgICAgICAgZnVuY3Rpb24gSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gZmFsc2UgOiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXRlcmF0b3JjbG9zZVxuICAgICAgICBmdW5jdGlvbiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgZiA9IGl0ZXJhdG9yW1wicmV0dXJuXCJdO1xuICAgICAgICAgICAgaWYgKGYpXG4gICAgICAgICAgICAgICAgZi5jYWxsKGl0ZXJhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA5LjEgT3JkaW5hcnkgT2JqZWN0IEludGVybmFsIE1ldGhvZHMgYW5kIEludGVybmFsIFNsb3RzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9yZGluYXJ5LW9iamVjdC1pbnRlcm5hbC1tZXRob2RzLWFuZC1pbnRlcm5hbC1zbG90c1xuICAgICAgICAvLyA5LjEuMS4xIE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTylcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3JkaW5hcnlnZXRwcm90b3R5cGVvZlxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pIHtcbiAgICAgICAgICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgTyAhPT0gXCJmdW5jdGlvblwiIHx8IE8gPT09IGZ1bmN0aW9uUHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIFR5cGVTY3JpcHQgZG9lc24ndCBzZXQgX19wcm90b19fIGluIEVTNSwgYXMgaXQncyBub24tc3RhbmRhcmQuXG4gICAgICAgICAgICAvLyBUcnkgdG8gZGV0ZXJtaW5lIHRoZSBzdXBlcmNsYXNzIGNvbnN0cnVjdG9yLiBDb21wYXRpYmxlIGltcGxlbWVudGF0aW9uc1xuICAgICAgICAgICAgLy8gbXVzdCBlaXRoZXIgc2V0IF9fcHJvdG9fXyBvbiBhIHN1YmNsYXNzIGNvbnN0cnVjdG9yIHRvIHRoZSBzdXBlcmNsYXNzIGNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgLy8gb3IgZW5zdXJlIGVhY2ggY2xhc3MgaGFzIGEgdmFsaWQgYGNvbnN0cnVjdG9yYCBwcm9wZXJ0eSBvbiBpdHMgcHJvdG90eXBlIHRoYXRcbiAgICAgICAgICAgIC8vIHBvaW50cyBiYWNrIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgbm90IHRoZSBzYW1lIGFzIEZ1bmN0aW9uLltbUHJvdG90eXBlXV0sIHRoZW4gdGhpcyBpcyBkZWZpbmF0ZWx5IGluaGVyaXRlZC5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlbiBpbiBFUzYgb3Igd2hlbiB1c2luZyBfX3Byb3RvX18gaW4gYSBjb21wYXRpYmxlIGJyb3dzZXIuXG4gICAgICAgICAgICBpZiAocHJvdG8gIT09IGZ1bmN0aW9uUHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIElmIHRoZSBzdXBlciBwcm90b3R5cGUgaXMgT2JqZWN0LnByb3RvdHlwZSwgbnVsbCwgb3IgdW5kZWZpbmVkLCB0aGVuIHdlIGNhbm5vdCBkZXRlcm1pbmUgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgdmFyIHByb3RvdHlwZSA9IE8ucHJvdG90eXBlO1xuICAgICAgICAgICAgdmFyIHByb3RvdHlwZVByb3RvID0gcHJvdG90eXBlICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpO1xuICAgICAgICAgICAgaWYgKHByb3RvdHlwZVByb3RvID09IG51bGwgfHwgcHJvdG90eXBlUHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGNvbnN0cnVjdG9yIHdhcyBub3QgYSBmdW5jdGlvbiwgdGhlbiB3ZSBjYW5ub3QgZGV0ZXJtaW5lIHRoZSBoZXJpdGFnZS5cbiAgICAgICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IHByb3RvdHlwZVByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zdHJ1Y3RvciAhPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgc29tZSBraW5kIG9mIHNlbGYtcmVmZXJlbmNlLCB0aGVuIHdlIGNhbm5vdCBkZXRlcm1pbmUgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgaWYgKGNvbnN0cnVjdG9yID09PSBPKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgYSBwcmV0dHkgZ29vZCBndWVzcyBhdCB0aGUgaGVyaXRhZ2UuXG4gICAgICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFpdmUgTWFwIHNoaW1cbiAgICAgICAgZnVuY3Rpb24gQ3JlYXRlTWFwUG9seWZpbGwoKSB7XG4gICAgICAgICAgICB2YXIgY2FjaGVTZW50aW5lbCA9IHt9O1xuICAgICAgICAgICAgdmFyIGFycmF5U2VudGluZWwgPSBbXTtcbiAgICAgICAgICAgIHZhciBNYXBJdGVyYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNYXBJdGVyYXRvcihrZXlzLCB2YWx1ZXMsIHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGtleXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlW1wiQEBpdGVyYXRvclwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2luZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuX2tleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fc2VsZWN0b3IodGhpcy5fa2V5c1tpbmRleF0sIHRoaXMuX3ZhbHVlc1tpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICsgMSA+PSB0aGlzLl9rZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogcmVzdWx0LCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS50aHJvdyA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS5yZXR1cm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2luZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWFwSXRlcmF0b3I7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNYXAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlS2V5ID0gY2FjaGVTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9rZXlzLmxlbmd0aDsgfSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiB0aGlzLl9maW5kKGtleSwgLyppbnNlcnQqLyBmYWxzZSkgPj0gMDsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fZmluZChrZXksIC8qaW5zZXJ0Ki8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXggPj0gMCA/IHRoaXMuX3ZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5fa2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gaW5kZXggKyAxOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5c1tpIC0gMV0gPSB0aGlzLl9rZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpIC0gMV0gPSB0aGlzLl92YWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzLmxlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzLmxlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gdGhpcy5fY2FjaGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUtleSA9IGNhY2hlU2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVLZXkgPSBjYWNoZVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUluZGV4ID0gLTI7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcy5fa2V5cywgdGhpcy5fdmFsdWVzLCBnZXRLZXkpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMuX2tleXMsIHRoaXMuX3ZhbHVlcywgZ2V0VmFsdWUpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBNYXBJdGVyYXRvcih0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMsIGdldEVudHJ5KTsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlW1wiQEBpdGVyYXRvclwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZW50cmllcygpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5lbnRyaWVzKCk7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5fZmluZCA9IGZ1bmN0aW9uIChrZXksIGluc2VydCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVLZXkgIT09IGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IHRoaXMuX2tleXMuaW5kZXhPZih0aGlzLl9jYWNoZUtleSA9IGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlSW5kZXggPCAwICYmIGluc2VydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IHRoaXMuX2tleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUluZGV4O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hcDtcbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRLZXkoa2V5LCBfKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFZhbHVlKF8sIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RW50cnkoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBba2V5LCB2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFpdmUgU2V0IHNoaW1cbiAgICAgICAgZnVuY3Rpb24gQ3JlYXRlU2V0UG9seWZpbGwoKSB7XG4gICAgICAgICAgICByZXR1cm4gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFNldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNldC5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLnNpemU7IH0sXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0aGlzLl9tYXAuaGFzKHZhbHVlKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdGhpcy5fbWFwLnNldCh2YWx1ZSwgdmFsdWUpLCB0aGlzOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0aGlzLl9tYXAuZGVsZXRlKHZhbHVlKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgeyB0aGlzLl9tYXAuY2xlYXIoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9tYXAua2V5cygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLnZhbHVlcygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX21hcC5lbnRyaWVzKCk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZVtcIkBAaXRlcmF0b3JcIl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmtleXMoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMua2V5cygpOyB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBTZXQ7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5haXZlIFdlYWtNYXAgc2hpbVxuICAgICAgICBmdW5jdGlvbiBDcmVhdGVXZWFrTWFwUG9seWZpbGwoKSB7XG4gICAgICAgICAgICB2YXIgVVVJRF9TSVpFID0gMTY7XG4gICAgICAgICAgICB2YXIga2V5cyA9IEhhc2hNYXAuY3JlYXRlKCk7XG4gICAgICAgICAgICB2YXIgcm9vdEtleSA9IENyZWF0ZVVuaXF1ZUtleSgpO1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBXZWFrTWFwKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXkgPSBDcmVhdGVVbmlxdWVLZXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgV2Vha01hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUgIT09IHVuZGVmaW5lZCA/IEhhc2hNYXAuaGFzKHRhYmxlLCB0aGlzLl9rZXkpIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZSAhPT0gdW5kZWZpbmVkID8gSGFzaE1hcC5nZXQodGFibGUsIHRoaXMuX2tleSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAodGFyZ2V0LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlW3RoaXMuX2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZSAhPT0gdW5kZWZpbmVkID8gZGVsZXRlIHRhYmxlW3RoaXMuX2tleV0gOiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFdlYWtNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBub3QgYSByZWFsIGNsZWFyLCBqdXN0IG1ha2VzIHRoZSBwcmV2aW91cyBkYXRhIHVucmVhY2hhYmxlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleSA9IENyZWF0ZVVuaXF1ZUtleSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIFdlYWtNYXA7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlVW5pcXVlS2V5KCkge1xuICAgICAgICAgICAgICAgIHZhciBrZXk7XG4gICAgICAgICAgICAgICAgZG9cbiAgICAgICAgICAgICAgICAgICAga2V5ID0gXCJAQFdlYWtNYXBAQFwiICsgQ3JlYXRlVVVJRCgpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChIYXNoTWFwLmhhcyhrZXlzLCBrZXkpKTtcbiAgICAgICAgICAgICAgICBrZXlzW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIGNyZWF0ZSkge1xuICAgICAgICAgICAgICAgIGlmICghaGFzT3duLmNhbGwodGFyZ2V0LCByb290S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNyZWF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHJvb3RLZXksIHsgdmFsdWU6IEhhc2hNYXAuY3JlYXRlKCkgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRbcm9vdEtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBGaWxsUmFuZG9tQnl0ZXMoYnVmZmVyLCBzaXplKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcltpXSA9IE1hdGgucmFuZG9tKCkgKiAweGZmIHwgMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gR2VuUmFuZG9tQnl0ZXMoc2l6ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgVWludDhBcnJheSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3J5cHRvICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1zQ3J5cHRvICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShzaXplKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGaWxsUmFuZG9tQnl0ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSksIHNpemUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gRmlsbFJhbmRvbUJ5dGVzKG5ldyBBcnJheShzaXplKSwgc2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVVVUlEKCkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gR2VuUmFuZG9tQnl0ZXMoVVVJRF9TSVpFKTtcbiAgICAgICAgICAgICAgICAvLyBtYXJrIGFzIHJhbmRvbSAtIFJGQyA0MTIyIMKnIDQuNFxuICAgICAgICAgICAgICAgIGRhdGFbNl0gPSBkYXRhWzZdICYgMHg0ZiB8IDB4NDA7XG4gICAgICAgICAgICAgICAgZGF0YVs4XSA9IGRhdGFbOF0gJiAweGJmIHwgMHg4MDtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBVVUlEX1NJWkU7ICsrb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBieXRlID0gZGF0YVtvZmZzZXRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ID09PSA0IHx8IG9mZnNldCA9PT0gNiB8fCBvZmZzZXQgPT09IDgpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCItXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChieXRlIDwgMTYpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCIwXCI7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBieXRlLnRvU3RyaW5nKDE2KS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHVzZXMgYSBoZXVyaXN0aWMgdXNlZCBieSB2OCBhbmQgY2hha3JhIHRvIGZvcmNlIGFuIG9iamVjdCBpbnRvIGRpY3Rpb25hcnkgbW9kZS5cbiAgICAgICAgZnVuY3Rpb24gTWFrZURpY3Rpb25hcnkob2JqKSB7XG4gICAgICAgICAgICBvYmouX18gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBkZWxldGUgb2JqLl9fO1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoUmVmbGVjdCB8fCAoUmVmbGVjdCA9IHt9KSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../ts-shared/typescript/node_modules/reflect-metadata/Reflect.js\n')}},__webpack_module_cache__={};function __webpack_require__(I){var g=__webpack_module_cache__[I];if(void 0!==g)return g.exports;var C=__webpack_module_cache__[I]={exports:{}};return __webpack_modules__[I].call(C.exports,C,C.exports,__webpack_require__),C.exports}var __webpack_exports__=__webpack_require__("./src/client/client.ts")})();